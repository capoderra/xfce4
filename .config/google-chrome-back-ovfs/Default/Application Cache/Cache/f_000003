(function(){function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function h(a){return function(){return this[a]}}function ca(a){return function(){return a}}var k,da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function fa(){fa=aa();ea.Symbol||(ea.Symbol=ga)}var ia=0;function ga(a){return"jscomp_symbol_"+(a||"")+ia++}function ja(){fa();var a=ea.Symbol.iterator;a||(a=ea.Symbol.iterator=ea.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&da(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(this)}});ja=aa()}function ka(a){var b=0;return ma(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}
function ma(a){ja();a={next:a};a[ea.Symbol.iterator]=function(){return this};return a}function na(a){ja();var b=a[Symbol.iterator];return b?b.call(a):ka(a)}for(var oa=ea,pa=["Promise"],qa=0;qa<pa.length-1;qa++){var ra=pa[qa];ra in oa||(oa[ra]={});oa=oa[ra]}
var sa=pa[pa.length-1],ta=oa[sa],ua=function(){function a(a){this.g=0;this.v=void 0;this.j=[];var b=this.A();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}}function b(){this.g=null}if(ta)return ta;b.prototype.j=function(a){null==this.g&&(this.g=[],this.v());this.g.push(a)};b.prototype.v=function(){var a=this;this.o(function(){a.B()})};var c=ea.setTimeout;b.prototype.o=function(a){c(a,0)};b.prototype.B=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var b=0;b<a.length;++b){var c=
a[b];delete a[b];try{c()}catch(l){this.A(l)}}}this.g=null};b.prototype.A=function(a){this.o(function(){throw a;})};a.prototype.A=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.D),reject:a(this.B)}};a.prototype.D=function(b){if(b===this)this.B(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.G(b);else{var c;a:switch(typeof b){case "object":c=null!=b;break a;case "function":c=!0;break a;default:c=!1}c?this.W(b):
this.C(b)}};a.prototype.W=function(a){var b=void 0;try{b=a.then}catch(g){this.B(g);return}"function"==typeof b?this.I(b,a):this.C(a)};a.prototype.B=function(a){this.N(2,a)};a.prototype.C=function(a){this.N(1,a)};a.prototype.N=function(a,b){if(0!=this.g)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.g);this.g=a;this.v=b;this.H()};a.prototype.H=function(){if(null!=this.j){for(var a=this.j,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.j=null}};var d=new b;a.prototype.G=
function(a){var b=this.A();a.o(b.resolve,b.reject)};a.prototype.I=function(a,b){var c=this.A();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};a.prototype.then=function(b,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(Q){f(Q)}}:b}var e,f,u=new a(function(a,b){e=a;f=b});this.o(d(b,e),d(c,f));return u};a.prototype.o=function(a,b){function c(){switch(e.g){case 1:a(e.v);break;case 2:b(e.v);break;default:throw Error("Unexpected state: "+e.g);}}var e=this;null==this.j?
d.j(c):this.j.push(function(){d.j(c)})};a.resolve=function(b){return b instanceof a?b:new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.j=function(b){return new a(function(c,d){for(var e=na(b),f=e.next();!f.done;f=e.next())a.resolve(f.value).o(c,d)})};a.g=function(b){var c=na(b),d=c.next();return d.done?a.resolve([]):new a(function(b,e){function f(a){return function(c){g[a]=c;l--;0==l&&b(g)}}var g=[],l=0;do g.push(void 0),l++,a.resolve(d.value).o(f(g.length-1),e),
d=c.next();while(!d.done)})};a.$jscomp$new$AsyncExecutor=function(){return new b};return a}();ua!=ta&&null!=ua&&da(oa,sa,{configurable:!0,writable:!0,value:ua});var va=va||{},m=this;function p(a){return void 0!==a}function wa(a,b,c){a=a.split(".");c=c||m;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&p(b)?c[d]=b:c[d]&&Object.prototype.hasOwnProperty.call(c,d)?c=c[d]:c=c[d]={}}
function xa(a,b){a=a.split(".");b=b||m;for(var c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ya(){}function za(a){a.Ie=void 0;a.ua=function(){return a.Ie?a.Ie:a.Ie=new a}}
function Aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function Ba(a){return"array"==Aa(a)}function Ca(a){var b=Aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function Da(a){return"number"==typeof a}function Ea(a){return"function"==Aa(a)}function Fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function Ga(a){return a[Ha]||(a[Ha]=++Ia)}var Ha="closure_uid_"+(1E9*Math.random()>>>0),Ia=0;
function Ja(a,b,c){return a.call.apply(a.bind,arguments)}function Ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ja:Ka;return r.apply(null,arguments)}
function La(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Ma(a,b){for(var c in b)a[c]=b[c]}var t=Date.now||function(){return+new Date};
function Na(a){if(m.execScript)m.execScript(a,"JavaScript");else if(m.eval){if(null==Oa)if(m.eval("var _evalTest_ = 1;"),"undefined"!=typeof m._evalTest_){try{delete m._evalTest_}catch(d){}Oa=!0}else Oa=!1;if(Oa)m.eval(a);else{var b=m.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");}var Oa=null;
function v(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.du=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(Pa,Error);Pa.prototype.name="CustomError";var Qa;function Ra(a,b){return 0==a.lastIndexOf(b,0)}function Sa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ta(a){return/^[\s\xa0]*$/.test(a)}var Ua=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Va(a){return decodeURIComponent(a.replace(/\+/g," "))}var Wa=/&/g,Xa=/</g,Ya=/>/g,Za=/"/g,ab=/'/g,bb=/\x00/g,cb=/[\x00&<>"']/;
function db(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=m.document.createElement("div");return a.replace(eb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})}
function fb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var eb=/&([^;\s<&]+);?/g,gb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
function hb(a){a=p(void 0)?a.toFixed(void 0):String(a);var b=a.indexOf(".");-1==b&&(b=a.length);return gb("0",Math.max(0,2-b))+a}function ib(a){return null==a?"":String(a)}function jb(a){return Array.prototype.join.call(arguments,"")}function kb(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)}function lb(a,b){return a<b?-1:a>b?1:0}var mb=2147483648*Math.random()|0;function nb(a,b){return Array.prototype.indexOf.call(a,b,void 0)}function ob(a,b,c){Array.prototype.forEach.call(a,b,c)}function pb(a,b){for(var c=q(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}function qb(a,b){return Array.prototype.map.call(a,b,void 0)}function rb(a,b){return Array.prototype.some.call(a,b,void 0)}function sb(a,b){b=tb(a,b);return 0>b?null:q(a)?a.charAt(b):a[b]}
function tb(a,b){for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return e;return-1}function ub(a,b){return 0<=nb(a,b)}function vb(a,b){ub(a,b)||a.push(b)}function wb(a,b){b=nb(a,b);var c;(c=0<=b)&&xb(a,b);return c}function xb(a,b){Array.prototype.splice.call(a,b,1)}function yb(a,b){b=tb(a,b);0<=b&&xb(a,b)}function zb(a){return Array.prototype.concat.apply(Array.prototype,arguments)}
function Ab(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Bb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(Ca(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function Cb(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function Db(a,b,c){function d(a){return Fa(a)?"o"+Ga(a):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,g=0;g<a.length;){var l=a[g++],n=c(l);Object.prototype.hasOwnProperty.call(e,n)||(e[n]=!0,b[f++]=l)}b.length=f}function Eb(a,b,c){if(!Ca(a)||!Ca(b)||a.length!=b.length)return!1;var d=a.length;c=c||Fb;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function Fb(a,b){return a===b}
function Gb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Ba(d))for(var e=0;e<d.length;e+=8192)for(var f=Gb.apply(null,Cb(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};function Hb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ib(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Jb(a){var b=0,c;for(c in a)b++;return b}function Kb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Lb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Mb(a,b){return null!==a&&b in a}function Nb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Ob(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}
function Pb(a,b){return(b=Ob(a,b,void 0))&&a[b]}function Qb(a){for(var b in a)return!1;return!0}function Rb(a){var b={},c;for(c in a)b[c]=a[c];return b}function Sb(a){var b=Aa(a);if("object"==b||"array"==b){if(Ea(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=Sb(a[c]);return b}return a}var Tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ub(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Tb.length;f++)c=Tb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Vb(a){var b=arguments.length;if(1==b&&Ba(arguments[0]))return Vb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Wb;a:{var Xb=m.navigator;if(Xb){var Yb=Xb.userAgent;if(Yb){Wb=Yb;break a}}Wb=""}function Zb(a){return-1!=Wb.indexOf(a)};function $b(){return(Zb("Chrome")||Zb("CriOS"))&&!Zb("Edge")};function ac(){return Zb("iPhone")&&!Zb("iPod")&&!Zb("iPad")}function bc(){return ac()||Zb("iPad")||Zb("iPod")}function cc(){return Zb("Macintosh")};function dc(a,b){var c=ec;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var fc=cc(),gc="",hc=/WebKit\/(\S+)/.exec(Wb);hc&&(gc=hc?hc[1]:"");var ic=gc,ec={};
function jc(a){return dc(a,function(){for(var b=0,c=Ua(String(ic)).split("."),d=Ua(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==g[0].length&&0==l[0].length)break;b=lb(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||lb(0==g[2].length,0==l[2].length)||lb(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})};var kc=Zb("Firefox"),lc=ac()||Zb("iPod"),mc=Zb("iPad"),nc=Zb("Android")&&!($b()||Zb("Firefox")||Zb("Opera")||Zb("Silk")),oc=$b(),pc=Zb("Safari")&&!($b()||Zb("Coast")||Zb("Opera")||Zb("Edge")||Zb("Silk")||Zb("Android"))&&!bc();function qc(a){return qb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var rc=null;function sc(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function tc(a){a=String(a);if(sc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function uc(a){return eval("("+a+")")}function vc(a,b){return(new wc(b)).ka(a)}
function wc(a){this.g=a}wc.prototype.ka=function(a){var b=[];xc(this,a,b);return b.join("")};
function xc(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Ba(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],xc(a,a.g?a.g.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),yc(d,c),c.push(":"),xc(a,a.g?a.g.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":yc(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var zc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ac=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function yc(a,b){b.push('"',a.replace(Ac,function(a){var b=zc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),zc[a]=b);return b}),'"')};function Bc(a,b,c,d){this.j=a;this.Wf=b;this.g=c;this.Ze=d;this.Fk=0}function w(){}var Cc="function"==typeof Uint8Array;function x(a,b,c,d,e){a.g=null;b||(b=c?[c]:[]);a.C=c?String(c):void 0;a.A=0===c?-1:0;a.o=b;a:{if(a.o.length&&(b=a.o.length-1,(c=a.o[b])&&"object"==typeof c&&!Ba(c)&&!(Cc&&c instanceof Uint8Array))){a.v=b-a.A;a.j=c;break a}-1<d?(a.v=d,a.j=null):a.v=Number.MAX_VALUE}a.B={};if(e)for(d=0;d<e.length;d++)b=e[d],b<a.v?(b+=a.A,a.o[b]=a.o[b]||Dc):a.j[b]=a.j[b]||Dc}var Dc=[];
function Ec(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function z(a,b){if(b<a.v){b+=a.A;var c=a.o[b];return c===Dc?a.o[b]=[]:c}c=a.j[b];return c===Dc?a.j[b]=[]:c}function Fc(a,b,c){a=z(a,b);return null==a?c:a}function A(a,b,c){b<a.v?a.o[b+a.A]=c:a.j[b]=c}function B(a,b,c){a.g||(a.g={});if(!a.g[c]){var d=z(a,c);d&&(a.g[c]=new b(d))}return a.g[c]}
function Gc(a,b,c){a.g||(a.g={});if(!a.g[c]){for(var d=z(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.g[c]=e}b=a.g[c];b==Dc&&(b=a.g[c]=[]);return b}function C(a,b,c){a.g||(a.g={});var d=c?Hc(c):c;a.g[b]=c;A(a,b,d)}function Ic(a,b,c){a.g||(a.g={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=Hc(c[e]);a.g[b]=c;A(a,b,d)}function Jc(a){if(a.g)for(var b in a.g){var c=a.g[b];if(Ba(c))for(var d=0;d<c.length;d++)c[d]&&Hc(c[d]);else c&&Hc(c)}}function Hc(a){Jc(a);return a.o}
var Kc=m.JSON&&m.JSON.stringify||"object"===typeof JSON&&JSON.stringify;k=w.prototype;
k.ka=Cc?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){Ca(this);if(!rc){rc={};for(var a=0;65>a;a++)rc[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)}for(var a=rc,b=[],e=0;e<this.length;e+=3){var f=this[e],g=e+1<this.length,l=g?this[e+1]:0,n=e+2<this.length,u=n?this[e+2]:0,y=f>>2,f=(f&3)<<4|l>>4,l=(l&15)<<2|u>>6,u=u&63;n||(u=64,g||(l=64));b.push(a[y],a[f],a[l],a[u])}return b.join("")};try{var b=Kc.call(null,Hc(this),Lc)}finally{Uint8Array.prototype.toJSON=
a}return b}:Kc?function(){return Kc.call(null,Hc(this),Lc)}:function(){return vc(Hc(this),Lc)};function Lc(a,b){if(Da(b)){if(isNaN(b))return"NaN";if(Infinity===b)return"Infinity";if(-Infinity===b)return"-Infinity"}return b}function Mc(a){var b=Nc[a[0]];if(!b)throw Error("Unknown JsPb message type: "+a[0]);return new b(a)}k.toString=function(){Jc(this);return this.o.toString()};
k.Ke=function(a){if(this.j){this.g||(this.g={});var b=a.j;return a.g?(!this.g[b]&&this.j[b]&&(this.g[b]=new a.g(this.j[b])),this.g[b]):this.j[b]}};k.Jd=function(a,b){this.g||(this.g={});var c=this.v+this.A;this.o[c]||(this.j=this.o[c]={});c=a.j;a.g?(this.g[c]=b,this.j[c]=b?Hc(b):b):this.j[c]=b};function Oc(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&Pc(Hc(a),Hc(b))}
function Qc(a,b){a=a||{};b=b||{};var c={},d;for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!Pc(a[d],b[d]))return!1;return!0}
function Pc(a,b){if(a==b)return!0;if(!Fa(a)||!Fa(b)||a.constructor!=b.constructor)return!1;if(Cc&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){for(var d=void 0,e=void 0,f=Math.max(a.length,b.length),c=0;c<f;c++){var g=a[c],l=b[c];g&&g.constructor==Object&&(d=g,g=void 0);l&&l.constructor==Object&&(e=l,l=void 0);if(!Pc(g,l))return!1}return d||e?(d=d||{},e=e||{},Qc(d,e)):!0}if(a.constructor===Object)return Qc(a,
b);throw Error("Invalid type in JSPB array");}k.clone=function(){return Rc(this)};function Rc(a){return new a.constructor(Sc(Hc(a)))}function Sc(a){var b;if(Ba(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Sc(b):b);return c}if(Cc&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Sc(b):b);return c}function Tc(a,b){Nc[a]=b;b.ru=a}var Nc={};function Uc(a){x(this,a,0,-1,null)}v(Uc,w);Uc.prototype.getUrl=function(){return z(this,2)};Uc.prototype.getId=function(){return z(this,9)};function Vc(a){x(this,a,0,-1,null)}v(Vc,w);Vc.prototype.getUrl=function(){return z(this,1)};function Wc(a){x(this,a,0,-1,null)}v(Wc,w);function Xc(a){x(this,a,0,1,null)}v(Xc,w);function Yc(a){x(this,a,0,-1,null)}v(Yc,w);Yc.prototype.L=function(){return z(this,1)};function Zc(a){x(this,a,0,-1,null)}v(Zc,w);Zc.prototype.L=function(){return z(this,1)};function $c(a){x(this,a,0,-1,null)}v($c,w);$c.prototype.getId=function(){return z(this,4)};function ad(a){x(this,a,0,-1,null)}v(ad,w);function bd(a){x(this,a,0,-1,cd)}v(bd,w);var cd=[8];bd.prototype.getId=function(){return z(this,1)};function dd(a){return Gc(a,bd,8)}function ed(a){x(this,a,0,-1,null)}v(ed,w);
ed.prototype.getId=function(){return z(this,1)};function fd(a){return B(a,bd,2)}function gd(a){x(this,a,0,-1,null)}v(gd,w);gd.prototype.getId=function(){return z(this,1)};gd.prototype.$a=function(){return B(this,Yc,2)};function hd(a){x(this,a,0,-1,null)}v(hd,w);function id(a){x(this,a,0,-1,jd)}v(id,w);var jd=[5];function kd(a){x(this,a,0,-1,null)}v(kd,w);k=kd.prototype;k.dc=function(){return Fc(this,2,!0)};k.ad=function(a){A(this,2,a)};k.bc=function(){return z(this,3)};k.gc=function(){return Fc(this,4,!0)};k.hc=function(){return Fc(this,5,!0)};function ld(a){x(this,a,0,-1,md)}v(ld,w);var md=[1];function nd(a){x(this,a,0,-1,null)}v(nd,w);function od(a){x(this,a,"uc",-1,null)}v(od,w);Tc("uc",od);function pd(a){x(this,a,"rjse",-1,null)}v(pd,w);Tc("rjse",pd);function qd(a){x(this,a,"u",-1,rd)}v(qd,w);var rd=[1,2];Tc("u",qd);function sd(a){x(this,a,"kd",-1,null)}v(sd,w);Tc("kd",sd);sd.prototype.we=function(){return B(this,kd,7)};function td(a){x(this,a,"tf",-1,null)}v(td,w);Tc("tf",td);function ud(a){x(this,a,0,-1,vd)}v(ud,w);var vd=[1];function wd(a){x(this,a,"sr",-1,xd)}v(wd,w);var xd=[1];
Tc("sr",wd);function yd(a,b,c){function d(a){return c?Ab(a):a}var e=null;a&&Ba(a)&&(e=d(a),Ba(e[0])&&b==e[0][0]&&(e=d(e[0]),e.shift()));return e};function zd(a){return function(){return a}}var Ad=zd(!1),Bd=zd(null);function Cd(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function Dd(a,b,c,d,e,f,g){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);g&&(l+="#"+g);return l}var Ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fd(a){return a?decodeURI(a):a}function Gd(){return Fd(m.location.href.match(Ed)[3]||null)}function Hd(a){a=a.match(Ed);return Dd(a[1],a[2],a[3],a[4])}
function Id(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?Va(f):"")}}}function Jd(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}
function Kd(a,b,c){if(Ba(b))for(var d=0;d<b.length;d++)Kd(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function Ld(a,b,c){for(c=c||0;c<b.length;c+=2)Kd(b[c],b[c+1],a);return a}function Md(a){a=Ld([],a,void 0);a[0]="";return a.join("")}function Nd(a,b){for(var c in b)Kd(c,b[c],a);return a}function Od(a){a=Nd([],a);a[0]="";return a.join("")}function Pd(a,b){return Jd(2==arguments.length?Ld([a],arguments[1],0):Ld([a],arguments,1))}
function Qd(a,b){return Jd(Nd([a],b))}function Rd(a,b,c){a=[a,"&",b];null!=c&&a.push("=",encodeURIComponent(String(c)));return Jd(a)}function Sd(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(38==f||63==f)if(f=a.charCodeAt(b+e),!f||61==f||38==f||35==f)return b;b+=e+1}return-1}var Td=/#|$/;function Ud(a,b){var c=a.search(Td),d=Sd(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return Va(a.substr(d,e-d))}var Vd=/[?&]($|#)/;
function Wd(a,b){var c=a.length-1;0<=c&&a.indexOf("/",c)==c&&(a=a.substr(0,a.length-1));Ra(b,"/")&&(b=b.substr(1));return jb(a,"/",b)};function Xd(a,b,c,d,e){b&&!Ta(b)&&Ua(b.toLowerCase());this.g=e}Xd.prototype.getId=h("g");function Yd(){};function Zd(a,b){if(p(b.getId())){var c=b.getId();A(a,1,c)}c=fd(b);if(p(c)){var d=fd(a);c?d?$d(d,c):C(a,2,c):C(a,2,void 0)}p(z(b,3))&&(c=z(b,3),A(a,3,c));p(z(b,4))&&(c=z(b,4),A(a,4,c));d=B(b,gd,5);if(p(d))if(c=B(a,gd,5),d)if(c){if(p(d.getId())){var e=d.getId();A(c,1,e)}e=d.$a();if(p(e)){var f=c.$a();e?f?ae(f,e):C(c,2,e):C(c,2,void 0)}d=B(d,ed,3);p(d)&&(e=B(c,ed,3),d?e?Zd(e,d):C(c,3,d):C(c,3,void 0))}else C(a,5,d);else C(a,5,void 0);p(z(b,6))&&(c=z(b,6),A(a,6,c));p(z(b,7))&&(c=z(b,7),A(a,7,c));p(z(b,
8))&&(c=z(b,8),A(a,8,c));p(z(b,9))&&(b=z(b,9),A(a,9,b))}
function $d(a,b){if(p(b.getId())){var c=b.getId();A(a,1,c)}p(z(b,2))&&(c=z(b,2),A(a,2,c));c=B(b,Yc,3);if(p(c)){var d=B(a,Yc,3);c?d?ae(d,c):C(a,3,c):C(a,3,void 0)}c=B(b,Yc,4);p(c)&&(d=B(a,Yc,4),c?d?ae(d,c):C(a,4,c):C(a,4,void 0));c=B(b,$c,5);p(c)&&(d=B(a,$c,5),c?d?be(d,c):C(a,5,c):C(a,5,void 0));d=B(b,Uc,14);if(p(d))if(c=B(a,Uc,14),d)if(c){if(p(z(d,1))){var e=z(d,1);A(c,1,e)}p(d.getUrl())&&(e=d.getUrl(),A(c,2,e));var f=B(d,Vc,3);if(p(f))if(e=B(c,Vc,3),f)if(e){if(p(f.getUrl())){var g=f.getUrl();A(e,
1,g)}p(z(f,2))&&(g=z(f,2),A(e,2,g));p(z(f,3))&&(f=z(f,3),A(e,3,f))}else C(c,3,f);else C(c,3,void 0);p(z(d,4))&&(e=z(d,4),A(c,4,e));p(z(d,5))&&(e=z(d,5),A(c,5,e));p(z(d,6))&&(e=z(d,6),A(c,6,e));f=B(d,Wc,7);p(f)&&(e=B(c,Wc,7),f?e?(p(z(f,1))&&(g=z(f,1),A(e,1,g)),p(z(f,2))&&(g=z(f,2),A(e,2,g)),p(z(f,3))&&(g=z(f,3),A(e,3,g)),p(z(f,4))&&(f=z(f,4),A(e,4,f))):C(c,7,f):C(c,7,void 0));p(z(d,8))&&(d=z(d,8),A(c,8,d))}else C(a,14,d);else C(a,14,void 0);p(z(b,6))&&(c=z(b,6),A(a,6,c));p(z(b,7))&&(c=z(b,7),A(a,7,
c));dd(b)&&(c=zb(dd(a),dd(b)),Ic(a,8,c));d=B(b,Zc,9);p(d)&&(c=B(a,Zc,9),d?c?(p(d.L())&&(e=d.L(),A(c,1,e)),p(z(d,2))&&(e=z(d,2),A(c,2,e)),p(B(d,Xc,3))&&(e=B(d,Xc,3),C(c,3,e)),p(z(d,4))&&(d=z(d,4),A(c,4,d))):C(a,9,d):C(a,9,void 0));p(z(b,10))&&(c=z(b,10),A(a,10,c));p(z(b,11))&&(c=z(b,11),A(a,11,c));p(z(b,12))&&(c=z(b,12),A(a,12,c));p(z(b,13))&&(c=z(b,13),A(a,13,c));p(z(b,15))&&(c=z(b,15),A(a,15,c));p(z(b,16))&&(c=z(b,16),A(a,16,c));p(z(b,17))&&(c=z(b,17),A(a,17,c));p(z(b,20))&&(c=z(b,20),A(a,20,c));
d=B(b,ad,18);p(d)&&(c=B(a,ad,18),d?c?(d=B(d,$c,1),p(d)&&(e=B(c,$c,1),d?e?be(e,d):C(c,1,d):C(c,1,void 0))):C(a,18,d):C(a,18,void 0));c=B(b,id,19);p(c)&&(b=B(a,id,19),c?b?(p(z(c,1))&&(a=z(c,1),A(b,1,a)),p(z(c,3))&&(a=z(c,3),A(b,3,a)),p(z(c,2))&&(a=z(c,2),A(b,2,a)),p(z(c,4))&&(a=z(c,4),A(b,4,a)),p(Gc(c,hd,5))&&(a=Gc(c,hd,5),Ic(b,5,a))):C(a,19,c):C(a,19,void 0))}function ae(a,b){if(p(b.L())){var c=b.L();A(a,1,c)}p(z(b,2))&&(b=z(b,2),A(a,2,b))}
function be(a,b){if(p(z(b,1))){var c=z(b,1);A(a,1,c)}p(z(b,2))&&(c=z(b,2),A(a,2,c));p(z(b,3))&&(c=z(b,3),A(a,3,c));p(b.getId())&&(c=b.getId(),A(a,4,c));p(z(b,5))&&(c=z(b,5),A(a,5,c));p(z(b,6))&&(c=z(b,6),A(a,6,c));p(z(b,7))&&(c=z(b,7),A(a,7,c));p(z(b,8))&&(b=z(b,8),A(a,8,b))};function ce(){this.g="";this.j=de}var de={};for(var ee=["SCRIPT","STYLE"],fe=[],ge=0;ge<ee.length;ge++){var he=ee[ge];fe.push("(<"+he+"( [^>]*?)?>.*?</"+he+"( [^>]*?)?>)")};var ie={Cn:["BC","AD"],Bn:["Before Christ","Anno Domini"],jq:"JFMAMJJASOND".split(""),Ss:"JFMAMJJASOND".split(""),gq:"January February March April May June July August September October November December".split(" "),Rs:"January February March April May June July August September October November December".split(" "),Ds:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Us:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Ws:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Fs:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Vs:"Sun Mon Tue Wed Thu Fri Sat".split(" "),kq:"SMTWTFS".split(""),Ts:"SMTWTFS".split(""),Es:["Q1","Q2","Q3","Q4"],br:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Vl:["AM","PM"],wm:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ut:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],xm:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],yh:6,Yt:[5,6],zh:5},je=ie,
je=ie;function ke(a,b,c){Da(a)?(this.g=le(a,b||0,c||1),me(this,c||1)):Fa(a)?(this.g=le(a.getFullYear(),a.getMonth(),a.getDate()),me(this,a.getDate())):(this.g=new Date(t()),a=this.g.getDate(),this.g.setHours(0),this.g.setMinutes(0),this.g.setSeconds(0),this.g.setMilliseconds(0),me(this,a))}function le(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}k=ke.prototype;k.Xf=je.yh;k.Yf=je.zh;k.clone=function(){var a=new ke(this.g);a.Xf=this.Xf;a.Yf=this.Yf;return a};
k.getFullYear=function(){return this.g.getFullYear()};k.getMonth=function(){return this.g.getMonth()};k.getDate=function(){return this.g.getDate()};k.getTime=function(){return this.g.getTime()};k.set=function(a){this.g=new Date(a.getFullYear(),a.getMonth(),a.getDate())};function ne(a){return[a.getFullYear(),hb(a.getMonth()+1),hb(a.getDate())].join("")+""}k.zb=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};k.toString=function(){return ne(this)};
function me(a,b){a.getDate()!=b&&a.g.setUTCHours(a.g.getUTCHours()+(a.getDate()<b?1:-1))}k.valueOf=function(){return this.g.valueOf()};function oe(a){B(a,$c,1);this.g=a}oe.prototype.zb=function(a){return Oc(this.g,a.g)};function pe(a){a.getId()||z(a,11);this.g=a;0==z(this.g,13)&&(A(this.g,13,void 0),A(this.g,15,void 0))}k=pe.prototype;k.update=function(a){p(z(a,13))&&0!=z(a,13)&&(C(a,3,void 0),C(a,4,void 0),C(a,9,void 0));$d(this.g,a);0==z(this.g,13)&&(A(this.g,13,void 0),A(this.g,15,void 0))};k.zb=function(a){return Oc(this.g,a.g)};k.getId=function(){return this.g.getId()||z(this.g,11)||""};k.hb=function(){return!!z(this.g,12)};k.Ea=function(){return!!z(this.g,13)};function E(){this.W=this.W;this.N=this.N}E.prototype.W=!1;E.prototype.isDisposed=h("W");E.prototype.Z=function(){this.W||(this.W=!0,this.F())};function F(a,b){b=La(G,b);a.W?p(void 0)?b.call(void 0):b():(a.N||(a.N=[]),a.N.push(p(void 0)?r(b,void 0):b))}E.prototype.F=function(){if(this.N)for(;this.N.length;)this.N.shift()()};function G(a){a&&"function"==typeof a.Z&&a.Z()}function qe(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];Ca(d)?qe.apply(null,d):G(d)}};function H(a,b){this.type=a;this.o=this.target=b;this.v=!1;this.Ig=!0}H.prototype.stopPropagation=function(){this.v=!0};H.prototype.A=function(){this.Ig=!1};var re=[],se=[],te=!1;function ue(a){re[re.length]=a;if(te)for(var b=0;b<se.length;b++)a(r(se[b].g,se[b]))};jc("528");jc("528");function ve(a,b){H.call(this,a?a.type:"");this.o=this.target=null;this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.g=this.state=null;a&&this.init(a,b)}v(ve,H);
ve.prototype.init=function(a,b){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.o=b;null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0);this.key=a.key||"";this.state=a.state;this.g=
a;a.defaultPrevented&&this.A()};ve.prototype.stopPropagation=function(){ve.J.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};ve.prototype.A=function(){ve.J.A.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};function we(){}var xe="closure_listenable_"+(1E6*Math.random()|0);function ye(a){return!(!a||!a[xe])}var ze=0;function Ae(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.capture=!!d;this.Pb=e;this.key=++ze;this.Zc=this.ub=!1}function Be(a){a.Zc=!0;a.listener=null;a.g=null;a.src=null;a.Pb=null};function Ce(a){this.src=a;this.g={};this.j=0}function De(a,b,c,d,e,f){var g=b.toString();b=a.g[g];b||(b=a.g[g]=[],a.j++);var l=Ee(b,c,e,f);-1<l?(a=b[l],d||(a.ub=!1)):(a=new Ae(c,a.src,g,!!e,f),a.ub=d,b.push(a));return a}function Fe(a,b){var c=b.type;c in a.g&&wb(a.g[c],b)&&(Be(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function Ge(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=Ee(a,c,d,e));return-1<b?a[b]:null}
function Ee(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Zc&&f.listener==b&&f.capture==!!c&&f.Pb==d)return e}return-1};var He="closure_lm_"+(1E6*Math.random()|0),Ie={},Je=0;function Ke(a,b,c,d,e){if(Ba(b)){for(var f=0;f<b.length;f++)Ke(a,b[f],c,d,e);return null}c=Le(c);return ye(a)?a.listen(b,c,d,e):Me(a,b,c,!1,d,e)}
function Me(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,l=Ne(a);l||(a[He]=l=new Ce(a));c=De(l,b,c,d,e,f);if(c.g)return c;d=Oe();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Pe(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Je++;return c}function Oe(){function a(c){return b.call(a.src,a.listener,c)}var b=Qe;return a}
function Re(a,b,c,d,e){if(Ba(b)){for(var f=0;f<b.length;f++)Re(a,b[f],c,d,e);return null}c=Le(c);return ye(a)?De(a.v,String(b),c,!0,d,e):Me(a,b,c,!0,d,e)}function Se(a,b,c,d,e){if(Ba(b))for(var f=0;f<b.length;f++)Se(a,b[f],c,d,e);else c=Le(c),ye(a)?a.Bc(b,c,d,e):a&&(a=Ne(a))&&(b=Ge(a,b,c,!!d,e))&&Te(b)}
function Te(a){if(!Da(a)&&a&&!a.Zc){var b=a.src;if(ye(b))Fe(b.v,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Pe(c),d);Je--;(c=Ne(b))?(Fe(c,a),0==c.j&&(c.src=null,b[He]=null)):Be(a)}}}function Ue(a,b,c,d,e){c=Le(c);d=!!d;return ye(a)?Ge(a.v,String(b),c,d,e):a?(a=Ne(a))?Ge(a,b,c,d,e):null:null}function Pe(a){return a in Ie?Ie[a]:Ie[a]="on"+a}
function Qe(a,b){if(a.Zc)a=!0;else{b=new ve(b,this);var c=a.listener,d=a.Pb||a.src;a.ub&&Te(a);a=c.call(d,b)}return a}function Ne(a){a=a[He];return a instanceof Ce?a:null}var Ve="__closure_events_fn_"+(1E9*Math.random()>>>0);function Le(a){if(Ea(a))return a;a[Ve]||(a[Ve]=function(b){return a.handleEvent(b)});return a[Ve]}ue(function(a){Qe=a(Qe)});function I(){E.call(this);this.v=new Ce(this);this.Xb=this;this.H=null}v(I,E);I.prototype[xe]=!0;k=I.prototype;k.addEventListener=function(a,b,c,d){Ke(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Se(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.H;if(c){b=[];for(var d=1;c;c=c.H)b.push(c),++d}c=this.Xb;d=a.type||a;if(q(a))a=new H(a,c);else if(a instanceof H)a.target=a.target||c;else{var e=a;a=new H(d,c);Ub(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.v&&0<=g;g--)f=a.o=b[g],e=We(f,d,!0,a)&&e;a.v||(f=a.o=c,e=We(f,d,!0,a)&&e,a.v||(e=We(f,d,!1,a)&&e));if(b)for(g=0;!a.v&&g<b.length;g++)f=a.o=b[g],e=We(f,d,!1,a)&&e;return e};
k.F=function(){I.J.F.call(this);if(this.v){var a=this.v,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,Be(d[e]);delete a.g[c];a.j--}}this.H=null};k.listen=function(a,b,c,d){return De(this.v,String(a),b,!1,c,d)};k.Bc=function(a,b,c,d){var e;e=this.v;a=String(a).toString();if(a in e.g){var f=e.g[a];b=Ee(f,b,c,d);-1<b?(Be(f[b]),xb(f,b),0==f.length&&(delete e.g[a],e.j--),e=!0):e=!1}else e=!1;return e};
function We(a,b,c,d){b=a.v.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Zc&&g.capture==c){var l=g.listener,n=g.Pb||g.src;g.ub&&Fe(a.v,g);e=!1!==l.call(n,d)&&e}}return e&&0!=d.Ig};function Xe(a){I.call(this);this.ie(a)}v(Xe,I);k=Xe.prototype;
k.ie=function(a){var b=a.kd;if(!p(B(b,$c,9)))throw Error("Invalid or missing user.");var c=B(b,$c,9),d=new Yd,e=z(c,1);d.v=e;e=z(c,8);d.g=e&&!Ta(e)?Ua(e.toLowerCase()):null;e=z(c,2);d.B=e;e=z(c,3);d.A=e;e=c.getId()||"";d.j=e;c=!!z(c,5);d.o=c;this.Zg=new Xd(0,d.g,0,0,d.j);this.He=!!z(b,40);this.Kf=!z(b,20);this.ge=z(b,11);this.Zf=!!z(b,12);z(b,6);this.Lf=p(a.l)?!!a.l:!!z(b,25);this.Cg=z(b,21);this.Mf=z(b,23);this.bh=z(b,24);this.ng=z(b,31);p(a.i)?this.he=a.i:this.he=void 0;if(a=B(b,td,44))this.ke=
z(a,1);this.dispatchEvent("r")};k.ng=null;k.he=void 0;k.ge=null;k.Lf=!1;k.He=!1;k.Cg=null;k.Mf=null;k.bh=null;k.Kf=!0;k.Zf=!1;k.Zg=null;k.ke=null;function Ye(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.v=d;this.Pd=e}k=Ye.prototype;k.dc=h("j");k.bc=h("g");k.gc=h("o");k.hc=h("v");k.zb=function(a){return a instanceof Ye?this.dc()==a.dc()&&this.bc()==a.bc()&&this.gc()==a.gc()&&this.hc()==a.hc()&&this.Pd==a.Pd:!1};function Ze(a,b){this.width=a;this.height=b}k=Ze.prototype;k.clone=function(){return new Ze(this.width,this.height)};k.Ji=function(){return this.width*this.height};k.ca=function(){return!this.Ji()};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function $e(a){return a?new af(9==a.nodeType?a:a.ownerDocument||a.document):Qa||(Qa=new af)}function bf(a,b){Hb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:cf.hasOwnProperty(d)?a.setAttribute(cf[d],b):Ra(d,"aria-")||Ra(d,"data-")?a.setAttribute(d,b):a[d]=b})}
var cf={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function df(a){return a.parentWindow||a.defaultView}function ef(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function af(a){this.g=a||m.document||document}af.prototype.createElement=function(a){return this.g.createElement(String(a))};
af.prototype.appendChild=function(a,b){a.appendChild(b)};af.prototype.j=ef;af.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function ff(a){var b=a.kd;q(b)&&(b=uc(b));Ba(b)&&(b=yd(b,"kd",!0),b.unshift("kd"),a.kd=new sd(b));Xe.call(this,a)}v(ff,Xe);
ff.prototype.ie=function(a){ff.J.ie.call(this,a);this.g=a.kd;var b;if(!(b=this.B))if(q(document.URL)){var c=document.URL,d=c.search(Td),e=0,f;for(b=[];0<=(f=Sd(c,e,"disco",d));){e=c.indexOf("&",f);if(0>e||e>d)e=d;f+=6;b.push(Va(c.substr(f,e-f)))}if(1<b.length)throw Error("Only one docoid can be specified in the url query parameter");if(m.history&&m.history.replaceState){for(var c=document.URL,d=c.search(Td),e=0,g=[];0<=(f=Sd(c,e,"disco",d));)g.push(c.substring(e,f)),e=Math.min(c.indexOf("&",f)+1||
d,d);g.push(c.substr(e));c=g.join("").replace(Vd,"$1");try{m.history.replaceState(null,document.title||"",c)}catch(l){}}b=0<b.length?b[0]:null}else b=null;this.B=b;this.A=a.storage||null;this.C=!!a["storage-ro"];this.D=!!a.so;this.o=a.listeners||{};a.readonly||a["fatal-readonly"]||z(this.g,8);z(this.g,3);gf(this);this.j=!!a["defer-first-sync"];this.dispatchEvent("r")};ff.prototype.we=function(){var a=this.g.we();return new Ye(!!a&&!!a.dc(),!!a&&!!a.bc(),!!a&&!!a.gc(),!!a&&!!a.hc(),!!a&&!!Fc(a,6,!0))};
function gf(a){return a.g&&!!z(a.g,18)};function hf(a){this.g=a}hf.prototype.toString=h("g");var jf=new hf("visibility"),kf=new hf("selection"),lf=new hf("value"),mf=new hf("enabled"),nf=new hf("change"),of=new hf("action");var pf=cc()||bc();function qf(a){m.setTimeout(function(){throw a;},0)}var rf;
function sf(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Zb("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Zb("Trident")&&!Zb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.uf;c.uf=null;a()}};return function(a){d.next={uf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}}function tf(a){return a}ue(function(a){tf=a});function uf(a,b,c){this.v=c;this.o=a;this.A=b;this.j=0;this.g=null}uf.prototype.get=function(){var a;0<this.j?(this.j--,a=this.g,this.g=a.next,a.next=null):a=this.o();return a};function vf(a,b){a.A(b);a.j<a.v&&(a.j++,b.next=a.g,a.g=b)};var xf=new uf(function(){return new wf},function(a){a.reset()},100);function yf(){var a=zf,b=null;a.g&&(b=a.g,a.g=a.g.next,a.g||(a.j=null),b.next=null);return b}function wf(){this.next=this.scope=this.g=null}wf.prototype.set=function(a,b){this.g=a;this.scope=b;this.next=null};wf.prototype.reset=function(){this.next=this.scope=this.g=null};function Af(a,b){Bf||Cf();Df||(Bf(),Df=!0);var c=zf,d=xf.get();d.set(a,b);c.j?c.j.next=d:c.g=d;c.j=d}var Bf;function Cf(){if(-1!=String(m.Promise).indexOf("[native code]")){var a=m.Promise.resolve(void 0);Bf=function(){a.then(Ef)}}else Bf=function(){var a=Ef,a=tf(a);!Ea(m.setImmediate)||m.Window&&m.Window.prototype&&!Zb("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(rf||(rf=sf()),rf(a)):m.setImmediate(a)}}var Df=!1,zf=new function(){this.j=this.g=null};
function Ef(){for(var a;a=yf();){try{a.g.call(a.scope)}catch(b){qf(b)}vf(xf,a)}Df=!1};function Ff(a){E.call(this);this.B=1;this.o=[];this.v=0;this.g=[];this.j={};this.C=!!a}v(Ff,E);function Gf(a,b,c,d){var e=a.j[b];e||(e=a.j[b]=[]);var f=a.B;a.g[f]=b;a.g[f+1]=c;a.g[f+2]=d;a.B=f+3;e.push(f);return f}function Hf(a,b,c,d){if(b=a.j[b]){var e=a.g;if(b=sb(b,function(a){return e[a+1]==c&&e[a+2]==d}))return a.tb(b)}return!1}
Ff.prototype.tb=function(a){var b=this.g[a];if(b){var c=this.j[b];0!=this.v?(this.o.push(a),this.g[a+1]=ya):(c&&wb(c,a),delete this.g[a],delete this.g[a+1],delete this.g[a+2])}return!!b};
Ff.prototype.A=function(a,b){var c=this.j[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.C)for(e=0;e<c.length;e++){var g=c[e];If(this.g[g+1],this.g[g+2],d)}else{this.v++;try{for(e=0,f=c.length;e<f;e++)g=c[e],this.g[g+1].apply(this.g[g+2],d)}finally{if(this.v--,0<this.o.length&&0==this.v)for(;c=this.o.pop();)this.tb(c)}}}};function If(a,b,c){Af(function(){a.apply(b,c)})}
function Jf(a,b){if(b){var c=a.j[b];c&&(ob(c,a.tb,a),delete a.j[b])}else a.g.length=0,a.j={}}Ff.prototype.aa=function(a){if(a){var b=this.j[a];return b?b.length:0}a=0;for(b in this.j)a+=this.aa(b);return a};Ff.prototype.F=function(){Ff.J.F.call(this);Jf(this);this.o.length=0};function Kf(a){E.call(this);this.g=new Ff(a);F(this,this.g)}v(Kf,E);Kf.prototype.tb=function(a){return this.g.tb(a)};Kf.prototype.aa=function(a){return this.g.aa(p(a)?a.toString():void 0)};function Lf(a){this.ya=a};function Mf(a,b){E.call(this);this.A=a;this.o={};this.g=b?Rb(b):{};this.B=Rb(this.g);Nf(this);this.v=new Ff;this.j=new Kf}v(Mf,E);function Nf(a){p(a.g["keys-enabled"])||(a.g["keys-enabled"]=!0);a.g.enabled||(a.o["default"]=!0);p(a.g["toggle-selected-on-fire"])||(a.g["toggle-selected-on-fire"]=!0)}k=Mf.prototype;k.F=function(){Mf.J.F.call(this);this.v.Z();this.j.Z();delete this.v;delete this.j;delete this.g};k.getId=h("A");
k.ad=function(a,b){b=b||"default";var c=!0;if(a){delete this.o[b];for(var d in this.o){c=!1;break}}else this.o[b]=!0,c=!1;Of(this,"enabled",c)};function Pf(a){Of(a,"visible",!1)}function Qf(a){Of(a,"selected",!1)}k.va=function(){var a=this.g.keys;return null==a?null:Ba(a)?a:[a]};function Of(a,b,c){c!==a.g[b]&&(a.g[b]=c,a.j.g.A(nf.toString(),new Lf(b)),(c=Rf(b))&&a.j.g.A(c.toString(),new Lf(b)))}k.tb=function(a){return 1E6<a?this.j.tb(a-1E6):this.v.tb(a)};
k.reset=function(){Jf(this.v);Jf(this.j.g,p(void 0)?(void 0).toString():void 0);this.g=Rb(this.B);this.o={};Nf(this)};function Rf(a){switch(a){case "visible":return jf;case "selected":return kf;case "value":return lf;case "enabled":return mf;default:return null}};function Sf(a){this.g={};a=a||m._docs_flag_initialData;var b=m.WIZ_global_data;!a&&b&&(a=b.nWIH1e);a&&Ub(this.g,a)}za(Sf);Sf.prototype.get=function(a){return this.g[a]};function Tf(a,b){a=a.get(b);return q(a)?"true"==a||"1"==a:!!a}function Uf(a,b){return Number(a.get(b))}function Vf(a,b){a=a.get(b);return null!=a?String(a):""}function Wf(a,b){a=a.get(b);return null!=a?Object(a):{}};function J(){return Sf.ua()};function Xf(a){x(this,a,0,-1,null)}v(Xf,w);function Yf(a){x(this,a,0,-1,null)}v(Yf,w);function Zf(a,b){var c=a.va();c.push(b);Of(a,"keys",c)}function $f(a){var b="Ctrl+"+(pf?"Meta+":"Alt+");q(void 0)&&(b+="undefined+");for(var c="",d=0;d<a.length;d++)c+=b+a[d]+(d<a.length-1?" ":"");return c}function ag(a,b){return"docs-icon-img docs-icon-"+a+(b?"-rtl":"")}function bg(){return null};function cg(a,b,c){this.o=a;this.j=b||null;this.g={};this.v=!!c}k=cg.prototype;k.ya=function(a,b){this.g[a]=b;return this};function K(a){var b;b=a.g;"label"in b||(b.label="");b=a.g;"hint"in b||(b.hint=a.g.label);b=a.g;"visible"in b||(b.visible=!0);b=new Mf(a.o,a.g);a.j&&a.j(b);return b}function dg(a,b){return a.ya("docs-action-data-extractor",b).ya("docs-action-data-extractor-requires-data",void 0)}k.enabled=function(a){return this.ya("enabled",a)};function eg(a,b){return a.ya("hint",b)}
function L(a,b){b=ag(b,a.v&&void 0);return a.ya("icon",b)}function M(a,b){return a.ya("docs-impression-code",b)}k.key=function(a){return this.ya("keys",a)};k.keys=function(a){return this.ya("keys",a)};function N(a,b){return a.ya("label",b)}function fg(a,b){return a.ya("long-label",b)}function O(a,b){return a.ya("synonyms",b)}function P(a,b){return a.ya("category",b)}k.value=function(a){return this.ya("value",a)};function gg(a){return a.ya("force-ctrl-key",!0)};function hg(){return"Editing"}function ig(){return"Navigation"}function jg(){return"Comments"}function kg(){return"Screen reader support"}function lg(){return"With objects"}function mg(){return"Text formatting"};var ng=!1;
function og(){function a(a,c,d,e,f){return K(P(M(gg(N(new cg(a),c).value(e)).key((pf?"Ctrl+Alt+":"Alt+Shift+")+d),f),"Menus"))}pg=a("docs-menubar-file-focus","File menu","F",R.xh.getId(),307);qg=a("docs-menubar-edit-focus","Edit menu","E",R.rh.getId(),306);rg=a("docs-menubar-view-focus","View menu","V",R.Gi.getId(),314);sg=a("docs-menubar-insert-focus","Insert menu","I",R.Dh.getId(),310);tg=a("docs-menubar-help-focus","Help menu","H",R.Bh.getId(),309);ug=a("docs-menubar-screenreader-focus","Accessibility menu",
"A",R.hf.getId(),1279);vg=a("docs-menubar-tools-focus","Tools menu","T",R.zi.getId(),313);wg=a("docs-menubar-table-focus","Table menu","B",R.vi.getId(),312);xg=a("docs-menubar-format-focus","Format menu","O",R.Ah.getId(),308);yg=a("docs-menubar-extensions-focus","Add-ons menu","N",R.Ih.getId(),1058);oc&&!pf&&(Zf(pg,"Alt+F"),Zf(qg,"Alt+E"),Zf(rg,"Alt+V"),Zf(sg,"Alt+I"),Zf(tg,"Alt+H"),Zf(vg,"Alt+T"),Zf(wg,"Alt+B"),Zf(xg,"Alt+O"),Zf(yg,"Alt+N"),Zf(ug,"Alt+A"))}var R={},pg,qg,rg,sg,tg,ug,vg,wg,xg,yg;
(function(){function a(a){return new cg(a)}function b(a){var b=new Xf;q(a)&&A(b,11,a);return b}function c(a,b,c,d,e){a=M(N(new cg(a),b),c);null!=d&&a.keys(d);null!=e&&L(a,e);return K(a)}var d=pf?"Ctrl+Alt+Z":oc?"Alt+Z":"Alt+Shift+Z";R.fm=K(P(fg(M(N(a("docs-chrome-focus"),"Move to top of application"),668),"Move focus out of editing area").keys(["Ctrl+Alt+Shift+M"]),ig()));R.Np=c("docs-menu-bar","",59);R.zt=c("docs-tool-bar","",347);R.pm=c("docs-context-menu","",172);R.hh=K(P(M(N(a("docs-context-menu-shortcut"),
"Context menu"),173).keys(["Ctrl+Shift+\\"]),"Menus"));var e=fc&&Tf(J(),"docs-enoss");e||Zf(R.hh,"Ctrl+Shift+X");R.sq=c("docs-new-menu","New",65);R.oq=K(O(fg(L(M(N(a("docs-document"),"Document"),61),"document"),"New document"),"create | write | word | pages |"));R.tq=K(O(fg(L(M(N(a("docs-presentation"),"Presentation"),66),"punch"),"New presentation"),"create | new slides | powerpoint | keynote |"));R.wq=K(O(fg(L(M(N(a("docs-spreadsheet"),"Spreadsheet"),68),"spreadsheet"),"New spreadsheet"),"create | new workbook | excel | numbers |"));
R.qq=K(O(fg(L(M(N(a("docs-form"),"Form"),63),"form"),"New form"),"create | new survey | poll | question |"));R.pq=K(O(fg(L(M(N(a("docs-drawing"),"Drawing"),62),"drawing"),"New drawing"),"create new picture | new image | visio | diagram | chart"));R.vq=K(O(fg(L(M(N(a("docs-script"),"Script"),690),"script"),"New script"),"create | automate | macro | extension | plugin"));R.lq=K(O(fg(L(M(N(a("docs-atari"),"Site"),2351),"site"),"New Site"),"create | website | url | web page | site"));R.rq=K(O(fg(M(N(a("docs-template"),
"From template..."),64),"New document from template..."),"create | template | resume | letter |"));R.mq=c("docs-new-custom","",60);R.rn=c("docs-download-menu","Download as",18);R.xh=c("docs-file-menu","",24);R.wh=K(M(L(N(a("docs-export-disabled"),"Export options disabled..."),"help"),2188));R.Qn=c("docs-file-custom","",373);R.OPEN=K(P(O(M(N(a("docs-open"),"Open..."),73).key("Ctrl+O"),"find | document | search ||"),"File commands"));R.Mq=c("docs-open-custom","",344);R.Ht=c("docs-upload-custom","",
115);R.Gt=c("docs-upload","Upload...",114);R.Er=c("docs-revisions-custom","",90);R.jr=K(O(M(N(a("docs-rename"),"Rename..."),84),"save as | save a copy | save | title |"));R.qh=K(P(O(M(N(a("docs-edit-description"),"Edit description..."),20).key("Ctrl+Shift+E"),"change | describe |||"),hg()));R.Mp=K(O(M(N(a("docs-make-copy"),"Make a copy..."),58),"save as | save | save a copy | copy to |"));R.Ai=K(O(L(M(N(a("docs-trash"),"Move to trash"),765),"trash"),"trash | delete | remove ||"));R.es=K(P(L(M(N(a("docs-save"),
"Save"),97).key("Ctrl+S"),"save"),"File commands"));R.ji=K(M(eg(N(a("docs-show-new-changes"),"See new changes"),"See changes since you last viewed this document"),1885));R.ki=K(M(a("docs-show-new-changes-sidebar"),2223));R.mi=K(M(eg(N(a("docs-show-unseen-new-changes"),"See new changes"),"See changes since you last viewed this document"),2109));R.Nh=K(M(a("docs-new-changes-mode"),2194));R.om=K(M(a("docs-close-new-changes"),2193));R.ni=K(M(eg(N(a("docs-show-v0"),"View original document"),"View original document"),
2561));R.sn=K(M(eg(N(a("docs-download-v0"),"Download original document"),"Download original document"),29240).ya("docs-diagnostics-data-translator",bg));R.Gs=c("docs-speak-copy-selection","",663);R.Wq=c("docs-custom-inline","",79);R.Xq=K(O(M(N(a("docs-print-preview"),"Print preview"),80),"printer ||||"));R.Zq=K(M(a("docs-print-preview-mode"),2254));R.Th=K(M(a("docs-print-preview-sidebar"),2224));R.Yq=c("docs-print-preview-close","",81);R.Vq=K(P(O(L(M(N(a("docs-print"),"Print"),78).key("Ctrl+P"),"print"),
"printer ||||"),"File commands"));R.Td=K(dg(O(L(M(N(a("docs-star"),"Star"),102),"star"),"favorite ||||"),function(){var a=new Xf;A(a,31,!!R.Td.g.selected);return a}));R.jf=c("docs-subscribe","Subscribe",104,null,"subscribe");R.gi=K(O(M(N(a("docs-share"),"Share..."),101),"people ||||"));R.gh=c("docs-collections","Move to folder...",11,null,"folder-solid");R.Ph=K(O(L(M(N(a("docs-organize"),"Move to..."),74),"folder-solid"),"organize | folders | Drive | move to | collection"));R.Uh=K(O(M(N(a("docs-publish"),
"Publish to the web..."),82),"send | webpage |||"));R.$q=c("docs-publish-custom","",571);R.Yh=K(O(M(N(a("docs-report-abuse"),"Report abuse/copyright "),87),"Report issue | error |||"));R.Sq=K(O(M(N(a("docs-page-setup"),"Page setup..."),267),"orientation | landscape | portrait | margins | letter"));R.nn=K(O(M(N(a("docs-doc-details"),"Document details..."),2532),"details | information | info | about |"));R.rh=c("docs-edit-menu","Edit",22);R.ih=K(P(O(L(M(N(a("docs-copy"),"Copy"),12).key("Ctrl+C"),"copy"),
"Copy selection ||||"),hg()));R.rm=c("docs-copypaste-custom","",13);R.jh=K(P(O(L(M(N(a("docs-cut"),"Cut"),14).key("Ctrl+X"),"cut"),"Cut selection ||||"),hg()));R.tn=c("docs-edit-custom","",19);R.Qh=K(P(O(L(M(N(a("docs-paste"),"Paste"),76).key("Ctrl+V"),"paste"),"Paste selection ||||"),hg()));R.Rh=K(P(L(M(N(a("docs-paste-without-formatting"),"Paste without formatting"),2462).key("Ctrl+Shift+V"),"paste-without-formatting"),hg()));R.Vh=K(P(O(L(M(N(a("docs-redo"),"Redo"),83).keys(["Ctrl+Y","Ctrl+Shift+Z"]),
"redo"),"redo edit ||||"),hg()));R.Cs=K(P(O(M(N(a("docs-select-all"),"Select all"),99).key("Ctrl+A"),"select everything ||||"),"Selection"));R.bi=K(P(O(M(N(a("docs-select-none"),"Select none"),100).key("Ctrl+Shift+A"),"deselect || unselect ||"),"Selection"));R.Di=K(P(O(L(M(N(a("docs-undo"),"Undo"),113).key("Ctrl+Z"),"undo"),"undo edit ||||"),hg()));R.Vn=c("docs-find-next","",29,["Ctrl+G","F3"]);R.Wn=c("docs-find-previous","",30,["Ctrl+Shift+G","Shift+F3"]);R.Xn=K(P(O(M(N(a("docs-find-start"),"Find..."),
31).key("Ctrl+F"),"search | locate |||"),hg()));R.Sn=c("docs-find","",26);R.Tn=K(P(O(M(N(a("docs-find-and-replace-start"),"Find and replace..."),27).key((pf?"Meta+Shift":"Ctrl")+"+H"),"search | locate |||"),hg()));R.Un=c("docs-find-and-replace-stop","",28);R.REPLACE=c("docs-replace","",85);R.kr=c("docs-replace-all","",86);R.Bq=K(P(M(N(a("docs-nudge-image-down"),"Nudge image down"),1114).key("Down"),lg()));R.Cq=K(P(M(N(a("docs-nudge-image-left"),"Nudge image left"),1115).key("Left"),lg()));R.Hq=K(P(M(N(a("docs-nudge-image-right"),
"Nudge image right"),1120).key("Right"),lg()));R.Iq=K(P(M(N(a("docs-nudge-image-up"),"Nudge image up"),1121).key("Up"),lg()));R.Dq=K(P(M(N(a("docs-nudge-image-pixel-down"),"Nudge image down by a pixel"),1116).key("Shift+Down"),lg()));R.Eq=K(P(M(N(a("docs-nudge-image-pixel-left"),"Nudge image left by a pixel"),1117).key("Shift+Left"),lg()));R.Fq=K(P(M(N(a("docs-nudge-image-pixel-right"),"Nudge image right by a pixel"),1118).key("Shift+Right"),lg()));R.Gq=K(P(M(N(a("docs-nudge-image-pixel-up"),"Nudge image up by a pixel"),
1119).key("Shift+Up"),lg()));R.Tr=c("docs-rotate","",1136);R.ds=c("docs-rotate-menu","Rotate",535);R.Xr=K(P(M(N(a("docs-rotate-cw"),"Rotate clockwise by 15\u00b0"),1077).key("Alt+Right"),lg()));R.Yr=K(P(M(N(a("docs-rotate-cw-1"),"Rotate clockwise by 1\u00b0"),1078).key("Alt+Shift+Right"),lg()));R.Zr=K(O(M(N(a("docs-rotate-cw-90"),"Rotate clockwise 90\u00b0"),537),"turn | pivot | clockwise | spin |"));R.Ur=K(P(M(N(a("docs-rotate-ccw"),"Rotate counter-clockwise by 15\u00b0"),1079).key("Alt+Left"),lg()));
R.Vr=K(P(M(N(a("docs-rotate-ccw-1"),"Rotate counter-clockwise by 1\u00b0"),1080).key("Alt+Shift+Left"),lg()));R.Wr=K(O(M(N(a("docs-rotate-ccw-90"),"Rotate counter-clockwise 90\u00b0"),536),"turn | pivot | counterclockwise | spin |"));R.bs=K(P(M(N(a("docs-rotate-image-cw"),"Rotate image clockwise by 15\u00b0"),1130).key("Alt+Right"),lg()));R.cs=K(P(M(N(a("docs-rotate-image-cw-1"),"Rotate image clockwise by 1\u00b0"),1131).key("Alt+Shift+Right"),lg()));R.$r=K(P(M(N(a("docs-rotate-image-ccw"),"Rotate image counter-clockwise by 15\u00b0"),
1132).key("Alt+Left"),lg()));R.as=K(P(M(N(a("docs-rotate-image-ccw-1"),"Rotate image counter-clockwise by 1\u00b0"),1133).key("Alt+Shift+Left"),lg()));R.Dh=c("docs-insert-menu","Insert",46);R.Io=K(M(a("docs-insert-date-and-time"),1038));R.Jo=K(O(eg(M(N(a("docs-insert-date-and-time-dialog"),"Date & time"),1037),"Insert date and time"),"insert date and time | insert date | insert time | insert day |"));R.Lo=K(O(fg(L(M(N(a("docs-image"),"Image..."),43),"image-type"),"Insert image..."),"photo | picture | add a photo | add a picture | add an image"));
R.Mo=K(M(a("docs-insert-image-blob"),1704));R.Ro=K(O(L(M(N(a("docs-shape"),"Shape"),47),"shapes"),"drawing | diagram |||"));R.So=K(O(fg(L(M(N(a("docs-special-character"),"Special characters..."),48),"special-character"),"Insert special characters..."),"symbol | add a symbol | add symbols ||"));R.To=K(O(fg(L(M(N(a("docs-text-box"),"Text box"),49),"textbox"),"Insert text box"),"area | add |||"));R.fp=K(O(fg(L(M(N(a("docs-video"),"Video..."),50),"video"),"Insert video..."),"movie | youtube | add ||"));
R.Go=K(L(M(N(a("docs-insert-chart-menu"),"Chart"),29191),"chart"));R.Fo=K(L(M(N(a("docs-insert-chart"),"From Sheets..."),29151),"spreadsheet"));R.Eo=K(L(M(N(a("docs-insert-bar-chart"),"Bar"),29187),"bar-chart"));R.Ho=K(L(M(N(a("docs-insert-column-chart"),"Column"),29188),"column-chart"));R.No=K(L(M(N(a("docs-insert-line-chart"),"Line"),29189),"line-chart"));R.Qo=K(L(M(N(a("docs-insert-pie-chart"),"Pie"),29190),"pie-chart"));R.sm=K(P(L(M(N(a("docs-copy-format"),"Copy formatting"),174).key("Ctrl+Alt+C"),
"textbox"),hg()));R.Uq=K(P(M(N(a("docs-paste-format"),"Paste formatting"),271).key("Ctrl+Alt+V"),hg()));R.Ah=c("docs-format-menu","Format",34);R.eh=K(P(O(L(M(N(a("docs-bold"),"Bold"),2).key("Ctrl+B"),"bold"),"strong | dark |||"),mg()));R.ed=K(dg(M(N(a("docs-font-family"),"Font"),32),function(a){var b=new Xf;q(a)&&A(b,12,a);return b}));R.xn=K(O(M(N(a("docs-edit-font-family"),"Get fonts..."),21),"Get fonts ||||"));R.ao=K(O(dg(M(N(a("docs-font-size"),"Font size"),33),function(a){var b=new Xf;Da(a)&&
A(b,9,a);return b}),"point | px | pt | change font size | set font size"));R.fo=K(M(N(a("docs-font-size-menu"),"Font size"),2235));R.co=K(O(M(N(a("docs-font-size-increment"),"Increase font size"),2236).key("Ctrl+Shift+."),"bigger | make the font bigger | make bigger | make it bigger |"));R.bo=K(O(M(N(a("docs-font-size-decrement"),"Decrease font size"),2237).key("Ctrl+Shift+,"),"smaller | make the font smaller | make smaller | make it smaller |"));R.Fh=K(P(O(L(M(N(a("docs-italic"),"Italic"),51).key("Ctrl+I"),
"italic"),"emphasis | emphasized | italicize ||"),mg()));R.Xs=K(P(O(L(M(N(a("docs-strikethrough"),"Strikethrough"),103).key(e?"Ctrl+Shift+X":"Alt+Shift+5"),"strikethrough"),"strike-through | strikethrough |||"),mg()));R.Ys=K(P(O(L(M(N(a("docs-subscript"),"Subscript"),105).key("Ctrl+,"),"subscript"),"sub script | sub-script | apply subscript ||"),mg()));R.Zs=K(P(O(L(M(N(a("docs-superscript"),"Superscript"),106).key("Ctrl+."),"superscript"),"super script | super-script | exponent | apply superscript |"),
mg()));R.bm=c("docs-border-color","Border color",363);R.cm=c("docs-border-style","Border style",372);R.rt=K(O(dg(L(M(N(a("docs-text-bgcolor"),"Text background color"),108),"text-bgcolor"),function(a){var b=new Xf;q(a)&&(a=new Yf([a]),C(b,3,a));return b}),"highlight | background color |||"));R.Aq=c("docs-no-text-bgcolor","Transparent",680,null,"no-color");R.st=c("docs-text-color","Text color",374);R.tt=K(dg(L(M(O(N(a("docs-text-fgcolor"),"Text color"),"Font color ||||"),109),"text-color"),function(a){var b=
new Xf;q(a)&&(a=new Yf([a]),C(b,4,a));return b}));R.Ci=K(P(L(M(N(a("docs-underline"),"Underline"),112).key("Ctrl+U"),"underline"),mg()));R.yq=c("docs-no-fill","Transparent",69,null,"no-color");R.zq=c("docs-no-line","Transparent",70,null,"no-color");R.Rn=c("docs-fill-color","Fill color",25,null,"fill-color");R.hp=c("docs-line-color","Line color",52,null,"line-color");R.kp=c("docs-line-menu","Lines",1171);R.LINE_WIDTH=K(O(L(M(N(a("docs-line-width"),"Line weight"),53),"line-width"),"thickness | width |||"));
R.jp=K(O(L(M(N(a("docs-line-dashing"),"Line dash"),508),"line-type"),"border style | line style | dotted line | stroke style |"));R.Tq=K(L(M(N(a("docs-paint-format"),"Paint format"),75),"paint-format"));R.gm=K(P(O(L(eg(M(N(a("docs-clear-formatting"),"Clear formatting"),5),"Clear formatting").keys(["Ctrl+\\","Ctrl+Space"]),"clear-formatting"),"remove formatting ||||"),mg()));R.Pq=K(P(M(N(a("docs-open-link"),"Open link"),356).key("Alt+Enter"),hg()));R.Bm=K(M(O(N(a("docs-delete-link"),"Remove link"),
"delete link ||||"),15));R.Oo=K(O(fg(M(a("docs-insert-link"),44),"Insert link..."),"url | web site | address | web page | add a hyperlink"));R.Po=K(P(O(fg(L(eg(M(N(a("docs-insert-link-dialog"),"Link..."),45),"Insert link...").key("Ctrl+K"),"link"),"Insert link..."),"url | web site | address | web page | add a hyperlink"),hg()));R.tm=K(M(O(N(a("docs-copy-link"),"Copy link URL"),"copy link ||||"),362));R.Yn=K(gg(M(a("docs-focus-bubble"),659).key($f(["E","P"]))));R.Gi=c("docs-view-menu","",118);R.It=
c("docs-view-custom","",117);R.$t=K(P(O(M(N(a("docs-zoom-in"),"Zoom in"),119).keys(["Ctrl+Alt+Num-Plus","Ctrl+Alt+Equals"]),"increase | bigger | enlarge | magnify |"),ig()));R.au=K(P(O(M(N(a("docs-zoom-out"),"Zoom out"),120).keys(["Ctrl+Alt+Num-Minus","Ctrl+Alt+Dash"]),"decrease | smaller |||"),ig()));R.Fi=K(P(gg(O(M(N(a("docs-view-compact"),"Compact controls"),116).key("Ctrl+Shift+F"),"exit | leave |||")),ig()));R.Ch=K(O(M(N(a("docs-hide-controls"),"Full screen"),42),"exit | leave |||"));R.vt=K(P(M(N(a("docs-toggle-screenreader"),
"Toggle screen reader support"),23).keys(["Ctrl+Alt+Z","Alt+Shift+`"]),kg()));R.zn=c("docs-enable-braille","Enable Braille support",1271);R.iq=K(O(M(N(a("docs-mute_collaborators"),"Turn off collaborator announcements"),29251),"silence collaborators | mute collaborators |||").ya("selected",!1));e=pf?"Meta":"Alt";R.Ks=K(P(gg(M(N(a("docs-speak-selection"),"Speak selection"),338).key("Ctrl+"+e+"+X")),kg()));R.Ls=K(P(gg(M(O(N(a("docs-speak-selection-formatting"),"Speak selection formatting"),"speak formatting ||||"),
660).key($f(["A","F"]))),kg()));R.Js=K(P(gg(M(O(N(a("docs-speak-remaining-section"),"Speak from cursor location"),"speak from here | speak from location |||"),1218).key(e+"+Ctrl+R")),kg()));R.hn=K(P(gg(M(O(N(a("docs-docos-speak-comment"),"Speak comment"),"speak discussion | speak suggestion | speak smart todo | speak action item | speak feedback"),29350).key($f(["A","C"]))),kg()));R.gn=K(P(gg(M(O(N(a("docs-docos-speak-anchor"),"Speak anchor"),"speak commented text | |||"),29351).key($f(["A","A"]))),
kg()));R.zi=c("docs-tools-menu","",111);R.wt=c("docs-tools-custom","",110);R.xt=c("docs-macros-extensions","",775);R.yt=c("docs-tools-top-custom","",721);R.Sh=K(O(M(N(a("docs-preferences"),"Preferences..."),77),"options | settings | configurations ||"));var f=P(O(fg(eg(M(N(a("docs-tools-define"),"Define"),290),"Define word"),"Define word"),"dictionary | look up | lookup | |"),hg()),g=Tf(J(),"docs-explore");g||f.key("Ctrl+Shift+Y");R.yi=K(f);f=P(O(M(N(a("docs-reference-menu"),"Research"),315),"reference | search | lookup | look up |"),
ig());g||f.key("Ctrl+Alt+Shift+I");R.Wh=K(f);R.Xh=c("docs-reference-sidebar","",316);R.gr=c("docs-reference-insert-text","",318);R.dr=c("docs-reference-insert-image","",317);R.er=c("docs-reference-insert-image-placeholder","",350);R.fr=c("docs-reference-insert-link","",339);R.nh=c("docs-dictionary-sidebar","",29211);f=P(O(fg(eg(M(N(a("docs-dictionary-sidebar-focus"),"Define"),29212),"Define word"),"Define word"),"dictionary | look up | lookup | |"),hg());g&&f.key("Ctrl+Shift+Y");R.Hm=K(f);R.Fm=c("docs-dictionary-close",
"",29214);R.Gm=c("docs-dictionary-search","",29335);R.vh=c("docs-explore-sidebar","",2558);f=P(O(M(L(N(a("docs-explore-menu"),"Explore"),"explore-black-padded"),2557),"explore | search | lookup | look up |"),ig());g&&f.key("Ctrl+Alt+Shift+I");R.Mn=K(f);R.Pn=c("docs-explore-widget","",29275);R.Dn=c("docs-explore-close","",2609);R.Jn=c("docs-explore-refresh-nuggets","",2612);R.Kn=c("docs-explore-search","",2613);R.Fn=c("docs-explore-preview-image","",29205);R.Ln=c("docs-explore-show-more","",2610);
R.Nn=c("docs-explore-suggested-content-available","",29201);R.On=c("docs-explore-suggested-content-not-available","",29202);R.En=c("docs-explore-feedback","",29224);R.In=c("docs-explore-promo-show","",29281);R.Gn=c("docs-explore-promo-continue","",29279);R.Hn=c("docs-explore-promo-dismiss","",29280);R.ns=c("docs-scratchpad-sidebar","",29215);R.ks=K(L(M(N(a("docs-scratchpad-open"),"Keep notepad"),29216),"keep-lightbulb"));R.fs=c("docs-scratchpad-close","",29217);R.gs=c("docs-scratchpad-focus","",29218);
R.ls=K(L(M(N(a("docs-scratchpad-save"),"Save to Keep notepad"),29219),"keep-lightbulb"));R.ms=K(L(M(N(a("docs-scratchpad-save-link"),"Save to Keep notepad"),29308),"keep-lightbulb"));R.hs=c("docs-scratchpad-insert","",29241);R.$o=K(M(N(a("docs-insert-tool-open"),"Research"),1899));R.ap=K(M(a("docs-insert-tool-open-image-search"),2211));R.bp=K(M(a("docs-insert-tool-open-web"),2191));R.Vo=c("docs-insert-tool-insert-citation","",29298);R.Zo=K(M(a("docs-insert-tool-insert-text"),1943));R.Wo=c("docs-insert-tool-insert-image",
"",2200);R.Yo=c("docs-insert-tool-insert-image-placeholder","",29270);R.Xo=K(M(a("docs-insert-tool-insert-image-blob"),29262));R.Uo=K(M(a("docs-insert-tool-copy"),2598));R.cp=K(M(a("docs-insert-tool-paste"),2599));R.ep=K(M(a("docs-insert-tool-search"),2192));R.bt=K(O(M(N(a("docs-table-delete"),"Delete table"),1258),"remove table ||||"));R.ct=K(O(M(N(a("docs-table-delete-column"),"Delete column"),1259),"remove column ||||"));R.et=K(O(M(N(a("docs-table-delete-row"),"Delete row"),1260),"remove row ||||"));
R.gt=K(O(N(M(a("docs-table-distribute-columns"),717),"Distribute columns"),"even | equal | same size | width |"));R.ht=K(O(N(M(a("docs-table-distribute-rows"),718),"Distribute rows"),"even | equal | same size | height |"));R.ui=K(dg(M(N(a("docs-table-insert"),"Insert table"),1261),function(a){var b=new Xf;Da(a.width)&&Da(a.height)&&(A(b,13,a.width),A(b,14,a.height));return b}));Of(R.ui,"value",new Ze(0,0));R.it=K(O(M(N(a("docs-table-insert-column-left"),"Insert column left"),1262),"add column left | insert new column left | add new column left ||"));
R.jt=K(O(M(N(a("docs-table-insert-column-right"),"Insert column right"),1263),"add column right | insert new column right | add new column right | insert column | insert new column"));R.kt=K(M(N(a("docs-table-insert-menu"),"Table"),1264));R.lt=K(O(M(N(a("docs-table-insert-row-above"),"Insert row above"),1266),"add row above | insert new row above | add new row above ||"));R.mt=K(O(M(N(a("docs-table-insert-row-below"),"Insert row below"),1267),"add row below | insert new row below | add new row below | insert row | insert new row"));
R.Op=K(M(N(a("docs-mobile-ui-table-insert-column-left"),"Insert column left"),1946));R.Pp=K(M(N(a("docs-mobile-ui-table-insert-column-right"),"Insert column right"),1947));R.Qp=K(M(N(a("docs-mobile-ui-table-insert-row-above"),"Insert row above"),1948));R.Rp=K(M(N(a("docs-mobile-ui-table-insert-row-below"),"Insert row below"),1949));R.Sp=K(M(N(a("docs-mobile-ui-table-insert-single-column-left"),"Insert single column left"),29347));R.Tp=K(M(N(a("docs-mobile-ui-table-insert-single-column-right"),"Insert single column right"),
29348));R.Up=K(M(N(a("docs-mobile-ui-table-insert-single-row-above"),"Insert single row above"),29345));R.Vp=K(M(N(a("docs-mobile-ui-table-insert-single-row-below"),"Insert single row below"),29346));R.nt=c("docs-table-insert-table-menu","Insert table",1265);R.vi=c("docs-table-menu","Table",107);R.ot=K(O(M(N(a("docs-table-merge-cells"),"Merge cells"),1268),"combine ||||"));R.qt=K(O(M(N(a("docs-table-unmerge-cells"),"Unmerge cells"),1269),"separate | split |||"));R.pt=K(P(O(M(N(a("docs-table-select-borders"),
"Select table borders"),446),"select borders ||||"),"Selection"));R.Bh=c("docs-help-menu","",40);R.lo=K(O(M(N(a("docs-help-center"),"Help Center"),35),"help forum | user forum | discussion forum ||"));R.po=K(P(O(fg(M(N(a("docs-help-shortcuts"),"Keyboard shortcuts"),41).key("Ctrl+/"),"See keyboard shortcuts"),"hotkeys ||||"),ig()));R.no=K(O(M(N(a("docs-feedback"),"Report a problem"),37),"Problem | error | feedback ||"));R.ho=K(O(M(N(a("docs-google-help"),"Get help with..."),580),"Problem | help |||"));
R.mo=c("docs-help-custom","",36);R.hf=K(M(a("docs-screenreader-menu"),1278));R.Bs=K(M(a("docs-screenreader-menu-toolbar"),2195));R.zs=c("docs-screenreader-speak-menu","Speak",1317);R.os=c("docs-screenreader-comments-menu","Comments",1368);R.ps=c("docs-screenreader-edits-menu","Edits",2337);R.qs=c("docs-screenreader-footnote-menu","Footnote",1369);R.ts=c("docs-screenreader-headings-menu","Headings",1378);R.ss=c("docs-screenreader-graphics-menu","Graphics",1371);R.vs=c("docs-screenreader-list-menu",
"List",1377);R.us=c("docs-screenreader-link-menu","Link",1373);R.As=c("docs-screenreader-table-menu","Table",1374);R.xs=c("docs-screenreader-misspelling-menu","Misspelling",1375);R.rs=c("docs-screenreader-formatting-menu","Formatting",1376);R.ys=c("docs-screenreader-settings-menu","Settings",1372);R.ws=c("docs-screenreader-menu-custom-items","",1284);R.im=c("docs-clipboard","Web clipboard",6,null,"clipboard");R.km=K(L(M(a("docs-clipboard-copy"),8),"copy"));R.nm=K(L(M(N(a("docs-clipboard-paste-from-server"),
"Paste from server"),10),"paste"));R.jm=K(O(M(N(a("docs-clipboard-clear-items"),"Clear all items"),7),"remove | delete |||"));R.mm=K(O(M(N(a("docs-clipboard-help"),"Web clipboard help"),9),"assist | support |||"));R.Rr=c("docs-revisions-zoomin","Zoom in",95);R.Sr=c("docs-revisions-zoomout","Zoom out",96);R.Mr=c("docs-revisions-revert","",92);R.Ir=K(M(a("docs-revisions-mode"),1956));R.Nr=c("docs-revisions-show","",93);R.Or=K(M(eg(a("docs-revisions-show-revert-dialog"),"Restore this revision"),29319));
R.Dr=c("docs-revisions-close","",89);R.$h=c("docs-revisions-sidebar","",94);R.Fr=c("docs-revisions-diff","",91);R.Hr=c("docs-revisions-load-details","",29299);R.Qr=c("docs-revisions-toggle-name-filter","",29336);R.Gr=K(P(O(M(N(a("docs-revisions-focus"),"See revision history"),346).key("Ctrl+Alt+Shift+H"),"revisions history | revert old changes | undo previous changes | fix | prior versions"),ig()));R.Kr=K(P(gg(O(M(eg(N(a("docs-revisions-move-to-change-next"),"Move to next edit"),"Next edit"),1060).keys(["Ctrl+Alt+K",
$f(["N","R"])]),"move to next edit in revision history | move to next change |||")),ig()));R.Lr=K(P(gg(O(M(eg(N(a("docs-revisions-move-to-change-previous"),"Move to previous edit"),"Previous edit"),1061).keys(["Ctrl+Alt+J",$f(["P","R"])]),"move to previous edit in revision history | move to previous change |||")),ig()));R.Jr=K(M(a("docs-revisions-modify-name"),29323));R.Pr=K(M(N(a("docs-revisions-tile-menu"),"More actions"),29329));R.fh=c("docs-chat-sidebar","",4);R.em=K(P(O(M(N(a("docs-chat-focus"),
"Chat"),3).key("Shift+Esc"),"Chat ||||"),ig()));R.Dm=c("docs-details-close","",353);R.mh=c("docs-details-sidebar","",355);R.Em=c("docs-details-focus","",354);R.Kq=K(gg(N(eg(M(a("docs-omnibox"),71),"Search the menus"),"Search the menus").keys(["Alt+/",d])));R.oo=c("docs-help-omnibox","",750);R.jo=c("docs-hats-focus","",1007,["Ctrl+Alt+Shift+D"]);R.Um=K(P(O(fg(L(eg(M(N(a("docs-docos-insert-discussion"),"Comment"),17),"Add comment").key("Ctrl+Alt+M"),"comment"),"Add comment"),"Add comment ||||"),jg()));
R.Wm=K(O(M(N(a("docs-docos-insert-posted-discussion"),"Comment"),29260),"Add comment | Insert comment |||"));R.Qm=c("docs-docos-delete-discussion","Delete",16);R.Mm=K(P(O(fg(L(eg(M(N(a("docs-docos-activity-box"),"Open comments thread"),625),"Open comments thread").key("Ctrl+Alt+Shift+A"),"comment"),"Open comments thread..."),"Open comments thread | Open discussions thread | Open comments activity box ||"),jg()));R.Km=K(O(M(N(a("docs-docos-accept-all-suggestions"),"Accept all suggestions"),29327),
"Apply recommendations | Batch accept |||"));R.bn=K(O(M(N(a("docs-docos-reject-all-suggestions"),"Reject all suggestions"),29328),"Dismiss recommendations | Delete recommendations | Batch reject ||"));R.Tm=K(O(M(N(a("docs-docos-highlight-suggestions"),"Highlight suggestions"),29340),"Show recommendations | View recommendations |||"));R.$m=K(O(M(N(a("docs-docos-preview-accept-all-suggestions"),'Preview "Accept all" suggestions'),29338),"Show recommendations | Preview batch applied suggestions |||"));
R.an=K(O(M(N(a("docs-docos-preview-reject-all-suggestions"),'Preview "Reject All" suggestions'),29339),"Preview dismiss recommendations | Show deleted recommendations | Preview batch reject ||"));R.Lm=c("docs-docos-accept-suggestion","",670);R.Sm=c("docos-delete-suggestion","",768);R.Xm=K(P(gg(M(N(a("docs-docos-move-into-discussion"),"Enter current comment"),235).key($f(["E","C"]))),jg()));R.ln=K(P(M(N(a("docs-docos-view-discussion"),"View comment"),2356),jg()));R.kn=K(P(M(N(a("docs-docos-view-comment"),
"View comment"),29257),jg()));R.mn=K(P(M(N(a("docs-docos-view-suggestion"),"View suggestion"),29258),jg()));R.Ym=K(P(gg(O(M(N(a("docs-docos-move-to-discussion-next"),"Move to next comment"),238).key($f(["N","C"])),"Go to next comment ||||")),jg()));R.Zm=K(P(gg(O(M(N(a("docs-docos-move-to-discussion-previous"),"Move to previous comment"),239).key($f(["P","C"])),"Go to previous comment ||||")),jg()));R.en=c("docs-docos-reject-suggestion","",671);R.Vm=K(P(M(a("docs-docos-insert-instant-doco"),17),jg()));
R.Om=K(M(a("docs-docos-convert-smart-todo-to-discussion"),29208));R.Pm=K(M(a("docs-docos-convert-smart-todo-to-draft"),29246));R.Nm=K(M(a("docs-docos-convert-draft-to-discussion"),29245));R.Jm=K(a("docs-docos-abort-smart-todo"));R.dn=K(M(a("docs-docos-reject-smart-todo"),29210));R.fn=K(M(a("docs-docos-set-smart-todo-feature-enabled"),29268));R.Rm=K(M(a("docs-docos-delete-draft"),29247));R.Zn=c("docs-focus-editor","",192);R.xp=c("docs-macros-menu","",57);R.vp=K(L(M(N(a("macros-insert"),"Script..."),
55),"insert-script"));R.wp=K(O(M(N(a("macros-manage"),"Script manager..."),56),"find scripts | browse scripts | load scripts ||"));R.np=K(O(M(N(a("macros-editor"),"Script editor..."),54),"edit scripts ||||"));R.up=c("macros-gallery","Script gallery...",349);R.op=c("macros-exec","",337);R.zp=c("macros-resume","",352);R.qp=c("macros-extension-disabled","",992);R.rp=c("macros-extension-help","Help",1081);R.sp=c("macros-extension-menu-promo","",1145);R.pp=c("macros-extensions","Get add-ons...",664);R.Ih=
c("docs-extensions-menu","",1056);R.Jh=c("macros-manage-extensions","Manage add-ons...",757);R.Ap=c("macros-toggle-extension-enabled","",778);R.Bp=c("macros-toggle-extension-enabled-in-all-docs","",1039);R.yp=K(M(a("macros-polymorphic-item"),2452));R.mp=c("macros-application-focus","",692);R.Hh=c("macros-application-sidebar","",693);R.Cp=c("macros-trigger-0","",731,["Ctrl+Alt+Shift+0"]);R.Dp=c("macros-trigger-1","",732,["Ctrl+Alt+Shift+1"]);R.Ep=c("macros-trigger-2","",733,["Ctrl+Alt+Shift+2"]);R.Fp=
c("macros-trigger-3","",734,["Ctrl+Alt+Shift+3"]);R.Gp=c("macros-trigger-4","",735,["Ctrl+Alt+Shift+4"]);R.Hp=c("macros-trigger-5","",736,["Ctrl+Alt+Shift+5"]);R.Ip=c("macros-trigger-6","",737,["Ctrl+Alt+Shift+6"]);R.Jp=c("macros-trigger-7","",738,["Ctrl+Alt+Shift+7"]);R.Kp=c("macros-trigger-8","",739,["Ctrl+Alt+Shift+8"]);R.Lp=c("macros-trigger-9","",740,["Ctrl+Alt+Shift+9"]);R.oh=c("language-menu","Language",232);R.Wl=K(dg(M(a("apply-language-settings"),169),b));R.Oh=c("docs-online","",348);R.uh=
c("embed-parent-focus","",358,["Ctrl+Shift+Esc"]);R.Xl=c("docs-apply-similar-spellcheck-suggestion","",370);R.Yl=c("docs-apply-spellcheck-suggestion","",121);R.Zl=c("docs-apply-spellcheck-suggestion-no-focus","",375);R.to=c("docs-ignore-word","",130);R.uo=c("docs-ignore-word-contextual","",371);R.vo=c("docs-ignore-word-no-focus","",376);R.Ps=c("docs-spellcheck-move-iterator-to-next","Next misspelling",729);R.Qs=c("docs-spellcheck-move-iterator-to-previous","Previous misspelling",730);R.Qq=c("docs-override-spellcheck-suggestion",
"",148);R.Is=c("docs-speak-override-spellcheck-suggestion","",1301);R.Rq=c("docs-override-spellcheck-suggestion-no-focus","",377);R.ir=c("docs-remove-overridden-spellcheck-suggestion","",1236);R.Ms=K(eg(M(a("docs-spellcheck-change-menu"),707),"More change options"));R.Ns=K(eg(M(a("docs-spellcheck-dictionary-menu"),1298),"More dictionary options"));R.Os=K(eg(M(a("docs-spellcheck-ignore-menu"),708),"More ignore options"));R.li=K(O(M(N(a("docs-show-spellcheck-tool"),"Spelling..."),368),"misspelled | spellcheck |||"));
R.qo=K(M(a("docs-highlight-current-misspelled-text"),2637));R.hm=K(M(a("docs-clear-misspelled-text-highlight"),2636));R.ii=K(O(eg(M(N(a("docs-show-dictionary-tool"),"Personal dictionary..."),1255),"Personal dictionary"),"misspelling | dictionary | correction | spellcheck |"));R.dh=K(O(eg(M(N(a("docs-analytics-open"),"Analytics..."),29349),"Analytics"),"views | stats | data | receipt | statistics "));R.hq=c("docs-more-button","More",369);R.Wp=K(eg(M(a("docs-mode-switcher"),1090),"Mode"));R.$p=c("docs-mode-switcher-contextmenu",
"",1094);R.Lh=c("docs-mode-switcher-viewmenu","Mode",1253);R.aq=K(fg(L(M(a("docs-mode-switcher-edit"),1091),"mode-edit"),"Editing mode"));R.bq=K(L(M(N(a("docs-mode-switcher-edit-contextmenu"),"Return to editing"),1095),"mode-edit"));R.cq=K(P(M(N(a("docs-mode-switcher-edit-shortcut"),"Switch to editing"),1233).key("Ctrl+Alt+Shift+Z"),hg()));R.Xp=K(fg(L(M(a("docs-mode-switcher-comment"),1092),"mode-review"),"Suggesting mode"));R.Yp=K(L(M(N(a("docs-mode-switcher-comment-contextmenu"),"Suggest edits"),
1096),"mode-review"));R.Zp=K(P(M(N(a("docs-mode-switcher-comment-shortcut"),"Switch to suggesting"),1232).key("Ctrl+Alt+Shift+X"),hg()));R.eq=K(fg(L(M(a("docs-mode-switcher-view"),1217),"mode-view"),"Viewing mode"));R.fq=K(P(M(N(a("docs-mode-switcher-view-shortcut"),"Switch to viewing"),1234).key("Ctrl+Alt+Shift+C"),hg()));R.xi=K(O(eg(M(a("docs-toggle-input-tools"),360),"Input tools").key("Ctrl+Shift+K"),"Toggle input tools ||||"));R.ai=K(O(eg(M(a("docs-input-tools-menu"),359),"Select input tools").key("Ctrl+Alt+Shift+K"),
"Input tool ||||"));R.Tt=K(O(L(eg(M(N(a("docs-voice-tools-show"),"Voice typing..."),697),"Voice typing"),"mic"),"voice | dictation | speech | speak | microphone"));R.Rt=K(P(dg(O(M(N(a("docs-voice-recording"),"Start voice typing"),696).key("Ctrl+Shift+S"),"voice | dictation | speech | speak | microphone"),b),hg()));R.Pt=c("docs-voice-insert-spoken-text","",709);R.Nt=c("docs-voice-display-dotted-span","",710);R.Jt=c("docs-voice-add-corrections-suggestions","",711);R.Mt=c("docs-voice-clear-corrections-suggestions",
"",712);R.Kt=K(dg(M(a("docs-voice-apply-correction"),713),function(){return new Xf}));R.Qt=K(M(N(a("docs-voice-newline"),"newline"),2483));R.Ut=c("docs-voice-typing-language-menu","",2446);R.Lt=K(dg(M(a("docs-voice-apply-voice-typing-language"),2447),b));R.Ot=K(O(M(N(a("docs-voice-help"),"Voice typing help"),2535),"voice commands help | voice commands list | voice commands | see voice typing help | see all voice commands"));R.St=K(O(M(N(a("docs-voice-stop-listening"),"Stop listening"),29244),"stop dictating | stop voice typing | end listening | end dictating | end voice typing"));
R.Tl=c("docs-alt-text","",681);R.Ul=c("docs-alt-text-dialog","Alt text...",460);R.Sl=c("docs-after-zoom","",1003);R.ZOOM=K(dg(M(N(a("docs-zoom"),"Zoom"),749),function(a){var b=new Xf;Da(a)&&A(b,19,a);return b}));R.bu=K(O(M(N(a("docs-zoom-to-fit"),"Fit"),490).key("Ctrl+Alt+open-square-bracket"),"zoom ||||"));R.um=K(O(L(M(N(a("docs-crop-mode"),"Crop image"),970),"crop"),"resize | reshape | shrink | obscure |"));R.vm=c("docs-crop-mode-exit","",1055,["Enter"]);R.qr=K(P(gg(M(N(a("docs-resize-image-larger"),
"Resize image larger"),1138).key("Ctrl+"+e+"+K")),lg()));R.rr=K(P(gg(M(N(a("docs-resize-image-larger-x"),"Resize image larger horizontally"),1139).key("Ctrl+"+e+"+B")),lg()));R.sr=K(P(gg(M(N(a("docs-resize-image-larger-y"),"Resize image larger vertically"),1140).key("Ctrl+"+e+"+I")),lg()));R.tr=K(P(gg(M(N(a("docs-resize-image-smaller"),"Resize image smaller"),1141).key("Ctrl+"+e+"+J")),lg()));R.ur=K(P(gg(M(N(a("docs-resize-image-smaller-x"),"Resize image smaller horizontally"),1142).key("Ctrl+"+e+
"+W")),lg()));R.vr=K(P(gg(M(N(a("docs-resize-image-smaller-y"),"Resize image smaller vertically"),1143).key("Ctrl+"+e+"+Q")),lg()));R.wr=K(P(gg(M(N(a("docs-resize-larger"),"Resize larger"),1102).key("Ctrl+"+e+"+K")),lg()));R.xr=K(P(gg(M(N(a("docs-resize-larger-x"),"Resize larger horizontally"),1101).key("Ctrl+"+e+"+B")),lg()));R.yr=K(P(gg(M(N(a("docs-resize-larger-y"),"Resize larger vertically"),1100).key("Ctrl+"+e+"+I")),lg()));R.zr=K(P(gg(M(N(a("docs-resize-smaller"),"Resize smaller"),1099).key("Ctrl+"+
e+"+J")),lg()));R.Ar=K(P(gg(M(N(a("docs-resize-smaller-x"),"Resize smaller horizontally"),1097).key("Ctrl+"+e+"+W")),lg()));R.Br=K(P(gg(M(N(a("docs-resize-smaller-y"),"Resize smaller vertically"),1098).key("Ctrl+"+e+"+Q")),lg()));R.lr=K(O(M(N(a("docs-replace-image"),"Replace image..."),1216),"photo | picture | change | switch | swap"));R.mr=K(O(M(a("docs-replace-image-blob"),1868),"photo | picture | change | switch | swap"));R.nr=K(O(M(N(a("docs-replace-image-dialog"),"Replace image..."),1161),"photo | picture | change | switch | swap"));
R.pr=K(O(L(M(N(a("docs-reset-image"),"Reset image"),1174),"reset-image"),"photo | picture | remove filters | revert changes |"));R.Do=K(M(N(a("docs-image-palette"),"Image options..."),29300));R.wo=c("docs-image-effects-brightness","",1291);R.xo=c("docs-image-effects-contrast","",1292);R.yo=c("docs-image-effects-opacity","",1293);R.zo=c("docs-image-effects-recolor","",1294);R.Ao=c("docs-image-effects-reset","",1295);R.Bo=c("docs-image-effects-sidebar","",1296);R.Co=c("docs-image-effects-sidebar-focus",
"Image options...",1297);R.kh=c("docs-debug-menu","",1882);R.ym=c("docs-debug-custom-items","",1883);R.gp=c("docs-js-error","JS Error",504);R.ef=c("docs-no-download","",1863,["Ctrl+P","Ctrl+C","Ctrl+X"]);R.Dt=K(L(M(N(a("docs-update-chart"),"Update chart"),29154),"update-chart"));R.Ct=K(M(N(a("docs-update-all-charts"),"Update all charts"),29276));R.Lq=K(M(N(a("docs-open-chart-in-sheets"),"Open in Sheets"),29184));R.At=K(M(N(a("docs-unlink-chart"),"Unlink from Sheets"),29186));R.$n=K(gg(M(a("docs-focus-embedded-content-controls"),
29193).key($f(["E","O"]))));R.Et=K(L(M(N(a("docs-update-grid-range"),"Update table"),29324),"update-table"));R.Oq=K(M(N(a("docs-open-grid-range-in-sheets"),"Open in Sheets"),29325));R.Bt=K(M(N(a("docs-unlink-grid-range"),"Unlink from Sheets"),29326));R.Nq=K(M(N(a("docs-open-embedding-overflow-menu"),"More options..."),29344));R.wn=K(M(N(a("docs-edit-embedded-grid-range-source"),"Change range"),29342));R.or=K(M(N(a("docs-reset-grid-range"),"Match spreadsheet data and formatting"),29343));R.on=K(M(N(a("docs-domain-template-approve"),
"Approve"),29253));R.qn=K(M(N(a("docs-domain-template-reject"),"Reject"),29254));R.pn=K(M(N(a("docs-domain-template-dismiss-moderation"),"Got it"),29255))})();function zg(a){H.call(this,"docs-action-registered");this.action=a}v(zg,H);Ma(aa().prototype,aa().prototype);function Ag(a){I.call(this);this.fd={};if(!ng){if(ng)for(var b in R)R[b].reset();ng=!0;Pf(R.qh);Pf(R.oh);Pf(R.bi);Pf(R.gi);Pf(R.Sh);Pf(R.Uh);Pf(R.Wh);Pf(R.Yh);Pf(R.uh);Pf(R.ii);Pf(R.ji);Pf(R.ni);Pf(R.mi);Pf(R.li);Pf(R.yi);Pf(R.Ai);Pf(R.Lh);Pf(R.wh);Pf(R.Rh);Qf(R.eh);Qf(R.Fh);Qf(R.Ci);Qf(R.Fi);Qf(R.Ch);Qf(R.Nh);Qf(R.Td);Qf(R.jf);Pf(R.Td);Pf(R.jf);Pf(R.gh);Pf(R.Ph);pf||(Zf(R.jh,"Shift+Delete"),Zf(R.ih,"Ctrl+Insert"),Zf(R.ef,"Shift+Delete"),Zf(R.ef,"Ctrl+Insert"),Zf(R.Qh,"Shift+Insert"));Pf(R.fh);Pf(R.mh);
Pf(R.Hh);Pf(R.$h);Pf(R.Xh);Pf(R.ki);Pf(R.Th);Pf(R.vh);Pf(R.nh);Pf(R.dh);Pf(R.xi);Pf(R.ai);Pf(R.hf);Pf(R.kh);R.Oh.ad(!0);R.Jh.ad(!1);og();a=!!a;if(!ng)throw Error("Actions not registered");Of(R.Vh,"icon",ag("redo",a));Of(R.Di,"icon",ag("undo",a))}this.od={}}v(Ag,I);Ag.prototype.F=function(){Ag.J.F.call(this);for(var a in this.fd)a in this.od||G(this.fd[a])};var Bg={Ko:"docos-insert-discussion",dm:"docos-cancel-insert-discussion",nq:"docos-new-doco",uq:"docos-new-reply",zm:"docos-delete-doco",Cm:"docos-delete-reply",un:"docos-edit-doco",yn:"docos-edit-reply",vn:"docos-edit-draft",am:"docos-before-highlight-doco",ro:"docos-highlight-doco",Hs:"docos-speak-doco",Cr:"docos-resolve-doco",Ft:"docos-update-notification-settings",$l:"docos-back-to-document",Rl:"docos-accept-suggestion",hr:"docos-reject-suggestion",qm:"docos-convert-doco",Am:"docos-reject-doco-with-feedback",
Zt:"docos-write-feedback",Im:"docos-disable-smart-todo-feature",Vt:"docos-vote-doco",Wt:"docos-vote-reply"};function Cg(){Ag.call(this,!1)}v(Cg,Ag);function Dg(a,b){this.o=a;this.g=b;this.constructor.mf||(this.constructor.mf={});this.constructor.mf[this.toString()]=this}Dg.prototype.ka=function(){return this.toString()};Dg.prototype.toString=function(){this.j||(this.j=this.o.g+":"+this.g);return this.j};Dg.prototype.L=h("g");function Eg(a,b){Dg.call(this,a,b)}v(Eg,Dg);function Fg(a){Gg.hasOwnProperty(a);this.g=a;Gg[a]=this}var Gg;Gg={};new Fg("lib");var Hg="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""};function Ig(){}Ig.prototype.next=function(){throw Hg;};Ig.prototype.Ub=function(){return this};function Jg(a){if(a instanceof Ig)return a;if("function"==typeof a.Ub)return a.Ub(!1);if(Ca(a)){var b=0,c=new Ig;c.next=function(){for(;;){if(b>=a.length)throw Hg;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Kg(a,b){if(Ca(a))try{ob(a,b,void 0)}catch(c){if(c!==Hg)throw c;}else{a=Jg(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Hg)throw c;}}};function Lg(a,b){this.j={};this.g=[];this.v=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Lg?(c=a.va(),d=a.ga()):(c=Lb(a),d=Kb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Lg.prototype;k.aa=h("o");k.ga=function(){Mg(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.j[this.g[b]]);return a};k.va=function(){Mg(this);return this.g.concat()};
k.yb=function(a){for(var b=0;b<this.g.length;b++){var c=this.g[b];if(Ng(this.j,c)&&this.j[c]==a)return!0}return!1};k.zb=function(a,b){if(this===a)return!0;if(this.o!=a.aa())return!1;b=b||Og;Mg(this);for(var c,d=0;c=this.g[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Og(a,b){return a===b}k.ca=function(){return 0==this.o};function Pg(a){a.j={};a.g.length=0;a.o=0;a.v=0}function Qg(a,b){Ng(a.j,b)&&(delete a.j[b],a.o--,a.v++,a.g.length>2*a.o&&Mg(a))}
function Mg(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];Ng(a.j,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],Ng(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}k.get=function(a,b){return Ng(this.j,a)?this.j[a]:b};k.set=function(a,b){Ng(this.j,a)||(this.o++,this.g.push(a),this.v++);this.j[a]=b};k.forEach=function(a,b){for(var c=this.va(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Lg(this)};
k.Ub=function(a){Mg(this);var b=0,c=this.v,d=this,e=new Ig;e.next=function(){if(c!=d.v)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw Hg;var e=d.g[b++];return a?e:d.j[e]};return e};function Ng(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Rg(a){return a.aa&&"function"==typeof a.aa?a.aa():Ca(a)||q(a)?a.length:Jb(a)}function Sg(a){if(a.ga&&"function"==typeof a.ga)return a.ga();if(q(a))return a.split("");if(Ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Kb(a)}function Tg(a){if(a.va&&"function"==typeof a.va)return a.va();if(!a.ga||"function"!=typeof a.ga){if(Ca(a)||q(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Lb(a)}}
function Ug(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(Ca(a)||q(a))ob(a,b,void 0);else for(var c=Tg(a),d=Sg(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function Vg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(Ca(a)||q(a))return Array.prototype.every.call(a,b,void 0);for(var c=Tg(a),d=Sg(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Wg(a){this.g=new Lg;if(a){a=Sg(a);for(var b=a.length,c=0;c<b;c++)Xg(this,a[c])}}function Yg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ga(a):b.substr(0,1)+a}k=Wg.prototype;k.aa=function(){return this.g.aa()};function Xg(a,b){a.g.set(Yg(b),b)}k.ca=function(){return this.g.ca()};k.contains=function(a){a=Yg(a);return Ng(this.g.j,a)};k.ga=function(){return this.g.ga()};k.clone=function(){return new Wg(this)};k.zb=function(a){return this.aa()==Rg(a)&&Zg(this,a)};
function Zg(a,b){var c=Rg(b);if(a.aa()>c)return!1;!(b instanceof Wg)&&5<c&&(b=new Wg(b));return Vg(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.yb&&"function"==typeof c.yb?c.yb(a):Ca(c)||q(c)?ub(c,a):Nb(c,a)})}k.Ub=function(){return this.g.Ub(!1)};function $g(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,$g));a.stack||(a.stack=ah($g));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}function ah(a){var b;b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||ah),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=bh(a||arguments.callee.caller,[]));return b}
function bh(a,b){var c=[];if(ub(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ch(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ch(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(bh(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ch(a){if(dh[a])return dh[a];a=String(a);if(!dh[a]){var b=/function ([^\(]+)/.exec(a);dh[a]=b?b[1]:"[Anonymous]"}return dh[a]}var dh={};function eh(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function fh(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function S(a,b){this.g=0;this.C=void 0;this.v=this.j=this.o=null;this.A=this.B=!1;if(a!=ya)try{var c=this;a.call(b,function(a){gh(c,2,a)},function(a){gh(c,3,a)})}catch(d){gh(this,3,d)}}function hh(){this.next=this.context=this.j=this.v=this.g=null;this.o=!1}hh.prototype.reset=function(){this.context=this.j=this.v=this.g=null;this.o=!1};var ih=new uf(function(){return new hh},function(a){a.reset()},100);function jh(a,b,c){var d=ih.get();d.v=a;d.j=b;d.context=c;return d}
function kh(a){if(a instanceof S)return a;var b=new S(ya);gh(b,2,a);return b}function lh(a){return new S(function(b,c){c(a)})}function mh(a,b,c){nh(a,b,c,null)||Af(La(b,a))}function oh(a){return new S(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,n;l<a.length;l++)n=a[l],mh(n,La(f,l),g);else b(e)})}
function ph(a){return new S(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{qd:!0,value:f}:{qd:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],mh(g,La(e,f,!0),La(e,f,!1));else b(d)})}function qh(){var a,b,c=new S(function(c,e){a=c;b=e});return new rh(c,a,b)}S.prototype.then=function(a,b,c){return sh(this,Ea(a)?a:null,Ea(b)?b:null,c)};eh(S);function th(a,b){b=jh(b,b,void 0);b.o=!0;uh(a,b);return a}function vh(a,b,c){return sh(a,null,b,c)}
S.prototype.cancel=function(a){0==this.g&&Af(function(){var b=new wh(a);xh(this,b)},this)};function xh(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.o||(d++,g.g==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.g&&1==d?xh(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):yh(c),zh(c,e,3,b)))}a.o=null}else gh(a,3,b)}function uh(a,b){a.j||2!=a.g&&3!=a.g||Ah(a);a.v?a.v.next=b:a.j=b;a.v=b}
function sh(a,b,c,d){var e=jh(null,null,null);e.g=new S(function(a,g){e.v=b?function(c){try{var e=b.call(d,c);a(e)}catch(u){g(u)}}:a;e.j=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof wh?g(b):a(e)}catch(u){g(u)}}:g});e.g.o=a;uh(a,e);return e.g}S.prototype.H=function(a){this.g=0;gh(this,2,a)};S.prototype.W=function(a){this.g=0;gh(this,3,a)};
function gh(a,b,c){0==a.g&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.g=1,nh(c,a.H,a.W,a)||(a.C=c,a.g=b,a.o=null,Ah(a),3!=b||c instanceof wh||Bh(a,c)))}function nh(a,b,c,d){if(a instanceof S)return uh(a,jh(b||ya,c||null,d)),!0;if(fh(a))return a.then(b,c,d),!0;if(Fa(a))try{var e=a.then;if(Ea(e))return Ch(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function Ch(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function g(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,g,f)}catch(n){f(n)}}function Ah(a){a.B||(a.B=!0,Af(a.N,a))}function yh(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b}S.prototype.N=function(){for(var a;a=yh(this);)zh(this,a,this.g,this.C);this.B=!1};
function zh(a,b,c,d){if(3==c&&b.j&&!b.o)for(;a&&a.A;a=a.o)a.A=!1;if(b.g)b.g.o=null,Dh(b,c,d);else try{b.o?b.v.call(b.context):Dh(b,c,d)}catch(e){Eh.call(null,e)}vf(ih,b)}function Dh(a,b,c){2==b?a.v.call(a.context,c):a.j&&a.j.call(a.context,c)}function Bh(a,b){a.A=!0;Af(function(){a.A&&Eh.call(null,b)})}var Eh=qf;function wh(a){Pa.call(this,a)}v(wh,Pa);wh.prototype.name="cancel";function rh(a,b,c){this.g=a;this.resolve=b;this.reject=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.B=[];this.P=a;this.G=b||null;this.v=this.g=!1;this.o=void 0;this.D=this.T=this.N=!1;this.C=0;this.j=null;this.A=0}k=T.prototype;k.cancel=function(a){if(this.g)this.o instanceof T&&this.o.cancel();else{if(this.j){var b=this.j;delete this.j;a?b.cancel(a):(b.A--,0>=b.A&&b.cancel())}this.P?this.P.call(this.G,this):this.D=!0;this.g||this.R(new Fh)}};k.Cf=function(a,b){this.N=!1;Gh(this,a,b)};function Gh(a,b,c){a.g=!0;a.o=c;a.v=!b;Hh(a)}
function Ih(a){if(a.g){if(!a.D)throw new Jh;a.D=!1}}k.K=function(a){Ih(this);Gh(this,!0,a)};k.R=function(a){Ih(this);Gh(this,!1,a)};k.V=function(a,b){return V(this,a,null,b)};function Kh(a,b){return V(a,b,b,void 0)}function Lh(a,b,c){V(a,b,function(c){var d=b.call(a,c);if(!p(d))throw c;return d},c)}function V(a,b,c,d){a.B.push([b,c,d]);a.g&&Hh(a);return a}k.then=function(a,b,c){var d,e,f=new S(function(a,b){d=a;e=b});V(this,d,function(a){a instanceof Fh?f.cancel():e(a)});return f.then(a,b,c)};eh(T);
function Mh(a,b){V(a,b.K,b.R,b)}function Nh(a,b){b instanceof T?a.V(r(b.Wb,b)):a.V(function(){return b})}T.prototype.Wb=function(a){var b=new T;Mh(this,b);a&&(b.j=this,this.A++);return b};function Oh(a){return rb(a.B,function(a){return Ea(a[1])})}
function Hh(a){if(a.C&&a.g&&Oh(a)){var b=a.C,c=Ph[b];c&&(m.clearTimeout(c.g),delete Ph[b]);a.C=0}a.j&&(a.j.A--,delete a.j);for(var b=a.o,d=c=!1;a.B.length&&!a.N;){var e=a.B.shift(),f=e[0],g=e[1],e=e[2];if(f=a.v?g:f)try{var l=f.call(e||a.G,b);p(l)&&(a.v=a.v&&(l==b||l instanceof Error),a.o=b=l);if(fh(b)||"function"===typeof m.Promise&&b instanceof m.Promise)d=!0,a.N=!0}catch(n){b=n,a.v=!0,Oh(a)||(c=!0)}}a.o=b;d&&(l=r(a.Cf,a,!0),d=r(a.Cf,a,!1),b instanceof T?(V(b,l,d),b.T=!0):b.then(l,d));c&&(b=new Qh(b),
Ph[b.g]=b,a.C=b.g)}function Rh(a){var b=new T;b.K(a);return b}function Sh(a){var b=new T;b.R(a);return b}function Jh(){Pa.call(this)}v(Jh,Pa);Jh.prototype.message="Deferred has already fired";Jh.prototype.name="AlreadyCalledError";function Fh(){Pa.call(this)}v(Fh,Pa);Fh.prototype.message="Deferred was canceled";Fh.prototype.name="CanceledError";function Qh(a){this.g=m.setTimeout(r(this.o,this),0);this.j=a}Qh.prototype.o=function(){delete Ph[this.g];throw this.j;};var Ph={};function Th(a){E.call(this);this.j={};this.B={};this.A={};this.g={};this.C={};this.D={};this.H=a?a.H:new I;this.I=!a;this.o=null;a?(this.o=a,this.A=a.A,this.g=a.g,this.B=a.B,this.C=a.C):t();a=Uh(this);this!=a&&(a.v?a.v.push(this):a.v=[this])}v(Th,E);function Uh(a){for(;a.o;)a=a.o;return a}Th.prototype.get=function(a){var b=Vh(this,a);if(null==b)throw new Wh(a);return b};
function Vh(a,b){for(var c=a;c;c=c.o){if(c.isDisposed())throw Error("AppContext is disposed.");if(c.j[b])return c.j[b][0];if(c.D[b])break}if(c=a.A[b]){c=c(a);if(null==c)throw Error("Factory method for service "+b+" returned null or undefined.");a.Oa(b,c);return c}return null}Th.prototype.Oa=function(a,b,c){if(this.isDisposed())c||G(b);else{this.j[a]=[b,!c];c=Xh(this,this,a);for(var d=0;d<c.length;d++)c[d].K(null);delete this.B[a];return b}};
function Xh(a,b,c){var d=[],e=a.g[c];e&&(pb(e,function(a){var c;a:{for(c=a.Hi;c;){if(c==b){c=!0;break a}c=c.o}c=!1}c&&(d.push(a.d),wb(e,a))}),0==e.length&&delete a.g[c]);return d}function Yh(a,b){a.g&&Ug(a.g,function(a,d,e){pb(a,function(c){c.Hi==b&&wb(a,c)});0==a.length&&delete e[d]})}
Th.prototype.F=function(){if(Uh(this)==this){var a=this.v;if(a)for(;a.length;)a[0].Z()}else for(var a=Uh(this).v,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.j)a=this.j[c],a[1]&&a[0].Z&&a[0].Z();this.j=null;this.I&&this.H.Z();Yh(this,this);this.g=null;G(this.G);this.D=this.G=null;Th.J.F.call(this)};function Wh(a){Pa.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'}v(Wh,Pa);var Zh=new Fg("fva");new Eg(Zh,1);function $h(){Th.call(this)}v($h,Th);function ai(a){return a.get("config")}function bi(a){return a.get("stream")};function ci(a,b,c){var d=fd(a);this.g=a;this.A=b;this.B=c||null;this.v={};this.j={};this.o=new pe(d);b=this.getId();if(a=fd(a))for(a=dd(a),c=0;c<a.length;c++)d=new pe(a[c]),p(z(a[c],13))?this.v[d.getId()]=d:(this.j[d.getId()]=d,this.A.bind(b,d.getId()))}ci.prototype.getId=function(){return this.o.getId()};function di(a){return z(a.g,8)||""}function ei(a){return"draft"==a.B||"client-integrated-draft"==a.B||"instant-doco"==a.B||"smart-todo"==a.B}ci.prototype.hb=function(){return!!z(this.g,9)};
ci.prototype.Ea=function(){return this.o.Ea()};function fi(a,b){this.g=a;this.j=b||null}fi.prototype.getId=function(){return fd(this.g).getId()};function gi(){this.o={};this.g={};this.j=0}function hi(a,b,c){b="$"+b;return a.g[b]?a.g[b]["$"+(c?c:"")]||null:null}function ii(a,b,c,d){c="$"+c;a.g[c]||(a.g[c]={});a.o[b]=new ji;a.g[c]["$"+(d?d:"")]=b}gi.prototype.bind=function(a,b){if(null!==hi(this,a,b))return!1;this.j++;ii(this,this.j,a,b);return!0};function ki(a,b,c){var d=hi(a,b,c);null!==d&&(delete a.o[d],delete a.g["$"+b]["$"+(c?c:"")])}
function li(a,b,c,d,e){var f=hi(a,b,c);if(null===f||null!==hi(a,d,e))return!1;ki(a,b,c||void 0);ii(a,f,d,e);return!0}function mi(a,b,c){return hi(a,b,c)||0}function ji(){};function ni(a){I.call(this);this.G=a;this.g={};this.j={};this.A=[];this.D=[];this.C={};this.B={};this.o=new gi}v(ni,I);
function oi(a,b,c){c=c||"c";var d=pi(a),e=qi(a,b.getId(),z(fd(b.g),11)||"");if(e){var f=e.getId(),g=e.Ea(),l;b=b.g;var n=Rc(e.g);fd(b);for(var u=fd(b),y=b.getId(),D=null!=y?y:e.getId(),y=p(z(u,13))&&0!=z(u,13)&&!e.Ea(),U=(!p(z(u,13))||0==z(u,13))&&e.Ea(),Q=dd(u),ha=0;ha<Q.length;ha++){var la=Q[ha],Y=e.j[la.getId()||""]||e.j[z(la,11)||""];l=!1;Y||(Y=e.v[la.getId()||""]||e.v[z(la,11)||""],l=!!Y);if(Y){var $a=Y.getId();Y.update(la);if($a!=Y.getId()&&(delete e.j[$a],e.j[Y.getId()]=Y,mi(e.A,D,$a)&&!li(e.A,
D,$a,D,Y.getId())))throw Error("Error updating ID from "+D+", "+$a+" to "+D+", "+Y.getId());Y.Ea()?(delete e.j[Y.getId()],e.v[Y.getId()]=Y,ki(e.A,D,Y.getId())):l&&!Y.Ea()&&(delete e.v[Y.getId()],e.j[Y.getId()]=Y,e.A.bind(D,Y.getId()))}else Y=new pe(la),Y.Ea()?(e.v[Y.getId()]=Y,ki(e.A,D,Y.getId())):(e.j[Y.getId()]=Y,delete e.v[Y.getId()],e.A.bind(D,Y.getId())),Y=dd(fd(e.g)),Y.push(la),la=fd(e.g),Ic(la,8,Y)}D=0;p(z(b,6))&&z(b,6)!=!!z(e.g,6)&&(D=z(b,6)?D|2:D|4);y&&!l?D|=16:U&&(D|=8);Ic(u,8,[]);y&&(C(u,
3,void 0),C(u,4,void 0),C(u,9,void 0));Zd(e.g,b);e.o.update(u);Oc(e.g,n)||(D|=1);l=D;ri(a,e);if(f!=e.getId()&&(delete a.g[f],delete a.j[f],b=mi(a.o,f),delete a.C[b],a.g[e.getId()]=e,b&&!li(a.o,f,null,e.getId(),null)))throw Error("Error updating ID from "+f+" to "+e.getId());b=mi(a.o,e.getId());e.Ea()?(delete a.g[e.getId()],ki(a.o,e.getId()),a.j[e.getId()]=e,b&&(a.C[b]=e),"n"!=c&&!ei(e)&&e.hb()&&(vb(a.A,e.getId()),vb(a.D,e.getId())),a.dispatchEvent(new si("dd",c,e.getId(),f!=e.getId()?f:void 0,di(e)))):
(g&&(delete a.j[e.getId()],delete a.C[b],a.g[e.getId()]=e,di(e)&&a.o.bind(e.getId()),e.getId()),0!=l&&("n"!=c&&!ei(e)&&e.hb()&&vb(a.A,e.getId()),a.dispatchEvent(new si("cd",c,e.getId(),f!=e.getId()?f:void 0,di(e)))))}else if(e=a.o,f=b.j?b.j:void 0,e=new ci(Rc(b.g),e,f),e.Ea())a.j[e.getId()]=e;else if((f=z(a.G.g,38))||(f=B(e.o.g,ad,18),f=!(null!=f&&new oe(f)&&e.o)),f){f=c||"c";if(p(z(e.g,8)))if(g=di(e),(l=a.B[g]||null)&&di(l)!=g?(delete a.B[g],g=null):g=l,g&&ei(g)){if(li(a.o,g.getId(),null,e.getId(),
null),g=g.getId(),l=f||"c",b=a.g[g])p(z(b.g,8))&&(di(b),delete a.B[di(b)]),delete a.g[g],ki(a.o,g),a.dispatchEvent(new si("dd",l,g,void 0))}else a.o.bind(e.getId());a.g[e.getId()]=e;ri(a,e);z(e.g,6);"n"!=f&&!ei(e)&&e.hb()&&vb(a.A,e.getId());a.dispatchEvent(new si("cd",f,e.getId(),void 0,di(e),mi(a.o,e.getId())))}pi(a)!=d&&(pi(a),a.dispatchEvent(new si("p",c,void 0,void 0)))}
function ti(a){function b(a){return a.hb()}var c=Array.prototype.filter.call(Kb(a.g),b,void 0);a=Array.prototype.filter.call(Kb(a.j),b,void 0);return c.concat(a)}function pi(a){function b(a){return a.hb()}return!(!Pb(a.g,b)&&!Pb(a.j,b))}function ui(a){for(var b=0;b<a.A.length;b++){var c=a.A[b],d=a.g[c];d||(d=a.j[c]);if(d&&d.hb())return!0}return!1}function qi(a,b,c){return a.g[b]||a.j[b]||a.g[c]||a.j[c]||null}function ri(a,b){di(b)&&(b.Ea()?delete a.B[di(b)]:a.B[di(b)]=b)}
function vi(a){a.dispatchEvent(new si("f","c",void 0,void 0));a.dispatchEvent(new si("af","c"))}function si(a,b,c,d){H.call(this,a);this.source=b;this.j=c||null;this.g=d||null}v(si,H);function wi(){var a=Math.floor(4294967296*Math.random()).toString(16),a=gb("0",Math.max(0,8-a.length))+a;return Math.floor(2147483648*Math.random()).toString(16)+a};function W(a){E.call(this);this.j=a;this.g={}}v(W,E);var xi=[];W.prototype.listen=function(a,b,c,d){Ba(b)||(b&&(xi[0]=b.toString()),b=xi);for(var e=0;e<b.length;e++){var f=Ke(a,b[e],c||this.handleEvent,d||!1,this.j||this);if(!f)break;this.g[f.key]=f}return this};function yi(a,b,c,d){return zi(a,b,c,d,void 0)}function zi(a,b,c,d,e,f){if(Ba(c))for(var g=0;g<c.length;g++)zi(a,b,c[g],d,e,f);else{b=Re(b,c,d||a.handleEvent,e,f||a.j||a);if(!b)return a;a.g[b.key]=b}return a}
W.prototype.Bc=function(a,b,c,d,e){if(Ba(b))for(var f=0;f<b.length;f++)this.Bc(a,b[f],c,d,e);else if(a=Ue(a,b,c||this.handleEvent,d,e||this.j||this))Te(a),delete this.g[a.key];return this};function Ai(a){Hb(a.g,function(a,c){this.g.hasOwnProperty(c)&&Te(a)},a);a.g={}}W.prototype.F=function(){W.J.F.call(this);Ai(this)};W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Bi(){this.g=t()}new Bi;Bi.prototype.set=ba("g");Bi.prototype.reset=function(){this.set(t())};Bi.prototype.get=h("g");function Ci(a,b){this.cb=new wc(a);this.g=b?uc:tc}Ci.prototype.stringify=function(a){return this.cb.ka(a)};Ci.prototype.parse=function(a){return this.g(a)};function Di(a){this.j=0;this.o=a||100;this.g=[]}k=Di.prototype;k.get=function(a){a=Ei(this,a);return this.g[a]};k.set=function(a,b){a=Ei(this,a);this.g[a]=b};k.aa=function(){return this.g.length};k.ca=function(){return 0==this.g.length};k.ga=function(){for(var a=this.aa(),b=this.aa(),c=[],a=this.aa()-a;a<b;a++)c.push(this.get(a));return c};k.va=function(){for(var a=[],b=this.aa(),c=0;c<b;c++)a[c]=c;return a};k.yb=function(a){for(var b=this.aa(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};
function Fi(a){return 0==a.aa()?null:a.get(a.aa()-1)}function Ei(a,b){if(b>=a.g.length)throw Error("Out of bounds exception");return a.g.length<a.o?b:(a.j+Number(b))%a.o};function Gi(a,b){this.o=this.N=this.v="";this.C=null;this.A=this.g="";this.B=!1;var c;a instanceof Gi?(this.B=p(b)?b:a.B,Hi(this,a.v),this.N=a.N,Ii(this,a.o),Ji(this,a.C),this.g=a.g,Ki(this,a.j.clone()),this.A=a.A):a&&(c=String(a).match(Ed))?(this.B=!!b,Hi(this,c[1]||"",!0),this.N=Li(c[2]||""),Ii(this,c[3]||"",!0),Ji(this,c[4]),this.g=Li(c[5]||"",!0),Ki(this,c[6]||"",!0),this.A=Li(c[7]||"")):(this.B=!!b,this.j=new Mi(null,0,this.B))}
Gi.prototype.toString=function(){var a=[],b=this.v;b&&a.push(Ni(b,Oi,!0),":");var c=this.o;if(c||"file"==b)a.push("//"),(b=this.N)&&a.push(Ni(b,Oi,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.C,null!=c&&a.push(":",String(c));if(c=this.g)this.o&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ni(c,"/"==c.charAt(0)?Pi:Qi,!0));(c=this.j.toString())&&a.push("?",c);(c=this.A)&&a.push("#",Ni(c,Ri));return a.join("")};
Gi.prototype.resolve=function(a){var b=this.clone(),c=!!a.v;c?Hi(b,a.v):c=!!a.N;c?b.N=a.N:c=!!a.o;c?Ii(b,a.o):c=null!=a.C;var d=a.g;if(c)Ji(b,a.C);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.o&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=Ra(e,"/"),e=e.split("/"),f=[],g=0;g<e.length;){var l=e[g++];"."==l?d&&g==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=f[0])&&
f.pop(),d&&g==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.j.toString();c?Ki(b,a.j.clone()):c=!!a.A;c&&(b.A=a.A);return b};Gi.prototype.clone=function(){return new Gi(this)};function Hi(a,b,c){a.v=c?Li(b,!0):b;a.v&&(a.v=a.v.replace(/:$/,""))}function Ii(a,b,c){a.o=c?Li(b,!0):b}function Ji(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.C=b}else a.C=null}
function Ki(a,b,c){b instanceof Mi?(a.j=b,Si(a.j,a.B)):(c||(b=Ni(b,Ti)),a.j=new Mi(b,0,a.B))}function Ui(a,b,c){a.j.set(b,c);return a}function Vi(a,b,c){Ba(c)||(c=[String(c)]);Wi(a.j,b,c)}function Xi(a){Ui(a,"zx",kb());return a}function Yi(a){return a instanceof Gi?a.clone():new Gi(a,void 0)}function Zi(a,b,c,d){var e=new Gi(null,void 0);a&&Hi(e,a);b&&Ii(e,b);c&&Ji(e,c);d&&(e.g=d);return e}function Li(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function Ni(a,b,c){return q(a)?(a=encodeURI(a).replace(b,$i),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $i(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Oi=/[#\/\?@]/g,Qi=/[\#\?:]/g,Pi=/[\#\?]/g,Ti=/[\#\?@]/g,Ri=/#/g;function Mi(a,b,c){this.j=this.g=null;this.o=a||null;this.v=!!c}function aj(a){a.g||(a.g=new Lg,a.j=0,a.o&&Id(a.o,function(b,c){b=Va(b);aj(a);a.o=null;b=bj(a,b);var d=a.g.get(b);d||a.g.set(b,d=[]);d.push(c);a.j=a.j+1}))}k=Mi.prototype;
k.aa=function(){aj(this);return this.j};function cj(a,b){aj(a);b=bj(a,b);Ng(a.g.j,b)&&(a.o=null,a.j=a.j-a.g.get(b).length,Qg(a.g,b))}k.ca=function(){aj(this);return 0==this.j};function dj(a,b){aj(a);b=bj(a,b);return Ng(a.g.j,b)}k.yb=function(a){var b=this.ga();return ub(b,a)};k.va=function(){aj(this);for(var a=this.g.ga(),b=this.g.va(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.ga=function(a){aj(this);var b=[];if(q(a))dj(this,a)&&(b=zb(b,this.g.get(bj(this,a))));else{a=this.g.ga();for(var c=0;c<a.length;c++)b=zb(b,a[c])}return b};k.set=function(a,b){aj(this);this.o=null;a=bj(this,a);dj(this,a)&&(this.j=this.j-this.g.get(a).length);this.g.set(a,[b]);this.j=this.j+1;return this};k.get=function(a,b){a=a?this.ga(a):[];return 0<a.length?String(a[0]):b};function Wi(a,b,c){cj(a,b);0<c.length&&(a.o=null,a.g.set(bj(a,b),Ab(c)),a.j=a.j+c.length)}
k.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.va(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ga(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.o=a.join("&")};k.clone=function(){var a=new Mi;a.o=this.o;this.g&&(a.g=this.g.clone(),a.j=this.j);return a};function bj(a,b){b=String(b);a.v&&(b=b.toLowerCase());return b}
function Si(a,b){b&&!a.v&&(aj(a),a.o=null,a.g.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(cj(this,b),Wi(this,c,a))},a));a.v=b};function ej(a,b){I.call(this);this.j=a||1;this.g=b||m;this.o=r(this.Kl,this);this.A=t()}v(ej,I);k=ej.prototype;k.enabled=!1;k.Ua=null;k.setInterval=function(a){this.j=a;this.Ua&&this.enabled?(this.stop(),this.start()):this.Ua&&this.stop()};k.Kl=function(){if(this.enabled){var a=t()-this.A;0<a&&a<.8*this.j?this.Ua=this.g.setTimeout(this.o,this.j-a):(this.Ua&&(this.g.clearTimeout(this.Ua),this.Ua=null),this.dispatchEvent("tick"),this.enabled&&(this.Ua=this.g.setTimeout(this.o,this.j),this.A=t()))}};
k.start=function(){this.enabled=!0;this.Ua||(this.Ua=this.g.setTimeout(this.o,this.j),this.A=t())};k.stop=function(){this.enabled=!1;this.Ua&&(this.g.clearTimeout(this.Ua),this.Ua=null)};k.F=function(){ej.J.F.call(this);this.stop();delete this.g};function fj(a,b,c){if(Ea(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)}function gj(a){m.clearTimeout(a)}
function hj(){var a=null;return vh(new S(function(b,c){a=fj(function(){b(void 0)},3E5);-1==a&&c(Error("Failed to schedule timer."))}),function(b){gj(a);throw b;})};function ij(a,b,c){E.call(this);this.v=null!=c?r(a,c):a;this.o=b;this.j=r(this.Yk,this);this.g=[]}v(ij,E);k=ij.prototype;k.Kd=!1;k.kc=null;k.Mb=function(a){this.g=arguments;this.kc?this.Kd=!0:jj(this)};k.stop=function(){this.kc&&(gj(this.kc),this.kc=null,this.Kd=!1,this.g=[])};k.F=function(){ij.J.F.call(this);this.stop()};k.Yk=function(){this.kc=null;this.Kd&&(this.Kd=!1,jj(this))};function jj(a){a.kc=fj(a.j,a.o);a.v.apply(null,a.g)};function kj(){}kj.prototype.g=null;function lj(a){var b;(b=a.g)||(b={},mj(a)&&(b[0]=!0,b[1]=!0),b=a.g=b);return b};var nj;function oj(){}v(oj,kj);function pj(a){return(a=mj(a))?new ActiveXObject(a):new XMLHttpRequest}function mj(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j}nj=new oj;function qj(a,b,c,d,e){this.g=a;this.fa=c;this.B=d;this.A=e||1;this.za=45E3;this.o=new W(this);this.v=new ej;this.v.setInterval(250)}k=qj.prototype;k.Nb=null;k.Hb=!1;k.Dc=null;k.cf=null;k.Ed=null;k.sd=null;k.Fc=null;k.Fd=null;k.Rb=null;k.Fa=null;k.Qd=0;k.Xg=null;k.Nd=null;k.lc=null;k.Rc=-1;k.Hc=!1;k.Ce=0;k.Cd=null;var rj={},sj={};k=qj.prototype;k.setTimeout=ba("za");function tj(a,b,c){a.sd=1;a.Fc=Xi(b.clone());a.Rb=c;a.j=!0;uj(a,null)}
function vj(a,b,c,d){a.sd=1;a.Fc=Xi(b.clone());a.Rb=null;a.j=c;uj(a,d)}function uj(a,b){a.Ed=t();wj(a);a.Fd=a.Fc.clone();Vi(a.Fd,"t",a.A);a.Qd=0;a.Fa=a.g.ee(a.g.bd()?b:null);0<a.Ce&&(a.Cd=new ij(r(a.ah,a,a.Fa),a.Ce));a.o.listen(a.Fa,"readystatechange",a.sl);b=a.Nb?Rb(a.Nb):{};a.Rb?(a.Nd="POST",b["Content-Type"]="application/x-www-form-urlencoded",a.Fa.send(a.Fd,a.Nd,a.Rb,b)):(a.Nd="GET",a.Fa.send(a.Fd,a.Nd,null,b));a.g.sb(1)}k.sl=function(a){a=a.target;var b=this.Cd;b&&3==xj(a)?b.Mb():this.ah(a)};
k.ah=function(a){try{if(a==this.Fa)a:{var b=xj(this.Fa),c=this.Fa.o,d=this.Fa.ba();if(!jc("420+")){if(4>b)break a}else if(3>b||3==b&&!this.Fa.sa())break a;this.Hc||4!=b||7==c||(8==c||0>=d?this.g.sb(3):this.g.sb(2));yj(this);var e=this.Fa.ba();this.Rc=e;var f=this.Fa.sa();if(this.Hb=200==e){4==b&&zj(this);if(this.j){for(a=!0;!this.Hc&&this.Qd<f.length;){var g=Aj(this,f);if(g==sj){4==b&&(this.lc=4,Bj(),a=!1);Cj(null);break}else if(g==rj){this.lc=4;Bj();Cj(f);a=!1;break}else Cj(g),Dj(this,g)}4==b&&0==
f.length&&(this.lc=1,Bj(),a=!1);this.Hb=this.Hb&&a;a||(Cj(f),zj(this),Ej(this))}else Cj(f),Dj(this,f);this.Hb&&!this.Hc&&(4==b?this.g.Oe(this):(this.Hb=!1,wj(this)))}else this.lc=400==e&&0<f.indexOf("Unknown SID")?3:0,Bj(),zj(this),Ej(this)}}catch(l){}finally{}};function Aj(a,b){var c=a.Qd,d=b.indexOf("\n",c);if(-1==d)return sj;c=Number(b.substring(c,d));if(isNaN(c))return rj;d+=1;if(d+c>b.length)return sj;b=b.substr(d,c);a.Qd=d+c;return b}k.cancel=function(){this.Hc=!0;zj(this)};
function wj(a){a.cf=t()+a.za;Fj(a,a.za)}function Fj(a,b){if(null!=a.Dc)throw Error("WatchDog timer not null");a.Dc=Gj(r(a.gl,a),b)}function yj(a){a.Dc&&(m.clearTimeout(a.Dc),a.Dc=null)}k.gl=function(){this.Dc=null;var a=t();0<=a-this.cf?(2!=this.sd&&this.g.sb(3),zj(this),this.lc=2,Bj(),Ej(this)):Fj(this,this.cf-a)};function Ej(a){a.g.og()||a.Hc||a.g.Oe(a)}function zj(a){yj(a);G(a.Cd);a.Cd=null;a.v.stop();Ai(a.o);if(a.Fa){var b=a.Fa;a.Fa=null;b.abort();b.Z()}a.Xg&&(a.Xg=null)}k.gb=h("fa");k.fb=h("B");
function Dj(a,b){try{a.g.yg(a,b),a.g.sb(4)}catch(c){}};function Cj(a){if(a&&"y2f%"!=a)try{var b=uc(a);if(b)for(a=0;a<b.length;a++)if(Ba(b[a])){var c=b[a];if(!(2>c.length)){var d=c[1];if(Ba(d)&&!(1>d.length)){var e=d[0];if("noop"!=e&&"stop"!=e)for(var f=1;f<d.length;f++)d[f]=""}}}vc(b)}catch(g){}};function Hj(a,b,c,d,e){if(0==d)c(!1);else{var f=e||0;d--;Ij(a,b,function(e){e?c(!0):m.setTimeout(function(){Hj(a,b,c,d,f)},f)})}}function Ij(a,b,c){var d=new Image;d.onload=function(){try{Jj(d),c(!0)}catch(e){}};d.onerror=function(){try{Jj(d),c(!1)}catch(e){}};d.onabort=function(){try{Jj(d),c(!1)}catch(e){}};d.ontimeout=function(){try{Jj(d),c(!1)}catch(e){}};m.setTimeout(function(){if(d.ontimeout)d.ontimeout()},b);d.src=a}
function Jj(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};function Kj(a){this.g=a;this.j=new Ci(null,!0)}k=Kj.prototype;k.Ae=null;k.Va=null;k.Dd=!1;k.Be=null;k.Wa=null;k.rb=-1;k.rd=null;k.Gc=null;k.connect=function(a){this.Be=a;a=Lj(this.g,null,this.Be);Bj();t();var b=this.g.N;null!=b?(this.rd=Mj(this.g,b[0]),(this.Gc=b[1])?(this.Wa=1,Nj(this)):(this.Wa=2,Oj(this))):(Vi(a,"MODE","init"),this.Va=new qj(this,0,void 0,void 0,void 0),this.Va.Nb=this.Ae,vj(this.Va,a,!1,null),this.Wa=0)};
function Nj(a){var b=Lj(a.g,a.Gc,"/mail/images/cleardot.gif");Xi(b);Hj(b.toString(),5E3,r(a.Li,a),3,2E3);a.sb(1)}k.Li=function(a){if(a)this.Wa=2,Oj(this);else{Bj();var b=this.g;b.ab=b.xb.rb;Pj(b,9)}a&&this.sb(2)};function Oj(a){var b=a.g.H;null!=b?(Bj(),b?(Bj(),Qj(a.g,a,!1)):(Bj(),Qj(a.g,a,!0))):(a.Va=new qj(a,0,void 0,void 0,void 0),a.Va.Nb=a.Ae,b=a.g,b=Lj(b,b.bd()?a.rd:null,a.Be),Bj(),Vi(b,"TYPE","xmlhttp"),vj(a.Va,b,!1,a.rd))}k.ee=function(a){return this.g.ee(a)};
k.abort=function(){this.Va&&(this.Va.cancel(),this.Va=null);this.rb=-1};k.og=ca(!1);k.yg=function(a,b){this.rb=a.Rc;if(0==this.Wa)if(b){try{var c=this.j.parse(b)}catch(d){a=this.g;a.ab=this.rb;Pj(a,2);return}this.rd=Mj(this.g,c[0]);this.Gc=c[1]}else a=this.g,a.ab=this.rb,Pj(a,2);else 2==this.Wa&&(this.Dd?(Bj(),t()):"11111"==b?(Bj(),this.Dd=!0,t(),this.rb=200,this.Va.cancel(),Bj(),Qj(this.g,this,!0)):(Bj(),t(),this.Dd=!1))};
k.Oe=function(){this.rb=this.Va.Rc;if(this.Va.Hb)0==this.Wa?this.Gc?(this.Wa=1,Nj(this)):(this.Wa=2,Oj(this)):2==this.Wa&&(this.Dd?(Bj(),Qj(this.g,this,!0)):(Bj(),Qj(this.g,this,!1)));else{0==this.Wa?Bj():2==this.Wa&&Bj();var a=this.g;a.ab=this.rb;Pj(a,2)}};k.bd=function(){return this.g.bd()};k.sb=function(a){this.g.sb(a)};function Rj(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function Sj(a){I.call(this);this.headers=new Lg;this.P=a||null;this.j=!1;this.O=this.g=null;this.I="";this.o=0;this.A="";this.C=this.U=this.G=this.T=!1;this.D=0;this.M=null;this.B="";this.Y=this.nc=!1}v(Sj,I);var Tj=/^https?$/i,Uj=["POST","PUT"],Vj=[];function Wj(a,b,c,d,e,f,g){var l=new Sj;Vj.push(l);b&&l.listen("complete",b);De(l.v,"ready",l.Oi,!0,void 0,void 0);f&&Xj(l,f);g&&(l.nc=g);l.send(a,c,d,e)}k=Sj.prototype;k.Oi=function(){this.Z();wb(Vj,this)};function Xj(a,b){a.D=Math.max(0,b)}
k.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+a);b=b?b.toUpperCase():"GET";this.I=a;this.A="";this.o=0;this.T=!1;this.j=!0;this.g=this.de();this.O=this.P?lj(this.P):lj(nj);this.g.onreadystatechange=r(this.xg,this);try{this.ba(),this.U=!0,this.g.open(b,String(a),!0),this.U=!1}catch(f){this.ba();Yj(this,f);return}a=c||"";var e=this.headers.clone();d&&Ug(d,function(a,b){e.set(b,a)});d=sb(e.va(),Zj);c=m.FormData&&a instanceof
m.FormData;!ub(Uj,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.B&&(this.g.responseType=this.B);"withCredentials"in this.g&&this.g.withCredentials!==this.nc&&(this.g.withCredentials=this.nc);try{ak(this),0<this.D&&(this.Y=!1,this.ba(),this.Y?(this.g.timeout=this.D,this.g.ontimeout=r(this.za,this)):this.M=fj(this.za,this.D,this)),this.ba(),this.G=!0,this.g.send(a),this.G=!1}catch(f){this.ba(),Yj(this,
f)}};function Zj(a){return"content-type"==a.toLowerCase()}k.de=function(){return this.P?pj(this.P):pj(nj)};k.za=function(){"undefined"!=typeof va&&this.g&&(this.A="Timed out after "+this.D+"ms, aborting",this.o=8,this.ba(),this.dispatchEvent("timeout"),this.abort(8))};function Yj(a,b){a.j=!1;a.g&&(a.C=!0,a.g.abort(),a.C=!1);a.A=b;a.o=5;bk(a);ck(a)}function bk(a){a.T||(a.T=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(a){this.g&&this.j&&(this.ba(),this.j=!1,this.C=!0,this.g.abort(),this.C=!1,this.o=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ck(this))};k.F=function(){this.g&&(this.j&&(this.j=!1,this.C=!0,this.g.abort(),this.C=!1),ck(this,!0));Sj.J.F.call(this)};k.xg=function(){this.isDisposed()||(this.U||this.G||this.C?dk(this):this.Ne())};k.Ne=function(){dk(this)};
function dk(a){if(a.j&&"undefined"!=typeof va)if(a.O[1]&&4==xj(a)&&2==a.ba())a.ba();else if(a.G&&4==xj(a))fj(a.xg,0,a);else if(a.dispatchEvent("readystatechange"),4==xj(a)){a.ba();a.j=!1;try{if(a.Db())a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.o=6;var b;try{b=2<xj(a)?a.g.statusText:""}catch(c){b=""}a.A=b+" ["+a.ba()+"]";bk(a)}}finally{ck(a)}}}
function ck(a,b){if(a.g){ak(a);var c=a.g,d=a.O[0]?ya:null;a.g=null;a.O=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function ak(a){a.g&&a.Y&&(a.g.ontimeout=null);Da(a.M)&&(gj(a.M),a.M=null)}k.Db=function(){var a=this.ba(),b;if(!(b=Rj(a))){if(a=0===a)a=String(this.I).match(Ed)[1]||null,!a&&m.self&&m.self.location&&(a=m.self.location.protocol,a=a.substr(0,a.length-1)),a=!Tj.test(a?a.toLowerCase():"");b=a}return b};function xj(a){return a.g?a.g.readyState:0}
k.ba=function(){try{return 2<xj(this)?this.g.status:-1}catch(a){return-1}};k.sa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}};function ek(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.B){case "":case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}
k.getAllResponseHeaders=function(){return this.g&&4==xj(this)?this.g.getAllResponseHeaders():""};ue(function(a){Sj.prototype.Ne=a(Sj.prototype.Ne)});function fk(a,b,c,d){this.C=a||null;this.g=1;this.j=[];this.o=[];this.v=new Ci(null,!0);this.N=b||null;this.H=null!=c?c:null;this.A=d||!1}k=fk.prototype;k.Qc=null;k.Nc=null;k.Ka=null;k.qa=null;k.ze=null;k.pd=null;k.tf=null;k.ye=null;k.cg=!0;k.Wc=0;k.na=null;k.Ab=null;k.ob=null;k.Jb=null;k.xb=null;k.$e=null;k.wd=-1;k.qg=-1;k.ab=-1;k.Oc=0;k.Vb=0;k.dg=0;k.Ld=!1;k.Ib=8;var gk=new I;function hk(a){H.call(this,"statevent",a)}v(hk,H);function ik(a,b){H.call(this,"timingevent",a);this.size=b}v(ik,H);
function jk(a){H.call(this,"serverreachability",a)}v(jk,H);k=fk.prototype;k.connect=function(a,b,c,d,e){Bj();this.ze=b;this.Nc=c||{};d&&p(e)&&(this.Nc.OSID=d,this.Nc.OAID=e);this.A?(Gj(r(this.Af,this,a),100),kk(this)):this.Af(a)};function lk(a){mk(a);if(3==a.g){var b=a.Wc++,c=a.pd.clone();Ui(c,"SID",a.fa);Ui(c,"RID",b);Ui(c,"TYPE","terminate");nk(a,c);b=new qj(a,0,a.fa,b,void 0);b.sd=2;b.Fc=Xi(c.clone());(new Image).src=b.Fc;b.Ed=t();wj(b)}ok(a)}k.gb=h("fa");
k.Af=function(a){pk(this)&&(this.xb=new Kj(this),this.xb.Ae=this.Qc,this.xb.j=this.v,this.xb.connect(a))};function kk(a){a.lj(1,0);a.pd=Lj(a,null,a.ze);qk(a)}function mk(a){a.xb&&(a.xb.abort(),a.xb=null);a.qa&&(a.qa.cancel(),a.qa=null);a.ob&&(m.clearTimeout(a.ob),a.ob=null);rk(a);a.Ka&&(a.Ka.cancel(),a.Ka=null);a.Ab&&(m.clearTimeout(a.Ab),a.Ab=null)}k.og=function(){return 0==this.g};function qk(a){a.Ka||a.Ab||(a.Ab=Gj(r(a.Ag,a),0),a.Oc=0)}
k.Ag=function(a){this.Ab=null;if(pk(this))if(1==this.g){if(!a){this.Wc=Math.floor(1E5*Math.random());a=this.Wc++;var b=new qj(this,0,"",a,void 0);b.Nb=this.Qc;var c=sk(this),d=this.pd.clone();Ui(d,"RID",a);this.C&&Ui(d,"CVER",this.C);nk(this,d);tj(b,d,c);this.Ka=b;this.g=2}}else 3==this.g&&(a?tk(this,a):0==this.j.length||this.Ka||tk(this))};
function tk(a,b){var c;b?6<a.Ib?(a.j=a.o.concat(a.j),a.o.length=0,c=a.Wc-1,b=sk(a)):(c=b.fb(),b=b.Rb):(c=a.Wc++,b=sk(a));var d=a.pd.clone();Ui(d,"SID",a.fa);Ui(d,"RID",c);Ui(d,"AID",a.wd);nk(a,d);c=new qj(a,0,a.fa,c,a.Oc+1);c.Nb=a.Qc;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.Ka=c;tj(c,d,b)}function nk(a,b){a.na&&(a=a.na.$f(a))&&Hb(a,function(a,d){Ui(b,d,a)})}
function sk(a){var b=Math.min(a.j.length,1E3),c=["count="+b],d;6<a.Ib&&0<b?(d=a.j[0].g,c.push("ofs="+d)):d=0;for(var e=0;e<b;e++){var f=a.j[e].g,g=a.j[e].map,f=6>=a.Ib?e:f-d;try{Ug(g,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(l){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.o=a.o.concat(a.j.splice(0,b));return c.join("&")}function uk(a){a.qa||a.ob||(a.B=1,a.ob=Gj(r(a.zg,a),0),a.Vb=0)}
function vk(a){if(a.qa||a.ob||3<=a.Vb)return!1;a.B++;a.ob=Gj(r(a.zg,a),wk(a,a.Vb));a.Vb++;return!0}k.zg=function(){this.ob=null;if(pk(this)){this.qa=new qj(this,0,this.fa,"rpc",this.B);this.qa.Nb=this.Qc;this.qa.Ce=this.dg;var a=this.tf.clone();Ui(a,"RID","rpc");Ui(a,"SID",this.fa);Ui(a,"CI",this.$e?"0":"1");Ui(a,"AID",this.wd);nk(this,a);Ui(a,"TYPE","xmlhttp");vj(this.qa,a,!0,this.ye)}};function pk(a){if(a.na){var b=a.na.vg(a);if(0!=b)return Pj(a,b),!1}return!0}
function Qj(a,b,c){a.$e=c;a.ab=b.rb;a.A||kk(a)}
k.yg=function(a,b){if(0!=this.g&&(this.qa==a||this.Ka==a))if(this.ab=a.Rc,this.Ka==a&&3==this.g)if(7<this.Ib){var c;try{c=this.v.parse(b)}catch(d){c=null}if(Ba(c)&&3==c.length)if(a=c,0==a[0])a:{if(!this.ob){if(this.qa)if(this.qa.Ed+3E3<this.Ka.Ed)rk(this),this.qa.cancel(),this.qa=null;else break a;vk(this);Bj()}}else this.qg=a[1],0<this.qg-this.wd&&37500>a[2]&&this.$e&&0==this.Vb&&!this.Jb&&(this.Jb=Gj(r(this.Mk,this),6E3));else Pj(this,11)}else"y2f%"!=b&&Pj(this,11);else if(this.qa==a&&rk(this),
!Ta(b))for(c=this.v.parse(b),Ba(c),a=c,b=0;b<a.length;b++)c=a[b],this.wd=c[0],c=c[1],2==this.g?"c"==c[0]?(this.fa=c[1],this.ye=Mj(this,c[2]),c=c[3],null!=c?this.Ib=c:this.Ib=6,this.g=3,this.na&&this.na.yf(this),this.tf=Lj(this,this.bd()?this.ye:null,this.ze),uk(this)):"stop"==c[0]&&Pj(this,7):3==this.g&&("stop"==c[0]?Pj(this,7):"noop"!=c[0]&&this.na&&this.na.xf(this,c),this.Vb=0)};function Mj(a,b){return a.cg?a.na?a.na.bg(b):b:null}
k.Mk=function(){null!=this.Jb&&(this.Jb=null,this.qa.cancel(),this.qa=null,vk(this),Bj())};function rk(a){null!=a.Jb&&(m.clearTimeout(a.Jb),a.Jb=null)}
k.Oe=function(a){var b;if(this.qa==a)rk(this),this.qa=null,b=2;else if(this.Ka==a)this.Ka=null,b=1;else return;this.ab=a.Rc;if(0!=this.g)if(a.Hb)1==b?(t(),gk.dispatchEvent(new ik(gk,a.Rb?a.Rb.length:0)),qk(this),this.o.length=0):uk(this);else{var c=a.lc,d;if(!(d=3==c||7==c||0==c&&0<this.ab)){if(d=1==b)this.Ka||this.Ab||1==this.g||2<=this.Oc?d=!1:(this.Ab=Gj(r(this.Ag,this,a),wk(this,this.Oc)),this.Oc++,d=!0);d=!(d||2==b&&vk(this))}if(d)switch(c){case 1:Pj(this,5);break;case 4:Pj(this,10);break;case 3:Pj(this,
6);break;case 7:Pj(this,12);break;default:Pj(this,2)}}};function wk(a,b){var c=5E3+Math.floor(1E4*Math.random());a.na||(c*=2);return c*b}k.lj=function(a){if(!ub(arguments,this.g))throw Error("Unexpected channel state: "+this.g);};function Pj(a,b){if(2==b||9==b){var c=null;a.na&&(c=a.na.ag(a));var d=r(a.Il,a);c||(c=new Gi("//www.google.com/images/cleardot.gif"),Xi(c));Ij(c.toString(),1E4,d)}else Bj();xk(a,b)}k.Il=function(a){a?Bj():(Bj(),xk(this,8))};
function xk(a,b){a.g=0;a.na&&a.na.wf(a,b);ok(a);mk(a)}function ok(a){a.g=0;a.ab=-1;if(a.na)if(0==a.o.length&&0==a.j.length)a.na.Zd(a);else{var b=Ab(a.o),c=Ab(a.j);a.o.length=0;a.j.length=0;a.na.Zd(a,b,c)}}function Lj(a,b,c){var d=Yi(c);if(""!=d.o)b&&Ii(d,b+"."+d.o),Ji(d,d.C);else var e=window.location,d=Zi(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.Nc&&Hb(a.Nc,function(a,b){Ui(d,b,a)});Ui(d,"VER",a.Ib);nk(a,d);return d}
k.ee=function(a){if(a&&!this.Ld)throw Error("Can't create secondary domain capable XhrIo object.");a=new Sj;a.nc=this.Ld;return a};function Gj(a,b){if(!Ea(a))throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},b)}k.sb=function(){gk.dispatchEvent(new jk(gk))};function Bj(){gk.dispatchEvent(new hk(gk))}k.bd=function(){return this.Ld||!1};function yk(){}k=yk.prototype;k.vg=ca(0);k.yf=aa();k.xf=aa();k.wf=aa();k.Zd=aa();k.$f=function(){return{}};k.ag=ca(null);
k.bg=function(a){return a};function zk(){}Ma(zk.prototype,aa().prototype);zk.prototype.md=aa();zk.prototype.pe=aa();function Ak(){E.call(this);this.j=[]}v(Ak,E);Ak.prototype.F=function(){this.j=[];Ak.J.F.call(this)};function Bk(a){Ak.call(this);this.g=a}v(Bk,Ak);function Ck(){var a=Vf(J(),"gaia_session_id");this.g=new Bk(a)}za(Ck);function Dk(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,u,y,D){if("%"==u)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return Ek[u].apply(null,arguments)})}
var Ek={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+gb(" ",Number(c)-a.length):gb(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?
f+d+gb(" ",a):f+gb(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,l){return Ek.f(parseInt(a,10),b,c,d,0,f,g,l)}};Ek.i=Ek.d;Ek.u=Ek.d;function Fk(a){this.o=a;this.j=Math.floor(a/50);this.g=new Di(50)}Fk.prototype.get=function(a){return Gk(this,a,function(a,c){return a+c.count})};function Gk(a,b,c){b=b||t();Hk(a,b);var d=0;b=a.j*(Math.floor(b/a.j)+1)-a.o;for(var e=a.g.aa()-1;0<=e;--e){var f=a.g.get(e);if(f.g<=b)break;d=c(d,f)}return d}function Hk(a,b){var c=Fi(a.g);c&&(c=c.g-a.j,b<c&&(Dk("Went backwards in time: now=%d, slotStart=%d.  Resetting state.",b,c),a=a.g,a.g.length=0,a.j=0))}function Ik(a){this.g=a}Ik.prototype.count=0;
Ik.prototype.min=Number.MAX_VALUE;Ik.prototype.max=Number.MIN_VALUE;function Jk(){this.g=new Fk(8E3)}function Kk(a,b){b=null!=b?b:1;return 1>=(a.g.get()+b)/(a.g.o/1E3)}function Lk(a,b){b=null!=b?b:1;if(!Kk(a,b))throw new Mk(jb("Query would cause ","errorsender"," to exceed ",1," qps."));var c=a.g,d=t();Hk(c,d);a=Fi(c.g);if(!a||d>=a.g)a=new Ik(c.j*(Math.floor(d/c.j)+1)),c=c.g,c.g[c.j]=a,c.j=(c.j+1)%c.o;a.count+=b;a.min=Math.min(b,a.min);a.max=Math.max(b,a.max)}function Mk(a){Pa.call(this,a)}v(Mk,Pa);function Nk(a,b,c){E.call(this);this.g=a;this.v=b||0;this.j=c;this.o=r(this.uj,this)}v(Nk,E);k=Nk.prototype;k.qb=0;k.F=function(){Nk.J.F.call(this);this.stop();delete this.g;delete this.j};k.start=function(a){this.stop();this.qb=fj(this.o,p(a)?a:this.v)};k.stop=function(){0!=this.qb&&gj(this.qb);this.qb=0};k.uj=function(){this.qb=0;this.g&&this.g.call(this.j)};function Ok(a,b,c,d){E.call(this);this.o=null!=d?d:.15;this.A=a;this.v=b;this.C=c;this.g=new Nk(this.H,void 0,this);this.B=Number.NEGATIVE_INFINITY;this.j=0}v(Ok,E);Ok.prototype.start=function(){Pk(this,!1,!1)};function Pk(a,b,c){b&&(a.g.stop(),Qk(a,a.v));0==a.g.qb&&(b=t(),b=Math.max(0,a.B+a.j-b),0==b&&(c?b=Qk(a,a.v):a.j=0),a.g.start(b))}Ok.prototype.stop=function(){this.g.stop()};function Qk(a,b){0<b&&0!=a.o&&(b=Math.floor(b*(1-a.o+Math.random()*a.o*2)));return a.j=b}
Ok.prototype.H=function(){this.B=t();Qk(this,Math.min(Math.max(2*this.j,this.v),this.C));this.A()};Ok.prototype.F=function(){this.g.Z();delete this.g;delete this.A;Ok.J.F.call(this)};function Rk(a,b,c,d,e,f){E.call(this);this.j=new Ok(r(this.zk,this),d||5E3,e||45E3,f);this.o=new W(this);this.v=a;this.A=b;(this.g=c||null)&&this.o.listen(this.g,"c",this.gk).listen(this.g,"d",this.ek);F(this,this.j);F(this,this.o)}v(Rk,E);k=Rk.prototype;k.Mc=!1;k.start=function(){this.Mc=!0;if(!this.g||this.g.g())this.A?Pk(this.j,!1,!0):this.j.start()};k.stop=function(){this.j.stop();this.Mc=!1};k.gk=function(){this.Mc&&Pk(this.j,!0,!1)};k.ek=function(){this.j.stop()};
k.zk=function(){!this.Mc||this.g&&!this.g.g()||(this.Mc=!1,this.v())};k.F=function(){delete this.v;delete this.o;delete this.j;delete this.g;Rk.J.F.call(this)};function Sk(a,b,c,d,e,f){this.pa=c||null;this.ia=!!e;this.ea=this.C=ya;this.I=new W(this);this.B=this.fa=this.M=null;this.Ra=a||Tk;this.T=null;this.o=new Ff;this.Y=b;this.A=!1;this.H=null;this.v=this.U=this.O=!1;(this.j=d||null)&&this.I.listen(this.j,["c","d"],La(this.Me,void 0));this.N=new Rk(r(this.tl,this),!0,this.j||void 0,7E3,45E3);this.P=-1;this.g=null;this.$={};this.ma=!!f;this.D=-1;this.W=null;this.Qa=Tf(J(),"docs-ar");this.G=!1;this.md("15",this.Tj,this)}v(Sk,yk);k=Sk.prototype;k.Ga=null;
k.af=null;k.md=function(a,b,c){Gf(this.o,a,b,c)};k.bg=function(a){return this.pa||a};k.pe=function(a,b,c){return Hf(this.o,a,b,c)};function Tk(a){if(1==a.length&&q(a[0])){var b=a[0];Ra(b,"{this._action=")?(a={},function(){eval(b)}.call(a),a=[0,a._lsq,[b,a],a._tfe]):a=uc(b)}return{type:a[0],Qg:a[1],data:a[2],Wg:a[3]||null}}k.xf=function(a,b){a=this.Ra(b);a.Qg>this.P&&(this.P=a.Qg,this.T!=a.Wg&&(this.T=b=a.Wg,Uk(this,"tfe_changed",b)),Uk(this,String(a.type),a.data))};
function Uk(a,b,c){a.Pa&&a.Pa(b,c);a.o.A(b,c)}k.$f=function(){var a=Rb(this.$);a.lsq=String(this.P);null!=this.af&&(a.u=this.af);a.gsi=Ck.ua().g.g;this.Qa&&-1!=this.D&&(a.ar=String(this.D),this.W&&(a.arat=this.W.g),this.D=-1,this.W=null);return a};k.vg=function(){if(this.la)try{Lk(this.la)}catch(a){if(!(a instanceof Mk))throw a;return 8}return 0};k.yf=function(){this.A=!0;this.v=!1;this.Me(0);this.ea()};k.Zd=function(){this.A=!1;this.v||this.N.start()};
function Vk(a,b,c,d){a.M=b||a.M;a.fa=c||a.fa;a.B=d||a.B||"";a.A||a.v||(a.U=!0,Wk(a))}function Wk(a){a.Ga&&(a.Ga.na=null,lk(a.Ga));var b;b=a.Y?a.Y():new fk("1");b.Qc={"X-Same-Domain":"1"};b.cg=!0;b.Ld=a.ma;a.ia&&(b.dg=200);b.na=a;a.Ga=b;b={id:a.M};a.fa&&(b.sid=a.fa);a.Ga.connect(a.B+"/test",a.B+"/bind",b)}function Xk(a){a.g=null;a.H=null;a.A&&(a.U=!1,a.v=!1,lk(a.Ga))}k.tl=function(){this.U&&!this.A&&(this.v=!0,Wk(this),this.N.start())};k.wf=function(a,b){this.Me(b)};
k.Me=function(a){if(null!=a)if(this.H=a,this.O||6!=a)this.O=!1,2==a&&409==(this.Ga?this.Ga.ab:-1)&&(this.T=null,Uk(this,"tfe_changed",null));else{this.O=!0;Vk(this);return}a=this.j&&!this.j.g()?8:null!=this.H?this.H:0;a!=this.g&&(this.g=a,this.C.call(m,a))};function Yk(a){return null==a.g?0:a.g}k.ag=function(){return Xi(new Gi("//www.google.com/images/cleardot.gif"))};
k.Tj=function(a){var b=a.gaiaSessionIdentifier;if(b){if(a=Ck.ua().g,a.g!=b)for(a.g=b,b=0;b<a.j.length;b++)a.j[b](new H("Changed",a))}else throw Error("GAIA session id should be a valid string. Received - "+b);};k.Z=function(){this.G||(this.G=!0,this.Ga&&(this.Ga.na=null,lk(this.Ga),delete this.Ga),G(this.I),G(this.N),G(this.o),delete this.I,delete this.N,delete this.j,delete this.o)};k.isDisposed=h("G");var Zk=/\/d\/([^\/]+)/;function $k(a){a=a.match(Ed)[5]||null;return Zk.test(a)};function al(a,b){null!=a&&this.g.apply(this,arguments)}al.prototype.j="";al.prototype.set=function(a){this.j=""+a};al.prototype.g=function(a,b,c){this.j+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.j+=arguments[d];return this};al.prototype.toString=h("j");function bl(a){x(this,a,"er",-1,null)}v(bl,w);Tc("er",bl);function cl(a){x(this,a,"xsrf",-1,null)}v(cl,w);Tc("xsrf",cl);function dl(a,b,c,d){H.call(this,a);this.errorCode=b;this.g=c;this.B=d}v(dl,H);dl.prototype.vb=null;dl.prototype.C="";dl.prototype.j=null;function el(a,b,c,d,e,f,g,l){this.g=a;this.v=b||"text";this.A=Ta(ib(c))?null:c;this.o=p(d)?d:200;this.B={};if(f)for(var n in f)this.B[n.toLowerCase()]=f[n];this.j=p(e)?e:0;this.H=g||{};this.N=l||null;this.C=void 0}var fl=new Ci(void 0,!0);el.prototype.Db=function(){return 0==this.j};el.prototype.La=function(){p(this.C)||(this.C=gl(this.g||"",this.N));return this.C};
function hl(a){var b=a.o,c=a.j,d=a.v,e=a.A,f;"text"==a.v?(f=a.g||"",f=-1!=f.indexOf("&")?"document"in m?db(f):fb(f):f,50<f.length&&(f=f.substring(0,47)+"..."),cb.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Wa,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Xa,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Ya,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Za,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(ab,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(bb,"&#0;"))),f+="   (truncated)"):f="responseObject";b={RespStatus:b,
RespErr:c,RespType:d,RespContentType:e,RespString:f};Ub(b,a.H);return b}function il(a){return"text"==a.v&&null!=a.g&&Ra(a.g||"",")]}'\n")&&(a=a.La(),Ba(a)&&(a=a[0],Ba(a)&&"er"==a[0]))?new bl(a):null}function jl(a){a=il(a);if(!a)return null;a=z(a,4);return Ba(a)&&"xsrf"==a[0]?new cl(a):null}function kl(a){if(200==a.o&&null!=a.A&&!il(a)&&"text"==a.v){if(Ta(ib(a.g)))return!0;if(Ra(a.g||"",")]}'\n"))return null==a.La()}return!1}
function gl(a,b){b=b||fl;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function ll(a,b,c){this.la=b;this.j=a;this.O=c;this.W="";this.g=void 0;this.I=null;this.M="text";this.$=void 0;this.N=3;this.Y=!1;this.A=ya;this.B=Bd;this.C=!1;this.H=ya;this.za=-1;this.T=this.v=!1;this.G=new Ci(null,!0)}ll.prototype.o=function(a){var b=[this.j];Bb(b,arguments);this.j=Pd.apply(null,b);return this};
function ml(a){if(!a.O)throw Error("Cannot add session data to request when session data not defined.");var b=a.j,c={};c.sid=a.O.g;c.c="0";c.w="0";var d=J();"docs-smv"in d.g&&(c.smv=Uf(d,"docs-smv"));a.j=Qd(b,c)}function nl(a,b){a.g=b;return a}function ol(a,b){b=Ib(b,function(a){return q(a)?a:vc(a)});return nl(a,Od(b))}function pl(a,b,c){a.A=r(b,c);return a}function ql(a){a.C=!0;return a}function rl(a){a.I="GET";return a}function sl(a,b){a.N=b;return a}function tl(a,b,c){a.H=r(b,c);return a}
ll.prototype.setTimeout=function(a){this.za=a;return this};function ul(a){a.v&&(q(a.g)||Ba(a.g));var b=a.D();a.U(b);return b}function vl(a){if(a.T){if(a=a.W,$k(a)){$k(a);a=a.match(Ed);var b=a[5],b=b.replace(Zk,"");a=Dd(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.W;return a};function wl(a,b){this.g=a;this.j=b}wl.prototype.stringify=function(a){return m.JSON.stringify(a,this.g)};wl.prototype.parse=function(a){return m.JSON.parse(a,this.j)};function xl(a,b){this.name=p(a.name)?a.name:yl(a.code);Pa.call(this,Sa("%s %s",this.name,b))}v(xl,Pa);function yl(a){var b=Ob(zl,function(b){return a==b});if(!p(b))throw Error("Invalid code: "+a);return b}var zl={AbortError:3,EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};function Al(a,b){H.call(this,a.type,b)}v(Al,H);function Bl(a){I.call(this);this.g=a;this.g.onwritestart=r(this.j,this);this.g.onprogress=r(this.j,this);this.g.onwrite=r(this.j,this);this.g.onabort=r(this.j,this);this.g.onerror=r(this.j,this);this.g.onwriteend=r(this.j,this)}v(Bl,I);Bl.prototype.abort=function(){try{this.g.abort()}catch(a){throw new xl(a,"aborting save");}};Bl.prototype.getError=function(){return this.g.error&&new xl(this.g.error,"saving file")};Bl.prototype.j=function(a){this.dispatchEvent(new Al(a,this))};
Bl.prototype.F=function(){delete this.g;Bl.J.F.call(this)};function Cl(a){Bl.call(this,a);this.o=a}v(Cl,Bl);Cl.prototype.write=function(a){try{this.o.write(a)}catch(b){throw new xl(b,"writing file");}};function Dl(a,b){this.o=a;this.g=b}function El(a){var b=new T;a.g.getMetadata(function(a){b.K(a)},r(function(a){b.R(new xl(a,"retrieving metadata for "+this.g.fullPath))},a));return b}function Fl(a){var b=new T;a.g.remove(r(b.K,b,!0),r(function(a){b.R(new xl(a,"removing "+this.g.fullPath))},a));return b}function Gl(a,b){Dl.call(this,a,b);this.j=b}v(Gl,Dl);
function Hl(a,b,c){var d=new T;a.j.getFile(b,Il(c),r(function(a){d.K(new Jl(this.o,a))},a),r(function(a){d.R(new xl(a,"loading file "+b+" from "+this.g.fullPath))},a));return d}function Kl(a,b,c){var d=new T;a.j.getDirectory(b,Il(c),r(function(a){d.K(new Gl(this.o,a))},a),r(function(a){d.R(new xl(a,"loading directory "+b+" from "+this.g.fullPath))},a));return d}
function Ll(a){var b=new T,c=a.j.createReader(),d=[],e=r(function(a){b.R(new xl(a,"listing directory "+this.g.fullPath))},a),f=r(function(a){if(a.length){for(var g=0,n;n=a[g];g++)d.push(n.isFile?new Jl(this.o,n):new Gl(this.o,n));c.readEntries(f,e)}else b.K(d)},a);c.readEntries(f,e);return b}function Ml(a){var b=new T;a.j.removeRecursively(r(b.K,b,!0),r(function(a){b.R(new xl(a,"removing "+this.g.fullPath+" recursively"))},a));return b}
function Il(a){return 2==a?{create:!0}:3==a?{create:!0,exclusive:!0}:{}}function Jl(a,b){Dl.call(this,a,b);this.j=b}v(Jl,Dl);function Nl(a){var b=new T;a.j.createWriter(function(a){b.K(new Cl(a))},r(function(a){b.R(new xl(a,"creating writer for "+this.g.fullPath))},a));return b};function Ol(a){this.g=a};function Pl(a){var b=m.requestFileSystem||m.webkitRequestFileSystem;if(!Ea(b))return Sh(Error("File API unsupported"));var c=new T;b(a,10485760,function(a){c.K(new Ol(a))},function(a){c.R(new xl(a,"requesting filesystem"))});return c}function Ql(a,b,c){p(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?jc("537.1")?a.slice(b,c):(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):null};function Rl(a){var b=Sl;return function(){var c=this||m,c=c.closure_memoize_cache_||(c.closure_memoize_cache_={}),d=b(Ga(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}function Sl(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};function Tl(a){var b={};a=a.replace(/\r/g,"").split("\n");for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf(":");0>e||(b[d.substring(0,e)]=d.substring(e+2,d.length))}return b}function Ul(a){var b="";Hb(a,function(a,d){b+=d+": "+a+"\r\n"});return b}
var Vl=Rl(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return 100!=b.size?!1:!0}),Wl=Rl(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return null===Ql(b,0,1)?!1:!0});function Xl(){I.call(this)}v(Xl,I);function Yl(a){H.call(this,a)}v(Yl,H);k=Xl.prototype;k.Jg=ca(null);k.Kg=ca(null);k.sa=ca(null);k.start=aa();k.cancel=aa();function Zl(a,b){this.j=a;this.g=b;this.o=!0}Zl.prototype.Hd=ca(null);Zl.prototype.Cb=ca(!1);Zl.prototype.vd=ca(!1);Zl.prototype.ud=ca(!1);function $l(a,b){Zl.call(this,b,a.size);this.v=a}v($l,Zl);k=$l.prototype;k.Hd=h("v");k.Cb=function(){return Wl()};k.vd=ca(!0);k.ud=ca(!1);k.Ef=ca(null);function am(){I.call(this)}v(am,Xl);am.prototype.Sg=aa();function bm(a,b,c,d,e,f,g,l){I.call(this);this.T=a;this.D=b;this.O=c;this.G=d;this.o=e||null;this.B=f||null;this.M=g?Rb(g):{};this.U=!!l;this.C="";a=new ke;this.j="scotty-"+kb()+"-"+ne(a);this.g=null;this.A=0;this.I=new W(this);F(this,this.I)}v(bm,am);k=bm.prototype;k.Sg=ba("C");k.Jg=function(){return this.g&&this.g.status||null};k.Kg=h("P");k.sa=function(){return this.g&&this.g.responseText||null};
k.start=function(){this.g=new XMLHttpRequest;var a=this;this.g.upload&&(this.g.upload.onprogress=function(b){a.A=b.loaded;a.dispatchEvent(new Yl("k"))});this.g.onload=function(b){a.A=a.O;a.P=Tl(b.target.getAllResponseHeaders());a.dispatchEvent(new Yl("l"))};this.g.onerror=function(){a.dispatchEvent(new Yl("m"))};this.g.open("POST",this.T);Hb(this.M,function(b,c){a.g.setRequestHeader(c,b)});this.g.setRequestHeader("Content-Type","multipart/form-data; boundary="+this.j);this.g.withCredentials=this.U;
this.g.send(cm(this))};k.cancel=function(){this.g&&this.g.abort()};function cm(a){var b=["--",a.j,"\r\n",'Content-Disposition: form-data; name="metadata"\r\n\r\n'+a.C+"\r\n","--",a.j,"\r\n",'Content-Disposition: form-data; name="Filedata"'+(a.o?'; filename="'+a.o+'"':"")+"\r\n"+(a.B?"Content-Type: "+a.B+"\r\n":"")+"Content-Transfer-Encoding: "+a.G+"\r\n","\r\n",a.D,"\r\n","--",a.j,"--\r\n"];return q(a.D)?b.join(""):new Blob(b)};function dm(a,b,c,d){var e=null;Vl()&&(e=d?new Blob([a],{type:d}):new Blob([a]));var f;if(e)f=e.size;else{f=[];for(var g=0,l=0;l<a.length;l++){var n=a.charCodeAt(l);128>n?f[g++]=n:(2048>n?f[g++]=n>>6|192:(55296==(n&64512)&&l+1<a.length&&56320==(a.charCodeAt(l+1)&64512)?(n=65536+((n&1023)<<10)+(a.charCodeAt(++l)&1023),f[g++]=n>>18|240,f[g++]=n>>12&63|128):f[g++]=n>>12|224,f[g++]=n>>6&63|128),f[g++]=n&63|128)}f=f.length}Zl.call(this,c,f);this.N=f;this.A=e;this.C=a;this.v=b;this.B=d||void 0}v(dm,Zl);
k=dm.prototype;k.Hd=h("A");k.Cb=function(){return"base64"!=this.v&&Wl()};k.vd=function(){return"base64"!=this.v&&Vl()};k.ud=ca(!0);k.Ef=function(a,b,c){return new bm(a,this.A||this.C,this.N,"base64"==this.v?"base64":"binary",this.j,this.B,b,c)};function em(a,b){this.start=a<b?a:b;this.g=a<b?b:a}em.prototype.clone=function(){return new em(this.start,this.g)};function fm(a){I.call(this);this.j=a}v(fm,I);function gm(a){H.call(this,a)}v(gm,H);function hm(a,b){H.call(this,a);this.Je=!!b}v(hm,gm);k=fm.prototype;k.Te=ca(null);k.sa=ca(null);k.Ue=ca(null);k.start=aa();k.cancel=aa();function im(a){fm.call(this,a);this.g=null;this.o=new W(this);F(this,this.o)}v(im,fm);k=im.prototype;k.Te=function(){return this.g&&this.g.Jg()||null};k.sa=function(){return this.g&&this.g.sa()||null};k.Ue=function(){return this.g&&this.g.Kg()||null};k.start=function(a,b,c,d,e){a=new Gi(a);Ui(a,"upload_protocol","multipart");a=a.toString();this.g=this.j.Ef(a,c,e);this.g.Sg(d);this.o.listen(this.g,"k",this.yl);this.o.listen(this.g,"l",this.bl);this.o.listen(this.g,["m","n"],this.$k);this.g.start()};
k.cancel=function(){this.g&&this.g.cancel();this.dispatchEvent(new gm("r"))};k.yl=function(){this.dispatchEvent(new gm("o"))};k.bl=function(){this.dispatchEvent(new gm("p"))};k.$k=function(){this.dispatchEvent(new gm("q"))};function jm(){};function km(a,b){I.call(this);this.B=a;this.Ge=this.j=null;this.o=0;this.C=Infinity;this.D=b||5E6;this.g=null}v(km,I);km.prototype.hash=function(a){this.abort();this.B.reset();this.j=a;this.Ge=null;this.o=0;this.dispatchEvent("started");lm(this)};function mm(a,b){a.C=b;a.j&&!a.g&&lm(a)}km.prototype.abort=function(){this.g&&(this.g.abort(),this.g=null);this.j&&(this.j=null,this.dispatchEvent("abort"))};
function lm(a){if(a.o<a.j.size)if(a.C<=a.o)a.dispatchEvent("throttled");else{a.g=new FileReader;a.g.onload=r(a.G,a);a.g.onerror=r(a.A,a);var b=Math.min(Math.min(a.C,a.j.size)-a.o,a.D),c=Ql(a.j,a.o,a.o+b);c&&c.size==b?a.g.readAsArrayBuffer?a.g.readAsArrayBuffer(c):a.g.readAsBinaryString?a.g.readAsBinaryString(c):a.A():a.A()}else a.Ge=a.B.digest(),a.j=null,a.dispatchEvent("complete")}
km.prototype.G=function(){var a=null;this.g.result instanceof Array||q(this.g.result)?a=this.g.result:m.ArrayBuffer&&m.Uint8Array&&this.g.result instanceof ArrayBuffer&&(a=new Uint8Array(this.g.result));a?(this.B.update(a),this.o+=a.length,this.g=null,this.dispatchEvent("progress"),lm(this)):this.A()};km.prototype.A=function(){this.j=this.g=null;this.dispatchEvent("error")};function nm(){this.j=-1};function om(){this.j=64;this.g=Array(4);this.A=Array(this.j);this.v=this.o=0;this.reset()}v(om,nm);om.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.v=this.o=0};
function pm(a,b,c){c||(c=0);var d=Array(16);if(q(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0];c=a.g[1];var e=a.g[2],f=a.g[3],g;g=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+
d[3]+3250441966&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&
(b^c))+d[10]+4294925233&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(g<<5&4294967295|g>>>
27);g=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=e+(g<<20&4294967295|
g>>>12);g=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[7]+1735328473&4294967295;e=f+(g<<14&4294967295|
g>>>18);g=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^
b^c)+d[7]+4139469664&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[12]+3873151461&4294967295;
f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[12]+1700485571&4294967295;b=c+
(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[13]+1309151649&4294967295;
c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.g[0]=a.g[0]+b&4294967295;a.g[1]=a.g[1]+(e+(g<<21&4294967295|g>>>11))&4294967295;a.g[2]=a.g[2]+e&4294967295;a.g[3]=a.g[3]+f&4294967295}
om.prototype.update=function(a,b){p(b)||(b=a.length);for(var c=b-this.j,d=this.A,e=this.o,f=0;f<b;){if(0==e)for(;f<=c;)pm(this,a,f),f+=this.j;if(q(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.j){pm(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.j){pm(this,d);e=0;break}}this.o=e;this.v+=b};
om.prototype.digest=function(){var a=Array((56>this.o?this.j:2*this.j)-this.o);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.v,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.g[b]>>>d&255;return a};function qm(){Sj.call(this)}v(qm,Sj);qm.prototype.de=function(){var a=Sj.prototype.de.call(this);a.upload&&(a.upload.onprogress=r(this.$,this));return a};qm.prototype.$=function(a){this.dispatchEvent(a)};function rm(a,b){a.Cb()||a.vd();fm.call(this,a);this.kb=this.G=this.mb=this.nb=null;this.Ra=!1;this.$=this.U=null;this.M=a.g;this.D=0;this.Y=null;this.ia=this.ma=0;this.C="Ready";this.O=this.A=this.I=this.P=this.Pa=this.pa=null;this.o=new W(this);F(this,this.o);this.la=new W(this);F(this,this.la);this.B=0;this.g=this.ea=this.T=null;this.Qa=b||Number.MAX_VALUE}v(rm,fm);k=rm.prototype;k.Te=h("pa");k.sa=h("Pa");k.Ue=h("P");
k.start=function(a,b,c,d,e){this.nb=a;this.mb=b;this.G=Rb(c);this.kb=d;this.Ra=!!e;this.C="Creating session";this.G["X-Goog-Upload-Protocol"]="resumable";this.G["X-Goog-Upload-Command"]="start";null!=this.j.g&&(this.G["X-Goog-Upload-Content-Length"]=this.j.g);null!=this.j.j&&/^[\040-\176]*$/.test(this.j.j)&&(this.G["X-Goog-Upload-File-Name"]=this.j.j);this.j.o&&sm(this);this.Og()};
k.cancel=function(){Ai(this.o);Ai(this.la);"Creating session"==this.C&&this.I&&this.I.abort();"Transferring"==this.C&&(this.A&&this.A.abort(),this.O&&this.O.abort(),this.T&&gj(this.T));this.g&&this.g.abort();(new Sj).send(this.$,"PUT","",{"X-Goog-Upload-Command":"cancel"});this.C="Cancelled";this.B=this.D=0;this.dispatchEvent(new gm("r"))};
function sm(a){var b=a.j.Hd();b&&(a.g=new km(new om),a.la.listen(a.g,"complete",function(a){this.ea=qc(a.target.Ge);this.g=null}),mm(a.g,1048576),a.g.hash(b))}k.Og=function(){this.I=new qm;Ai(this.o);this.o.listen(this.I,"complete",this.Xk);this.I.nc=this.Ra;this.I.send(this.nb,this.mb,this.kb,this.G)};
k.Xk=function(a){var b=a.target.ba(),c=a.target.sa();a=Tl(a.target.getAllResponseHeaders());tm(b,a,c);var d=um(a,"X-Goog-Upload-Status"),e=um(a,"X-Goog-Upload-URL");if("final"==d)this.pa=b,this.P=a,this.Pa=c,this.C="Complete",this.dispatchEvent(new gm("p"));else if(200==b&&"active"==d&&e){this.U=e;this.$=um(a,"X-Goog-Upload-Control-URL")||null;e=um(a,"X-Goog-Upload-Chunk-Granularity")||null;d=1;if(e&&(d=parseInt(e,10),isNaN(d)||0>=d)){vm(this,"Create session failed","Invalid chunk granularity: "+
e+". "+tm(b,a,c));return}b=this.j.g;this.M=Math.floor(b/d)*d;this.Y=Math.floor(1073741824/d)*d;this.j.Cb()||(this.Y=b,this.M!=b&&(this.M=0));this.C="Transferring";this.B=0;this.Pg(0)}else 400<=b&&500>b?vm(this,"Create session failed","Client failure. "+tm(b,a,c)):(wm(this,this.Og),xm(this))};
k.Pg=function(a){var b=this.j,c=b.g;b.Cb()||a==c||(a=0);var d=a>=this.M,e=d?c:Math.min(this.M,this.Y+a);this.ma=a;this.ia=e;var f={"X-Goog-Upload-Command":"upload"+(d?", finalize":""),"X-Goog-Upload-Offset":a};d&&(this.ea?f["X-Goog-Upload-Entity-MD5"]=this.ea:this.g&&(this.g.abort(),this.g=null));this.A=new qm;this.A.nc=this.Ra;Ai(this.o);this.o.listen(this.A,"progress",this.zl);this.o.listen(this.A,"complete",this.Zk);a==c?this.A.send(this.U,"PUT","",f):(c=this.j.Hd(),b.Cb()?(a=Ql(c,a,e),this.A.send(this.U,
"PUT",a,f)):this.A.send(this.U,"PUT",c,f))};k.zl=function(a){this.D=this.ma+a.loaded;this.dispatchEvent(new gm("o"));this.g&&mm(this.g,this.D+1048576)};k.Zk=function(a){var b=a.target.ba();if(void 0===b||-1==b)wm(this,this.Mg),xm(this);else{var c=Tl(a.target.getAllResponseHeaders());a=a.target.sa();this.D=this.ia;tm(b,c,a);ym(this,b,c,a,!0)}};k.Mg=function(){this.O=new qm;Ai(this.o);this.o.listen(this.O,"complete",this.Uk);this.O.send(this.$,"PUT","",{"X-Goog-Upload-Command":"query"})};
k.Uk=function(a){var b=a.target;a=b.ba();var c=Tl(b.getAllResponseHeaders()),b=b.sa();tm(a,c,b);ym(this,a,c,b,!1)};function ym(a,b,c,d,e){var f=um(c,"X-Goog-Upload-Status");if("final"==f)a.C="Complete",a.B=0,a.pa=b,a.P=c,a.Pa=d,a.dispatchEvent(new gm("p"));else{var g=parseInt(um(c,"X-Goog-Upload-Size-Received"),10);e&&isNaN(g)&&(g=a.ia);200!=b||"active"!=f||isNaN(g)?(400<=b&&500>b&&vm(a,"Transfer failed","Client failure. "+tm(b,c,d)),wm(a,a.Mg),xm(a)):(a.D=g,g>a.ma&&(a.B=0),wm(a,r(a.Pg,a,g)))}}
function xm(a){0==a.B&&t();a.B++}function vm(a,b){a.C="Error";a.D=0;a.dispatchEvent(new hm("q","Transient error"==b))}function wm(a,b){var c=[0,5E3,1E4,15E3,3E4,6E4],d=0,d=a.B<c.length?c[a.B]:c[c.length-1];if(d>a.Qa)vm(a,"Transient error");else{p(a.Qa)&&(d=Math.min(Math.max(d,0),a.Qa));t();var e=r(b,a);0<d?a.T=fj(function(){this.T=null;e()},d,a):e()}}function tm(a,b,c){return"Response code: "+a+"\nHeaders:\n"+Ul(b)+"\nBody:\n"+c}function um(a,b){return a[b]||a[b.toLowerCase()]};function zm(a){this.g=a}v(zm,jm);function Am(a,b){if(b.Cb()&&b.ud())return 2097152<b.g?new rm(b,a.g):new im(b);if(b.Cb())return new rm(b,a.g);if(b.ud())return new im(b);if(b.vd())return new rm(b,a.g);throw Error("Item supports no transfer types.");};function Bm(a,b,c){I.call(this);this.I=Cm++;this.o="select";this.g=c;F(this,this.g);this.C="";this.B="POST";this.G={};this.A="";this.D=!1;this.j=new W(this);F(this,this.j)}v(Bm,I);function Dm(a,b){H.call(this,a);this.item=b}v(Dm,H);function Em(a,b,c){Dm.call(this,a,b);this.Je=!!c}v(Em,Dm);Bm.prototype.sa=function(){return this.g.sa()};
Bm.prototype.start=function(){var a=this;this.j.listen(this.g,"o",function(){a.dispatchEvent(new Dm("t",a))});this.j.listen(this.g,"p",function(){a.o="complete";a.dispatchEvent(new Dm("u",a))});this.j.listen(this.g,"q",function(b){a.o="error";a.dispatchEvent(new Em("v",a,b.Je))});this.g.start(this.C,this.B,this.G,this.A,this.D);this.o="start";this.dispatchEvent(new Dm("s",this))};Bm.prototype.cancel=function(){this.g.cancel();this.o="cancel";Ai(this.j);this.dispatchEvent(new Dm("w",this))};
var Cm=0;function Fm(){I.call(this)}v(Fm,I);function Gm(a,b){H.call(this,"x");this.directories=b}v(Gm,H);function Hm(a){I.call(this);this.g=a}v(Hm,Fm);function Im(a){this.g=new zm(a)};function Jm(a,b){H.call(this,"y",a);this.g=b}v(Jm,H);function Km(a,b,c,d,e,f,g,l,n,u,y,D,U,Q){I.call(this);this.j=a;this.ia=b;this.D=c;this.B=d;this.G=D||(c?"POST":"GET");this.O=n;this.P=e;this.M=f;this.Y=g;this.ea=l;this.za=y;this.$=U;this.A=this.U=this.I=0;this.la=Q||3E4}v(Km,I);var Lm=5E3*(.75+.5*Math.random());Km.prototype.send=function(a){this.I++;this.U=t();this.Rf(a)};function Mm(a,b){a.reset();a.dispatchEvent(new Jm(a,b))}function Nm(a){return{ReqUri:a.j,ReqContent:a.D,ReqMethod:a.G}}Km.prototype.reset=ya;
Km.prototype.F=function(){this.dispatchEvent("z");this.reset();delete this.M;delete this.P;Km.J.F.call(this)};function Om(a,b,c,d,e,f,g,l,n,u,y,D,U,Q,ha){if(0>=u)throw Error("Please specify a progress timeout for the Scotty request. Received -"+u);Km.call(this,a,"",b,c,d,e,f,g,l,0,u,"POST",Q,ha);this.T=y;this.pa=D;this.ma=U;this.g=null;this.o=new W(this);this.C=new Nk(r(this.Tk,this),u)}v(Om,Km);k=Om.prototype;
k.Rf=function(a){var b=this.pa,c=new dm(this.D,"raw","",void 0);c.o=!0;c=Am(b.g.g,c);c=new Bm(0,0,c);b.dispatchEvent(new Gm(0,null));this.g=c;b=Ck.ua().g.g;b=Ta(ib(b))?this.T:Qd(this.T,{authuser:b});this.g.C=b;this.g.B=this.G;this.g.G=Rb(Rb(a.j));b={};c=Fd(this.j.match(Ed)[5]||null);b.httpaction=c;if(c=this.j.match(Ed)[6]||null)for(var c=new Mi(c),d=c.va(),e=0;e<d.length;e++){var f=d[e];b[f]=c.get(f)}Ub(b,a.g.g);a=this.ma.stringify(b);this.g.A=a;this.g.D=!0;yi(this.o,this.g,"u",this.dl);yi(this.o,
this.g,"v",this.el);this.o.listen(this.g,"t",this.fl);this.g.start();this.C.start()};k.dl=function(){if(this.g){var a=this.g.g.Te(),b=this.g.g.Ue()||{},c={},d;for(d in b)c[d.toLowerCase()]=b[d];a=new el(this.g.sa(),"text",c["content-type"]||null,a,Rj(a)?0:6,c,Nm(this));Mm(this,a)}};k.el=function(){if(this.g){var a=new el("","text",null,0,5,{},Nm(this));Mm(this,a)}};k.fl=function(){Pm(this)&&this.C.start()};k.Tk=function(){if(Pm(this)){var a=new el("","text",null,0,8,{},Nm(this));Mm(this,a)}};
function Pm(a){return null!=a.g&&"start"==a.g.o}k.reset=function(){this.C.stop();this.g&&(Pm(this)&&this.g.cancel(),G(this.g),this.g=null);Ai(this.o)};k.F=function(){qe(this.C,this.o);Om.J.F.call(this)};function Qm(a,b,c,d,e){ll.call(this,b,c,d);this.ea=a;a=J();this.ia=e||Vf(a,"docs-net-udur");this.ma=new Hm(new Im);this.P=new wl;this.pa=Uf(a,"docs-net-udpt")}v(Qm,ll);
Qm.prototype.D=function(){if(!this.v)throw Error("Scotty request cannot be built when upload is not allowed for a request.");var a=this.za;0>=a&&(a=this.pa);var b;b=this.P;if(!q(this.g)&&!Ba(this.g))throw Error("GetUploadContent() called when upload content is not available");if(q(this.g))b=this.g;else{for(var c=this.g,d=new al("{"),e=0;e<c.length;e+=2)0<e&&d.g(","),d.g(b.stringify(c[e])).g(":").g(b.stringify(c[e+1]));d.g("}");b=d.toString()}var f;q(b)&&(f=b);return new Om(this.j,f,this.N,this.H,
this.A,this.B,this.C,this.M,0,a,this.ia,this.ma,this.P,this.G)};Qm.prototype.U=function(a){if(!this.ea)throw Error("Trying to send a request without a request sender for - "+(vl(this)+this.j));this.ea.send(a)};function Rm(a,b,c,d,e,f,g,l,n,u,y,D,U,Q){Km.call(this,a,b,c,d,e,f,g,l,n,0,y,D,U,Q);this.g=null;this.o=new W(this)}v(Rm,Km);Rm.prototype.Rf=function(a){this.g=new Sj;yi(this.o,this.g,"complete",r(this.C,this));Xj(this.g,this.za);"text"!=this.O&&(this.g.B=Sm(this.O));var b=Qd(this.ia+this.j,a.g.g);this.g.send(b,this.G,this.D,Rb(a.j))};
Rm.prototype.C=function(){var a,b=this.g;a="";var c=null;try{if(""==b.B?a=b.sa():a=ek(b),b.g&&4==xj(b))var d=b.g.getResponseHeader("Content-Type"),c=null===d?void 0:d;else c=void 0}catch(u){}for(var d=Tm(b.B),e=b.ba(),f=b.o,g={},b=b.getAllResponseHeaders().split("\r\n"),l=0;l<b.length;l++)if(!Ta(ib(b[l]))){var n=b[l].split(": ");2==n.length&&(g[n[0]]=n[1])}a=new el(a,d,c,e,f,g,Nm(this),this.$);Mm(this,a)};Rm.prototype.reset=function(){this.g&&(this.g.Z(),this.g=null)};
Rm.prototype.F=function(){G(this.o);Rm.J.F.call(this)};function Tm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Sm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Um(a,b,c,d,e){ll.call(this,b,c,d);this.P=a;this.ea=!!e}v(Um,ll);Um.prototype.D=function(){var a=this.za;0>a&&(a=this.ea?4E4:2E4);var b=this.j,c=vl(this),d;if(Ba(this.g))if(d=this.g,Tf(J(),"docs-net-cbfd")&&m.FormData){for(var e=new m.FormData,f=0;f<d.length;f+=2)e.append(d[f],d[f+1]);d=e}else d=Md(d);else d=this.g;return new Rm(b,c,d,this.N,this.H,this.A,this.B,this.C,this.M,0,a,this.I,this.G,this.$)};
Um.prototype.U=function(a){if(!this.P)throw Error("Trying to send a request without a request sender for - "+(vl(this)+this.j));this.P.send(a)};function Vm(a,b,c,d,e){ll.call(this,b,c,d);this.P=a;a=J();this.ma=Tf(a,"docs-net-usud");this.ia=Uf(a,"docs-net-udmi");this.ea=e}v(Vm,ll);
Vm.prototype.D=function(){var a=null,b;if(b=this.ma&&this.v){if(!q(this.g)&&!Ba(this.g))throw Error("GetUploadContentLength() called when upload content is not available");if(Ba(this.g)){b=0;for(var c=this.g,d=0;d<c.length;d++)q(c[d])&&(b+=c[d].length)}else b=this.g.length;b=b>this.ia}b&&(a=new Qm(this.P,this.j,this.la,this.O,this.ea));null==a&&(a=new Um(this.P,this.j,this.la,this.O));b=a;b.W=this.W;b.T=this.T;b.g=this.g;b.I=this.I;b.M=this.M;b.N=this.N;b.Y=this.Y;b.A=this.A;b.B=this.B;b.C=this.C;
b.H=this.H;b.za=this.za;b.v=this.v;b.G=this.G;return a.D()};Vm.prototype.U=function(a){if(!this.P)throw Error("Trying to send a request without a request sender for - "+(vl(this)+this.j));this.P.send(a)};function Wm(a){this.g=a};function Xm(a){this.g=a?Rb(a):{};this.j=null}function Ym(){var a=J().get("info_params"),b;q(a)?b=tc(a):b=Wf(J(),"info_params");return new Xm(b)};function Zm(){try{var a=m.localStorage;if(a&&(oc||pc)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function $m(a,b){E.call(this);this.v=b;this.g=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.g.push(this.j())}v($m,E);$m.prototype.La=function(){return this.g.length?this.g.pop():this.j()};function an(a,b){a.g.length<a.v?a.g.push(b):a.o(b)}$m.prototype.j=function(){return{}};$m.prototype.o=function(a){if(Fa(a))if(Ea(a.Z))a.Z();else for(var b in a)delete a[b]};
$m.prototype.F=function(){$m.J.F.call(this);for(var a=this.g;a.length;)this.o(a.pop());delete this.g};function bn(){this.g=[];this.v=new Lg;this.W=this.D=this.G=this.C=0;this.j=new Lg;this.A=this.H=0;this.I=1;this.B=new $m(0,4E3);this.B.j=function(){return new cn};this.N=new $m(0,50);this.N.j=function(){return new dn};var a=this;this.o=new $m(0,2E3);this.o.j=function(){return String(a.I++)};this.o.o=aa()}function dn(){this.bf=this.time=this.count=0}
dn.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.bf&&a.push(" [VarAlloc = ",this.bf,"]");return a.join("")};function cn(){}function en(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(fn(a.j-c));e.push(" ",gn(a.j-b));0==a.g?e.push(" Start        "):1==a.g?(e.push(" Done "),e.push(fn(a.A-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.v&&e.push("[VarAlloc ",a.v,"] ");return e.join("")}
cn.prototype.toString=function(){return null==this.type?this.o:"["+this.type+"] "+this.o};bn.prototype.reset=function(){for(var a=0;a<this.g.length;a++){var b=this.g[a];b.id&&an(this.o,b.id);an(this.B,b)}this.g.length=0;Pg(this.v);this.C=t();this.A=this.H=this.W=this.D=this.G=0;a=this.j.va();for(b=0;b<a.length;b++){var c=this.j.get(a[b]);c.count=0;c.time=0;c.bf=0;an(this.N,c)}Pg(this.j)};
bn.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",en(e,this.C,b,c.join("")));b=e.j;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.v.aa()){var f=t();a.push(" Unstopped timers:\n");Kg(this.v,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",gn(b.startTime),")\n")})}b=this.j.va();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.H,"\n","Total comments created ",
this.A,"\n","Overhead start: ",this.G," ms\n","Overhead end: ",this.D," ms\n","Overhead comment: ",this.W," ms\n");return a.join("")};function fn(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function gn(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new bn;function hn(a){E.call(this);this.j=a}v(hn,E);hn.prototype.g=function(a){return jn(this,a)};function kn(a,b){return(b?"__wrapper_":"__protected_")+Ga(a)+"__"}function jn(a,b){var c=kn(a,!0);b[c]||((b[c]=ln(a,b))[kn(a,!1)]=b);return b[c]}
function ln(a,b){function c(){if(a.isDisposed())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.j(d),new mn(d);}finally{}}c[kn(a,!1)]=b;return c}
function nn(a,b){var c=xa("window"),d=c[b];c[b]=function(b,c){q(b)&&(b=La(Na,b));arguments[0]=b=jn(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length)var f=Array.prototype.slice.call(arguments,2),e=function(){b.apply(this,f)};return d(e,c)};c[b][kn(a,!1)]=d}hn.prototype.F=function(){var a=xa("window"),b;b=a.setTimeout;b=b[kn(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[kn(this,!1)]||b;a.setInterval=b;hn.J.F.call(this)};
function mn(a){Pa.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=(this.vb=a)&&a.stack)&&q(a)&&(this.stack=a)}v(mn,Pa);function on(a,b,c){I.call(this);this.o=b||null;this.j={};this.A=pn;this.C=a;if(!c){this.g=null;this.g=new hn(r(this.Ob,this));nn(this.g,"setTimeout");nn(this.g,"setInterval");a=this.g;b=xa("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&nn(a,e)}a=this.g;te=!0;b=r(a.g,a);for(c=0;c<re.length;c++)re[c](b);se.push(a)}}v(on,I);
function qn(a,b){H.call(this,"A");this.error=a;this.context=b}v(qn,H);function pn(a,b,c,d){Wj(a,null,b,c,d)}
on.prototype.Ob=function(a,b){var c=xa("window.location.href");if(q(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d,e,f=!1;try{d=a.lineNumber||a.mu||"Not available"}catch(u){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||m.$googDebugFname||c}catch(u){e="Not available",f=!0}a=!f&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:d,fileName:e,
stack:a.stack||"Not available"}}b=b?Rb(b):{};if(this.o)try{this.o(a,b)}catch(u){}d=a.message.substring(0,1900);c=a.stack;try{var g=Pd(this.C,"script",a.fileName,"error",d,"line",a.lineNumber);Qb(this.j)||(g=Qd(g,this.j));d={};d.trace=c;if(b)for(var l in b)d["context."+l]=b[l];var n=Od(d);Da(null)&&(n=n.substring(0,null));this.A(g,"POST",n,this.B)}catch(u){}try{this.dispatchEvent(new qn(a,b))}catch(u){}};on.prototype.F=function(){G(this.g);on.J.F.call(this)};function rn(a,b,c){Pa.call(this,"Local storage error: "+b);this.type=a;this.vb=c||null}v(rn,Pa);function sn(a){return"Failed to write to localstore ("+a.type+"): "+a.message}function tn(a){return(a=a.vb&&a.vb instanceof Event?a.vb.target:null)?a.error:null};var un=m.IDBKeyRange||m.webkitIDBKeyRange;
function vn(a,b,c,d,e,f){b=p(b)?wn(b,c):null;e=e?"prev":"next";if(d)return a=xn(a,d),f?(f=p(b),d=p(e),f=f&&d?a.g.openKeyCursor(b,e):f?a.g.openKeyCursor(b):a.g.openKeyCursor(),b=new yn(f,a.j,a.g.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)):(f=p(b),d=p(e),f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor(),b=new yn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)),b;f=p(b);d=p(e);f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor();
return new yn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)}function zn(a,b,c,d){b=wn(b,c);a=An(a,b);d&&Bn(a,d)}function Cn(a,b,c,d,e,f,g,l,n,u){b=X(a,b);var y=[];Bn(vn(b,e,f,g,l,n),function(b){if(b=b.target.result){var e=p(b.value)?b.value:b.key;(e=c(e))&&y.push(e);b["continue"]()}else u&&Dn(a),d&&d(y)})}
function En(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}function Fn(a,b){return function(c){c.stopPropagation();b(new rn(1,a+" ("+En(c)+")",c))}}function wn(a,b){return p(b)&&a!=b?un.bound(a,b):un.only(a)};function Gn(a,b,c,d,e,f){T.call(this,e,f);this.W=a;this.H=[];this.I=!!b;this.Y=!!c;this.U=!!d;for(b=this.O=0;b<a.length;b++)V(a[b],r(this.M,this,b,!0),r(this.M,this,b,!1));0!=a.length||this.I||this.K(this.H)}v(Gn,T);Gn.prototype.M=function(a,b,c){this.O++;this.H[a]=[b,c];this.g||(this.I&&b?this.K([a,c]):this.Y&&!b?this.R(c):this.O==this.W.length&&this.K(this.H));this.U&&!b&&(c=null);return c};Gn.prototype.R=function(a){Gn.J.R.call(this,a);for(a=0;a<this.W.length;a++)this.W[a].cancel()};
function Hn(a){return(new Gn(a,!1,!0)).V(function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function In(a){E.call(this);this.j=new Sj;this.D=new Nk(this.B,3E4,this);this.O=new Jk;this.I=!1;this.C=new Wg;this.G=new W(this);this.U=a||10;this.G.listen(this.j,"complete",this.P);this.G.listen(this.j,"ready",this.B)}v(In,E);In.prototype.send=function(a,b,c,d){var e=this.fc().V(function(e){e>=this.U||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.jd(e))},this).V(this.B,this);Lh(e,function(){Qg(this.C.g,Yg(e))},this);Xg(this.C,e)};In.prototype.B=function(){0!=this.D.qb||this.j.g||this.I||Jn(this)};
function Jn(a){a.ec().V(function(a){if(!this.j.g&&0==this.D.qb&&!this.I&&a)if(4E3<a.u.length)this.Kb();else try{Lk(this.O,1),this.j.send(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof Mk)this.I=!0;else throw c;}},a)}In.prototype.P=function(){var a=this.j.ba();this.j.Db()||400<=a&&500>=a?this.Kb():this.D.start()};In.prototype.F=function(){qe(this.G,this.D,this.j);Pg(this.C.g);In.J.F.call(this)};function Kn(a,b,c,d,e){In.call(this,e);this.H=b;this.v=b+"-f";this.o=b+"-n";this.A=c;this.M=a;this.g=null;this.T=d||Ln;a=this.T.open("DocsErrors",1);a.onsuccess=r(this.Hj,this);a.onupgradeneeded=r(this.Bk,this);a.onerror=r(this.hg,this);a.onblocked=r(this.hg,this)}v(Kn,In);var Ln=m.indexedDB||m.webkitIndexedDB;k=Kn.prototype;
k.Hj=function(a){var b=a.target.result,c=b.transaction(["Errors"],"readwrite");(new Gn([Mn(this.v,c),Mn(this.o,c)])).V(function(a){null==a[0][1]||null==a[1][1]?(a=c.objectStore("Errors"),a.put({key:this.v,value:"1"}),a.put({key:this.o,value:"1"}),c.oncomplete=r(this.Ff,this,b)):this.Ff(b)},this)};k.Ff=function(a){this.g=a;this.B()};k.Bk=function(a){a.target.transaction.db.createObjectStore("Errors",{keyPath:"key"})};
k.hg=function(a){this.g&&(this.g.close(),this.g=null);Nn(this.M,Error("IdbErrorSender: "+En(a)))};k.jd=function(a){if(!this.g)return this.A.jd(a);var b=this.g.transaction(["Errors"],"readwrite"),c=new T;Mn(this.o,b).V(function(d){if(d){var e=b.objectStore("Errors");e.put({key:this.o,value:String(d+1)});e.put({key:this.H+"-e-"+d,value:vc(a)});b.oncomplete=r(c.K,c)}else c.K()},this);return c};
k.Kb=function(){if(!this.g)return this.A.Kb();var a=this.g.transaction(["Errors"],"readwrite"),b=new T;(new Gn([Mn(this.v,a),Mn(this.o,a)])).V(function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.K();else{var e=a.objectStore("Errors");e["delete"](this.H+"-e-"+d);d++;e.put({key:this.v,value:String(d)});On(this,a).V(function(c){0==c&&(e.put({key:this.v,value:"1"}),e.put({key:this.o,value:"1"}));a.oncomplete=r(b.K,b)},this)}},this);return b};
k.ec=function(){if(!this.g)return this.A.ec();var a=this.g.transaction(["Errors"],"readonly");return(new Gn([Mn(this.v,a),Mn(this.o,a)])).V(function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:Pn(this.H+"-e-"+c,a).V(function(a){return a&&(a=tc(a))?a:this.Kb().V(this.ec,this)},this)},this)};k.fc=function(){if(!this.g)return this.A.fc();var a=this.g.transaction(["Errors"],"readonly");return On(this,a)};function On(a,b){return(new Gn([Mn(a.v,b),Mn(a.o,b)])).V(function(a){return a[1][1]-a[0][1]})}
function Mn(a,b){return Pn(a,b).V(function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function Pn(a,b){b=b.objectStore("Errors");var c=new T;b.get(a).onsuccess=function(a){a.target.result?c.K(a.target.result.value):c.K(null)};return c}k.F=function(){this.g&&(this.g.close(),this.g=null);Kn.J.F.call(this)};function Qn(){E.call(this);this.g={}}v(Qn,E);Qn.prototype.ub=function(a,b,c){if(Ea(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");c=new Rn;a=fj(r(this.j,this,a,c),b);this.g[a]=!0;return c.g=a};Qn.prototype.j=function(a,b){b=b.getId();null===b||delete this.g[b];a()};Qn.prototype.F=function(){for(var a in this.g)gj(Number(a));Qn.J.F.call(this)};function Rn(){this.g=null}Rn.prototype.getId=h("g");function Sn(a,b){In.call(this,b);this.H=a;this.A=a+"-v";this.v=a+"-f";this.o=a+"-n";this.g=m.localStorage;Zm();a=Tn(this,this.A);if(!a||1>a)this.g.setItem(this.A,"1"),this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1");this.B();this.M=new Qn;F(this,this.M);this.M.ub(this.dj,3E4,this)}v(Sn,In);k=Sn.prototype;k.jd=function(a){var b=Tn(this,this.o);if(!b||1!=Tn(this,this.A))return Rh();try{this.g.setItem(this.o,String(b+1)),this.g.setItem(this.H+"-e-"+b,vc(a))}catch(c){}return Rh()};
k.Kb=function(){var a=Tn(this,this.v);if(!a||1!=Tn(this,this.A))return Rh();this.g.removeItem(this.H+"-e-"+a);a++;this.g.setItem(this.v,String(a));return this.fc().V(function(a){0==a&&(this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1"))},this)};k.ec=function(){var a=Tn(this,this.v);return a&&1==Tn(this,this.A)?this.fc().V(function(b){if(1>b)return null;try{var c=this.g.getItem(this.H+"-e-"+a);if(c){var d=tc(c);if(d)return d}}catch(e){}return this.Kb().V(this.ec,this)},this):Rh(null)};
k.fc=function(){return Rh(Tn(this,this.o)-Tn(this,this.v))};function Tn(a,b){return(a=a.g.getItem(b))?Un(a):null}function Un(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}k.dj=function(){if(Tn(this,this.o)&&1==Tn(this,this.A))for(var a=this.H+"-e-",b=0,c=this.g.length;b<c;++b){var d=this.g.key(b);if(d&&Ra(d,a)){var e=Un(d.substring(a.length)),f=Tn(this,this.o);f&&e&&e>=f&&this.g.removeItem(d)}}};function Vn(a){In.call(this,a);this.g=[]}v(Vn,In);k=Vn.prototype;k.jd=function(a){this.g.push(a);return Rh()};k.Kb=function(){this.g.shift();return Rh()};k.ec=function(){return Rh(p(this.g[0])?this.g[0]:null)};k.fc=function(){return Rh(this.g.length)};k.F=function(){delete this.g;Vn.J.F.call(this)};function Wn(a,b,c,d,e,f,g,l){I.call(this);this.B={};this.j=null;this.g={};this.C=new W(this);this.I=!!e;this.o=null;var n;b&&Zm()?n=new Sn(b,c):n=new Vn(c);b&&Ln&&oc&&g?(this.o=new Kn(this,b,n,void 0,c),F(this,n)):this.o=n;a=l?l:Vf(J(),"docs-sup")+"/jserror";(b=Vf(J(),"jobset"))&&(a=Pd(a,"jobset",b));if(Xn)throw Error("ErrorReporter already installed.");Xn=!0;b=r(this.ll,this);this.j=new on(a,b,void 0);this.j.B={"X-Same-Domain":"1","X-No-Abort":"1"};a=r(this.Al,this);this.j.A=a;this.C.listen(this.j,
"A",this.Cj);this.D=!1;this.G=!0;this.A=!1}v(Wn,I);var Xn=!1;function Yn(a,b,c){a.B[b]=c}function Zn(a,b,c){a.g[b]=c}function $n(a,b){a.A=!1;if(!a.j)throw b;a.j.Ob(b,ao("fatal",void 0))}function Nn(a,b,c){a.A=!1;a.j&&a.j.Ob(b,ao("warning",c))}function bo(a,b,c){a.A=!1;a.j&&a.j.Ob(b,ao("incident",c))}k=Wn.prototype;k.log=function(a,b,c){this.A=!!c;if(!this.j)throw a;this.j.Ob(a,ao("incident",b))};
function co(a,b,c,d){return r(function(a){var e;a:{var g=!!d,l=arguments;if(this.j){try{e=b.apply(c,l);break a}catch(n){if($n(this,n),g)throw n;}e=void 0}else e=b.apply(c,l)}return e},a)}function ao(a,b){b=b?Rb(b):{};b.severity=a;return b}
k.Cj=function(a){var b=a.context.severity;if((b="fatal"==b||"postmortem"==b)&&!this.I&&window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var c=window;c.onbeforeunload=ya;c.location.reload()}this.dispatchEvent(new eo(b?"B":"C",a.error,a.context))};
k.ll=function(a,b){for(var c in this.B)try{b[c]=this.B[c]()}catch(e){}Ub(b,this.g);a=b.severity||"fatal";(c=Vf(J(),"docs-jern"))&&(b.reportName=c+"_"+a);var d;a:{for(d in Array.prototype){d=!1;break a}d=!0}b.isArrayPrototypeIntact=d.toString();this.D?(this.G=this.A||!Tf(J(),"docs-spfe"),"fatal"==a?a="postmortem":"incident"==a&&(a="warningafterdeath")):"fatal"==a&&(this.D=!0);this.A=!1;b.severity=a};k.Al=function(a,b,c,d){this.G&&this.o.send(a,b,c,d)};
k.F=function(){Xn=!1;qe(this.C,this.j,this.o);Wn.J.F.call(this)};function eo(a,b,c){H.call(this,a);this.error=b;this.context=c}v(eo,H);function fo(a,b,c){H.call(this,"D",a);this.g=b;this.j=c}v(fo,H);function go(a,b,c){I.call(this);this.j={"X-Same-Domain":"1"};!1===c&&(this.j={});this.o="";this.g=b||Ym();(a=Ud((a||m).location.href,"authkey"))&&ho(this,"authkey",a)}v(go,I);go.prototype.A=function(a){ho(this,"tfe",a)};function ho(a,b,c){var d=a.g;if(c){if(d.g[b]=c,d.j&&(b=d.g.token||null))d.j.K(b),d.j=null}else delete d.g[b];a.dispatchEvent("E")};function io(a){I.call(this);this.j=a;this.g=null;this.o=new W(this);this.o.listen(this.j,"E",this.A)}v(io,I);io.prototype.A=function(){this.g&&(this.g.$=Rb(this.j.g.g))};io.prototype.B=function(a){var b=this.g;this.dispatchEvent(new fo(this,0==a,b.Ga?b.Ga.ab:-1))};io.prototype.F=function(){this.g&&!this.g.isDisposed()&&(this.g.pe("tfe_changed",this.j.A,this.j),Xk(this.g),this.g.C=ya);this.g=null;G(this.o);io.J.F.call(this)};new Wg;function jo(a,b){E.call(this);this.g=[];this.A=a;this.o=b||null;this.j=this.v=null;this.o&&(this.j=new ej(500),this.v=new W(this),this.v.listen(this.j,"tick",this.B))}v(jo,E);jo.prototype.reset=function(){this.g=[];this.j&&this.j.stop()};jo.prototype.contains=function(a){return ub(this.g,a)};jo.prototype.B=function(){for(;0<this.g.length&&Kk(this.o);)Lk(this.o),this.A(this.g.shift());ko(this)};function ko(a){0==a.g.length&&a.j&&a.j.stop()}jo.prototype.F=function(){G(this.v);G(this.j);jo.J.F.call(this)};function lo(a,b){H.call(this,"H");this.j=a;this.g=b}v(lo,H);function mo(){I.call(this);this.g=no}v(mo,I);function oo(a,b){var c=a.g;b!=c&&(a.g=b,a.dispatchEvent(new lo(c,b)))}function po(a,b){this.j=a;this.g=b}
var no=new po("IDLE",1),qo=new po("BUSY",1),ro=new po("RECOVERING",2),so=new po("OFFLINE",3),to=new po("SERVER_DOWN",3),uo=new po("FORBIDDEN",4),vo=new po("AUTH_REQUIRED",4),wo=new po("SESSION_LIMIT_EXCEEDED",4),xo=new po("INCOMPATIBLE_SERVER",5),yo=new po("CLIENT_ERROR",5),zo=new po("BATCH_CLIENT_ERROR",3),Ao=new po("SAVE_ERROR",5),Bo=new po("BATCH_SAVE_ERROR",3);po.prototype.toString=h("j");function Co(a,b,c,d,e,f,g,l){I.call(this);this.P=a;this.j=new go(b,e,g);this.o=new io(this.j);this.C=new W(this);this.G=c||null;c&&this.C.listen(c,"B",this.Nj);this.g=d||new mo;this.O=l||null;this.M=new Qn;this.A=[];this.I=[];this.D=new jo(r(this.Bl,this),f);this.B=yo;this.C.listen(this.o,"D",this.Bj)}v(Co,I);function Do(a,b){b=Eo(a,b);b.W=a.j.o;return b}function Eo(a,b){return new Vm(a,b,a,a.O,a.P.g)}k=Co.prototype;
k.send=function(a){if(!a.isDisposed()){vb(this.A,a);a:{var b=this.D;if(b.o){if(!Kk(b.o)||0!=b.g.length){b.g.push(a);b.j.start();break a}Lk(b.o)}b.A(a)}yi(this.C,a,"z",this.rk)}};k.Bl=function(a){5<=this.g.g.g||(this.g.g==no&&oo(this.g,qo),yi(this.C,a,"y",this.jg),a.send(this.j))};
k.jg=function(a){var b=a.target;a=a.g;"SOON"==a.B["x-restart"]&&this.g.dispatchEvent("I");this.G&&kl(a)&&1!=b.B&&this.G.log(Error("blank JSON response"),hl(a));var c;if("NOW"==a.B["x-restart"])c=new dl("j",a.j,a.o);else if(7==a.j)c=null;else{c=a.j;var d=a.o;(a.Db()?0==c&&0==d&&("text"!=a.v||null==a.g):8==c||5==c||6==c&&(0>=d||503==d||405==d))?c="g":(c=a.o,c=6==a.j&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=jl(a)||200==c&&(null==a.A||il(a)||kl(a))?"h":
a.Db()?"f":"e");c=new dl(c,a.j,a.o,6==a.j&&500==a.o?il(a):null)}if(c){d=!0;if("f"==c.type){try{b.P(a),Fo(this,b)}catch(n){c=new dl("i",c.errorCode,c.g),c.vb=n,c.j="f",Fo(this,b,this.B)}b.Z()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var g=il(a);g&&"XSRF"==z(g,1)&&(Go(this,z(g,4)),f=!0)}400==e.g&&(a=jl(a))&&z(a,1)&&(Go(this,z(a,1)),f=!0);409==e.g&&this.j.A(null);a=5<=this.g.g.g;g="h"==e.type;a||!(f||1!=b.B&&4>b.I)?3==b.B?(a||(null==this.o.g||g?Ho(this,b,!0):this.I.push(b),Io(this),
oo(this.g,Jo(this,e.g))),a=2):a=1:(Ho(this,b,!1),a=3);switch(a){case 1:c.j=c.type;c.type="e";break;case 3:d=!1;break;case 2:Ko(c)}}else"j"==c.type&&(this.G&&bo(this.G,Error("Incompatible server")),Fo(this,b,xo),d=!1);if("e"==c.type){Ko(c);try{if(0==b.M(c)&&(d=!1),b.ea)Fo(this,b);else{var l=b.Y(c)||Jo(this,c.g);Fo(this,b,l)}}catch(n){c=new dl("i",c.errorCode,c.g),c.vb=n,c.j="e",Fo(this,b,this.B)}b.Z()}d&&(c.C=b.j,this.dispatchEvent(c))}};function Ko(a){a.B instanceof bl&&z(a.B,2)}
k.rk=function(a){a=a.target;if(this.D.contains(a)){var b=this.D;wb(b.g,a);ko(b)}else ub(this.A,a)&&(this.C.Bc(a,"y",this.jg),Fo(this,a));wb(this.A,a);wb(this.I,a)};function Fo(a,b,c){var d=a.g.g,e=d,f=c||so;c=!c;wb(a.A,b);wb(a.I,b);a.D.contains(b);5<=d.g||(5<=f.g?oo(a.g,f):(b=null!=a.o.g||rb(a.A,function(a){return 3==a.B}),d==qo?c||!b?0==a.A.length&&(e=no):(Io(a),e=f):c?0<a.A.length?(e=ro,Lo(a)):null!=a.o.g&&Yk(a.o.g)||(e=no):e=f,oo(a.g,e)))}
function Io(a){null!=a.o.g&&1==a.g.g.g&&(a=a.o,Xk(a.g),Vk(a.g))}k.ba=h("g");function Ho(a,b,c){var d=Lm;c&&0!=b.A&&(d=b.A<b.la?1.5*b.A:b.A);b.A=d;c=Math.max(0,d-(t()-b.U));a.M.ub(r(a.send,a,b),c)}k.Bj=function(a){var b=this.g.g;5<=b.g||(a.g?1!=b.g&&(0<this.A.length?(oo(this.g,ro),Lo(this)):oo(this.g,no)):oo(this.g,Jo(this,a.j)))};function Lo(a){var b=a.I.shift();b&&a.send(b)}
function Jo(a,b){return 401==b?vo:403==b?uo:421==b?wo:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?to:400<=b&&499>=b||550==b?a.B:so}function Go(a,b){a=a.j;a.g.g.at&&ho(a,"at",b);ho(a,"token",b)}k.Nj=function(){oo(this.g,this.B)};k.F=function(){qe(this.A);G(this.o);G(this.j);G(this.M);G(this.D);G(this.C);Co.J.F.call(this)};function Mo(a){this.g=a};function No(a){E.call(this);this.j=a;this.g={};this.j.Yc(r(this.o,this))}v(No,E);function Oo(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.g)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new Po(a,b);return a.g[b]=c}No.prototype.o=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.g&&(c=this.g[c])&&c.o&&c.o(a,b)}};
No.prototype.F=function(){Hb(this.g,function(a){G(a)});G(this.j);delete this.g;delete this.j};function Po(a,b){E.call(this);this.g=a;this.j=b}v(Po,E);k=Po.prototype;k.connect=function(a){a&&a()};k.Ha=ca(!0);k.Oa=function(a,b,c){this.g.j.Oa(this.j+":"+a,r(this.If,this,b),c)};k.Yc=function(a){this.o=r(this.If,this,a)};k.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.g.j.send(this.j+":"+a,b)};
k.If=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};k.F=function(){this.g=this.g.g[this.j]=null};function Qo(a,b){E.call(this);this.j=[];this.v=new No(a);this.o=Oo(this.v,"user");this.B=Oo(this.v,"control");this.g=new ej(b||50);this.g.start();Ke(this.g,"tick",this.Ng,!1,this);this.B.Oa("setPeerReady_",r(this.Cl,this))}v(Qo,E);k=Qo.prototype;k.connect=function(a){a&&a()};k.Ha=ca(!0);k.Ng=function(){try{this.B.send("setPeerReady_",this.A?"1":"")}catch(a){throw this.g.stop(),a;}};k.Oa=function(a,b,c){this.o.Oa(a,b,c)};k.Yc=function(a){this.o.Yc(a)};
k.send=function(a,b){this.A?this.o.send(a,b):this.j.push({Ve:a,Xa:b})};k.Cl=function(a){a?this.g.stop():this.g.start();if(!this.A){this.A=!0;this.Ng();for(a=0;a<this.j.length;a++){var b=this.j[a];this.o.send(b.Ve,b.Xa)}this.j=null}};k.F=function(){G(this.v);G(this.g);Qo.J.F.call(this)};function Ro(){E.call(this);this.j={}}v(Ro,E);k=Ro.prototype;k.vj=null;k.connect=function(a){a&&a()};k.Ha=ca(!0);k.Oa=function(a,b,c){this.j[a]={K:b,ug:!!c}};k.Yc=ba("C");function So(a,b,c){var d;if(d=(d=a.j[b])?d:a.C?{K:La(a.C,b),ug:Fa(c)}:null)a=a.hd(b,c,d.ug),null!=a&&d.K(a)}k.hd=function(a,b,c){if(c&&q(b))try{return tc(b)}catch(d){return null}else if(!c&&!q(b))return vc(b);return b};k.F=function(){Ro.J.F.call(this);delete this.vj;delete this.j;delete this.C};var To=["pu","lru","pru","lpu","ppu"],Uo={};function Vo(a){for(var b=Wo,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d}var Wo="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function Xo(a){E.call(this);this.U=a||$e()}v(Xo,E);Xo.prototype.Tb=0;Xo.prototype.L=h("Tb");function Yo(a){return df(a.U.g)};function Zo(a,b){Xo.call(this,b);this.g=a;this.D=new W(this);F(this,this.D);this.B=new ej(100,Yo(this));F(this,this.B);this.v=new T;this.A=new T;this.j=new T;this.H=Vo(10);this.C=null;this.o={};this.I=this.g.name;$o(this.g,this.g.name+"_"+ap(this.g));this.G=!1;Nh(this.j,this.v);Nh(this.j,this.A);this.j.V(this.wj,this);this.j.K(!0);this.D.listen(this.B,"tick",this.eg)}v(Zo,Xo);var bp={};
function cp(a){var b=new dp(a.channelName,a.service,a.payload);a=b.g;var c=b.Id,b=b.Xa,d=Uo[a];if(d)return d.eb(c,b),!0;var d=ep(b)[0],e;for(e in Uo){var f=Uo[e];if(1==ap(f)&&!f.Ha()&&"tp"==c&&"SETUP"==d)return $o(f,a),f.eb(c,b),!0}return!1}k=Zo.prototype;k.Tb=7;k.Md=function(a){a=ep(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.v.g||this.v.K(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.A.g||this.A.K(!0),null!=this.C&&this.C!=b&&this.send("tp","SETUP,"+this.H),this.C=b}};
k.connect=function(){var a=Yo(this);if(a){var b=Ga(a);0==(bp[b]||0)&&null==xa("crosswindowmessaging.channel",a)&&wa("crosswindowmessaging.channel",cp,a);bp[b]++;this.G=!0;this.eg()}};k.eg=function(){this.g.Ha()?this.B.stop():(this.B.start(),this.send("tp","SETUP,"+this.H))};k.send=function(a,b){this.g.Na&&(a=new dp(this.I+"_"+(0==ap(this.g)?1:0),a,b),this.g.g.directSyncMode?this.Vf(a):this.o[Ga(a)]=fj(r(this.Vf,this,a),0))};
k.Vf=function(a){var b=Ga(a);this.o[b]&&delete this.o[b];try{var c=xa("crosswindowmessaging.channel",this.g.Na)}catch(d){return}if(null!==c)try{c({channelName:a.g,service:a.Id,payload:a.Xa})}catch(d){}};k.wj=function(){fp(this.g,0)};
k.F=function(){if(this.G){var a=Yo(this),b=Ga(a);1==--bp[b]&&wa("crosswindowmessaging.channel",null,a)}this.o&&(Hb(this.o,function(a){gj(a)}),this.o=null);this.v&&(this.v.cancel(),delete this.v);this.A&&(this.A.cancel(),delete this.A);this.j&&(this.j.cancel(),delete this.j);Zo.J.F.call(this)};function ep(a){a=a.split(",");a[1]=a[1]||null;return a}function dp(a,b,c){this.g=a;this.Id=b;this.Xa=c};function gp(a,b){Xo.call(this,b);this.j=a;this.o=[];this.B=r(this.Xi,this)}v(gp,Xo);k=gp.prototype;k.Tb=2;k.Pe=!1;k.connect=function(){0==ap(this.j)?(this.g=this.j.rc,this.g.XPC_toOuter=r(this.mg,this)):this.sf()};
k.sf=function(){var a=!0;try{this.g||(this.g=Yo(this).frameElement),this.g&&this.g.XPC_toOuter&&(this.v=this.g.XPC_toOuter,this.g.XPC_toOuter.XPC_toInner=r(this.mg,this),a=!1,this.send("tp","SETUP_ACK"),fp(this.j))}catch(b){}a&&(this.A||(this.A=r(this.sf,this)),Yo(this).setTimeout(this.A,100))};k.Md=function(a){if(0!=ap(this.j)||this.j.Ha()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.v=this.g.XPC_toOuter.XPC_toInner;fp(this.j)};
k.mg=function(a,b){this.Pe||0!=this.o.length?(this.o.push({Ve:a,Xa:b}),1==this.o.length&&Yo(this).setTimeout(this.B,1)):this.j.eb(a,b)};k.Xi=function(){for(;this.o.length;){var a=this.o.shift();this.j.eb(a.Ve,a.Xa)}};k.send=function(a,b){this.Pe=!0;this.v(a,b);this.Pe=!1};k.F=function(){gp.J.F.call(this);this.g=this.v=null};function hp(a,b){Xo.call(this,b);this.g=a;this.G=this.g.g.ppu;this.Y=this.g.g.lpu;this.D=[]}var ip,jp;v(hp,Xo);k=hp.prototype;k.hl=5;k.Tb=4;k.De=0;k.Cc=!1;k.td=!1;k.Fg=null;function kp(a){return"googlexpc_"+a.g.name+"_msg"}function lp(a){return"googlexpc_"+a.g.name+"_ack"}function mp(a){try{if(!a.isDisposed()&&np(a.g))return a.g.Na.frames||{}}catch(b){}return{}}function op(a,b){return mp(a)[b]}
k.connect=function(){if(!this.isDisposed()&&np(this.g)){if(!this.td){var a=kp(this);this.o=pp(this,a);this.C=Yo(this).frames[a];a=lp(this);this.j=pp(this,a);this.B=Yo(this).frames[a];this.td=!0}if(qp(this,kp(this))&&qp(this,lp(this)))this.O=new rp(this,op(this,kp(this)),r(this.kl,this)),this.I=new rp(this,op(this,lp(this)),r(this.jl,this)),this.zf();else{if(1==ap(this.g))this.Fg||0<this.hl--||($o(this.g,Vo(10)),sp(this),this.td=!1,this.Fg=pp(this,"googlexpc_reconnect_"+this.g.name));else if(0==ap(this.g))for(var a=
mp(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.g.name=e[2];sp(this);this.td=!1;break}}}Yo(this).setTimeout(r(this.connect,this),100)}}};function pp(a,b){var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.G+"#INITIAL";Yo(a).document.body.appendChild(c);return c}
function sp(a){a.o&&(a.o.parentNode.removeChild(a.o),a.o=null,a.C=null);a.j&&(a.j.parentNode.removeChild(a.j),a.j=null,a.B=null)}function qp(a,b){try{var c=op(a,b);if(!c||0!=c.location.href.indexOf(a.Y))return!1}catch(d){return!1}return!0}k.zf=function(){var a=mp(this);a[lp(this)]&&a[kp(this)]?(this.P=new tp(this.G,this.C),this.A=new tp(this.G,this.B),Yo(this).setTimeout(r(function(){this.P.send("SETUP");this.Cc=!0},this),100)):(this.M||(this.M=r(this.zf,this)),Yo(this).setTimeout(this.M,100))};
function up(a){if(a.T&&a.$&&(fp(a.g),a.v)){for(var b=0,c;b<a.v.length;b++)c=a.v[b],a.g.eb(c.Id,c.Xa);delete a.v}}
k.kl=function(a){if("SETUP"==a)this.A&&(this.A.send("SETUP_ACK"),this.T=!0,up(this));else if(this.g.Ha()||this.T){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.A.send("ACK:"+c);vp(this,a)}else d=c.substring(0,b),this.A.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.H=[]),this.H.push(a),b==c&&(vp(this,this.H.join("")),delete this.H)}};
k.jl=function(a){"SETUP_ACK"==a?(this.Cc=!1,this.$=!0,up(this)):this.g.Ha()&&this.Cc&&parseInt(a.split(":")[1],10)==this.De&&(this.Cc=!1,wp(this))};function wp(a){if(!a.Cc&&a.D.length){var b=a.D.shift();++a.De;a.P.send(a.De+b);a.Cc=!0}}function vp(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substring(c+1);a.g.Ha()?a.g.eb(d,b):(a.v||(a.v=[])).push({Id:d,Xa:b})}k.send=function(a,b){this.D.push("|"+(a+":"+b));wp(this)};
k.F=function(){hp.J.F.call(this);var a=xp;wb(a,this.O);wb(a,this.I);this.O=this.I=null;ef(this.o);ef(this.j);this.C=this.B=this.o=this.j=null};var xp=[],yp=r(function(){var a=xp,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=b,g=f.j.location.href;if(g!=f.g){f.g=g;var l=g.split("#")[1];l&&(l=l.substr(1),f.o(decodeURIComponent(l)));e=!0}else e=!1}c=e}}catch(n){if(b.v.g.close(),!a.length)return}a=t();c&&(ip=a);jp=window.setTimeout(yp,1E3>a-ip?10:100)},hp);
function zp(){ip=t();jp&&window.clearTimeout(jp);jp=window.setTimeout(yp,10)}function tp(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.j=a;this.o=b;this.g=0}tp.prototype.send=function(a){this.g=++this.g%2;a=this.j+"#"+this.g+encodeURIComponent(a);try{this.o.location.href=a}catch(b){}zp()};function rp(a,b,c){this.v=a;this.j=b;this.o=c;this.g=this.j.location.href.split("#")[0]+"#INITIAL";xp.push(this);zp()};function Ap(a,b){Xo.call(this,b);this.g=a;this.o=this.g.g.pru;this.j=this.g.g.ifrid;Bp()}v(Ap,Xo);var Cp=[],Dp=0;function Bp(){Dp||(Dp=window.setTimeout(function(){Ep()},1E3))}function Ep(a){var b=t();for(a=a||3E3;Cp.length&&b-Cp[0].timestamp>=a;){var c=Cp.shift().Dk;ef(c)}Dp=window.setTimeout(Fp,1E3)}function Fp(){Ep()}k=Ap.prototype;k.Tb=3;k.connect=function(){Yo(this).xpcRelay||(Yo(this).xpcRelay=Gp);this.send("tp","SETUP")};
function Gp(a,b){var c=b.indexOf(":");Uo[a].eb(b.substr(0,c),decodeURIComponent(b.substr(c+1)))}k.Md=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),fp(this.g)):"SETUP_ACK"==a&&fp(this.g)};k.send=function(a,b){b=encodeURIComponent(b);var c;c=Yo(this).document.createElement("IFRAME");Cp.push({timestamp:t(),Dk:c});var d=c.style;d.visibility="hidden";d.width=c.style.height="0px";d.position="absolute";d=this.o;d+="#"+this.g.name;this.j&&(d+=","+this.j);c.src=d+("|"+a)+(":"+b);Yo(this).document.body.appendChild(c)};
k.F=function(){Ap.J.F.call(this);Ep(0)};function Hp(a,b,c,d,e){Xo.call(this,c);this.A=a;this.B=e||2;this.O=b||"*";this.D=new W(this);this.C=new ej(100,Yo(this));this.G=!!d;this.o=new T;this.v=new T;this.j=new T;this.M=Vo(10);this.H=null;this.G?1==ap(this.A)?Nh(this.j,this.o):Nh(this.j,this.v):(Nh(this.j,this.o),2==this.B&&Nh(this.j,this.v));this.j.V(this.xj,this);this.j.K(!0);this.D.listen(this.C,"tick",this.fg)}v(Hp,Xo);Hp.prototype.g=null;Hp.prototype.I=!1;Hp.prototype.Tb=1;var Ip={};k=Hp.prototype;k.$c=0;
function Jp(a){var b=a.g.data;if(!q(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);if(d=Uo[e])return d.eb(c,b,a.g.origin),!0;var d=Kp(b)[0],f;for(f in Uo){var g=Uo[f];if(1==ap(g)&&!g.Ha()&&"tp"==c&&("SETUP"==d||"SETUP_NTPV2"==d)&&Lp(g,a.g.origin))return $o(g,e),g.eb(c,b),!0}return!1}
k.Md=function(a){var b=Kp(a);a=b[1];switch(b[0]){case "SETUP_ACK":Mp(this,1);this.o.g||this.o.K(!0);break;case "SETUP_ACK_NTPV2":2==this.B&&(Mp(this,2),this.o.g||this.o.K(!0));break;case "SETUP":Mp(this,1);Np(this,1);break;case "SETUP_NTPV2":2==this.B&&(b=this.g,Mp(this,2),Np(this,2),1!=b&&null==this.H||this.H==a||Op(this),this.H=a)}};function Op(a){2!=a.B||null!=a.g&&2!=a.g||a.send("tp","SETUP_NTPV2,"+a.M);null!=a.g&&1!=a.g||a.send("tp","SETUP")}
function Np(a,b){if(2!=a.B||null!=a.g&&2!=a.g||2!=b){if(null!=a.g&&1!=a.g||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.v.g||a.v.K(!0)}function Mp(a,b){b>a.g&&(a.g=b);1==a.g&&(a.v.g||a.G||a.v.K(!0),a.H=null)}k.connect=function(){var a=Yo(this),b=Ga(a),c=Ip[b];Da(c)||(c=0);0==c&&Ke(a.postMessage?a:a.document,"message",Jp,!1,Hp);Ip[b]=c+1;this.I=!0;this.fg()};k.fg=function(){var a=0==ap(this.A);this.G&&a||this.A.Ha()||this.isDisposed()?this.C.stop():(this.C.start(),Op(this))};
k.send=function(a,b){var c=this.A.Na;c&&(this.send=function(a,b){var d=this,e=this.A.name;this.$c=fj(function(){d.$c=0;try{var f=c.postMessage?c:c.document;f.postMessage&&f.postMessage(e+"|"+a+":"+b,d.O)}catch(n){}},0)},this.send(a,b))};k.xj=function(){fp(this.A,1==this.B||1==this.g?200:void 0)};
k.F=function(){if(this.I){var a=Yo(this),b=Ga(a),c=Ip[b];Ip[b]=c-1;1==c&&Se(a.postMessage?a:a.document,"message",Jp,!1,Hp)}this.$c&&(gj(this.$c),this.$c=0);G(this.D);delete this.D;G(this.C);delete this.C;this.o.cancel();delete this.o;this.v.cancel();delete this.v;this.j.cancel();delete this.j;delete this.send;Hp.J.F.call(this)};function Kp(a){a=a.split(",");a[1]=a[1]||null;return a};function Pp(a,b){Xo.call(this,b);this.g=a;this.j=a.at||"";this.o=a.rat||"";a=Yo(this);if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){}this.GCXPC____NIXJS_handle_message=this.bk;this.GCXPC____NIXJS_create_channel=this.Ui}v(Pp,Xo);k=Pp.prototype;k.Tb=6;k.tc=!1;k.Qb=null;k.connect=function(){0==ap(this.g)?this.rf():this.qf()};k.rf=function(){if(!this.tc){var a=this.g.rc;try{a.contentWindow.opener=(0,Yo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j),this.tc=!0}catch(b){}this.tc||Yo(this).setTimeout(r(this.rf,this),100)}};
k.qf=function(){if(!this.tc){try{var a=Yo(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Qb=a;if(this.Qb.GetAuthToken()!=this.o)return;this.Qb.CreateChannel((0,Yo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j));this.tc=!0;fp(this.g)}}catch(b){return}this.tc||Yo(this).setTimeout(r(this.qf,this),100)}};k.Ui=function(a){this.Qb=a;this.Qb.GetAuthToken()==this.o&&fp(this.g)};k.bk=function(a,b){Yo(this).setTimeout(r(function(){this.g.eb(a,b)},this),1)};
k.send=function(a,b){this.Qb.SendMessage(a,b)};k.F=function(){Pp.J.F.call(this);this.Qb=null};function Qp(a,b){Ro.call(this);for(var c=0,d;d=To[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.g=a;this.name=this.g.cn||Vo(10);this.o=b||$e();this.v=[];this.A=new W(this);a.lpu=a.lpu||Hd(df(this.o.g).location.href)+"/robots.txt";a.ppu=a.ppu||Hd(a.pu||"")+"/robots.txt";Uo[this.name]=this;Ue(window,"unload",Rp)||Re(window,"unload",Rp)}v(Qp,Ro);var Sp=/^%*tp$/,Tp=/^%+tp$/;k=Qp.prototype;k.wb=null;k.jb=null;k.Ma=null;k.pc=1;
k.Ha=function(){return 2==this.pc};k.Na=null;k.rc=null;function np(a){try{return!!a.Na&&!a.Na.closed}catch(b){return!1}}function Up(a,b){var c=a.g.ifrid;c||(c=a.g.ifrid="xpcpeer"+Vo(4));var d=$e(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";Vp(a);a.jb=new T(void 0,a);var e=Wp(a);zi(a.A,d,"load",a.jb.K,!1,a.jb);window.setTimeout(r(function(){b.appendChild(d);d.src=e.toString()},a),1)}function Vp(a){a.jb&&(a.jb.cancel(),a.jb=null);a.v.length=0;Ai(a.A)}
function Wp(a){var b=a.g.pu;q(b)&&(b=a.g.pu=new Gi(b));var c={};c.cn=a.name;c.tp=a.g.tp;c.osh=a.g.osh;a.g.lru&&(c.pru=a.g.lru);a.g.lpu&&(c.ppu=a.g.lpu);a.g.ppu&&(c.lpu=a.g.ppu);(a=a.g.role)&&(c.role=1==a?0:1);Ui(b,"xpc",vc(c));return b}k.connect=function(a){this.B=a||ya;3==this.pc&&(this.pc=1);this.jb?this.jb.V(this.Bf):this.Bf()};
k.Bf=function(){this.jb=null;if(this.g.ifrid){var a=this.g.ifrid;this.rc=q(a)?this.o.g.getElementById(a):a}this.rc&&((a=this.rc.contentWindow)||(a=window.frames[this.g.ifrid]),this.Na=a);if(!this.Na){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.Na=window.parent}if(!this.Ma){this.g.tp||(this.g.tp=Ea(document.postMessage)||Ea(window.postMessage)?1:4);switch(this.g.tp){case 1:this.Ma=new Hp(this,this.g.ph,this.o,!!this.g.osh,this.g.nativeProtocolVersion||
2);break;case 6:this.Ma=new Pp(this,this.o);break;case 2:this.Ma=new gp(this,this.o);break;case 3:this.Ma=new Ap(this,this.o);break;case 4:this.Ma=new hp(this,this.o);break;case 7:if(a=this.Na)try{a=window.document.domain==this.Na.document.domain}catch(b){a=!1}a&&(this.Ma=new Zo(this,this.o))}if(!this.Ma)throw Error("CrossPageChannel: No suitable transport found!");}for(this.Ma.connect();0<this.v.length;)this.v.shift()()};
k.close=function(){Vp(this);this.pc=3;G(this.Ma);this.B=this.Ma=null;G(this.wb);this.wb=null};function fp(a,b){a.Ha()||a.wb&&0!=a.wb.qb||(a.pc=2,G(a.wb),p(b)?(a.wb=new Nk(a.B,b),a.wb.start()):(a.wb=null,a.B()))}k.send=function(a,b){this.Ha()&&(np(this)?(Fa(b)&&(b=vc(b)),this.Ma.send(Xp(a),b)):this.close())};
k.eb=function(a,b,c){this.jb?this.v.push(r(this.eb,this,a,b,c)):Lp(this,c)&&!this.isDisposed()&&3!=this.pc&&(a&&"tp"!=a?this.Ha()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Tp.test(a)?a.substring(1):a,So(this,a,b)):this.Ma.Md(b))};function Xp(a){Sp.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)}function ap(a){var b=a.g.role;return Da(b)?b:window.parent==a.Na?1:0}function $o(a,b){delete Uo[a.name];a.name=b;Uo[b]=a}
function Lp(a,b){var c=a.g.ph;return Ta(ib(b))||Ta(ib(c))||b==a.g.ph}k.F=function(){this.close();this.rc=this.Na=null;delete Uo[this.name];G(this.A);delete this.A;Qp.J.F.call(this)};function Rp(){for(var a in Uo)G(Uo[a])};function Yp(){I.call(this)}v(Yp,I);function Zp(a,b){H.call(this,a);this.Xa=b||null}v(Zp,H);function $p(a){I.call(this);this.j=a;this.o=new W(this);F(this,this.o);this.o.listen(this.j,"u",this.A);this.j.H=this;this.g={};this.g.sync="sr";this.g.uc="uc"}v($p,Yp);$p.prototype.A=function(a){var b=yd(a.Xa.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Zp("u",Mc(b))));a.stopPropagation()};function aq(a,b,c,d,e,f){var g,l=a.g;d&&(g=function(a){var c=l[b];c&&(a=yd(a,c),a.unshift(c),d(Mc(a)))});a.j.o(b,Hc(c),g,e,f)};function bq(a,b,c){Ro.call(this);c&&(this.o=c.zu(this.o));this.g=a;F(this,this.g);this.g.Yc(r(this.o,this));this.v=b}v(bq,Ro);bq.prototype.send=function(a,b){Fa(b)&&(b=vc(b));this.g.send(a,{t:this.v,p:b})};bq.prototype.o=function(a,b){So(this,a,b)};bq.prototype.hd=function(a,b,c){b=bq.J.hd.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.v?bq.J.hd.call(this,a,b.p,c):null};function cq(){I.call(this)}v(cq,I);function dq(a,b,c,d,e){I.call(this);this.A=a;this.D=c||[];this.B=e;this.j=new W(this);F(this,this.j);this.j.listen(this.A.ba(),"H",this.I);d&&(this.g=d,this.g.md("9",this.C,this));this.M=0;this.G=b}v(dq,cq);dq.prototype.C=function(a){a&&this.dispatchEvent(new Zp("u",a))};dq.prototype.I=function(a){1!=a.j.g&&1==a.g.g?this.dispatchEvent(new Zp("r")):3<=a.g.g&&this.dispatchEvent(new Zp("e"))};dq.prototype.o=function(a,b,c,d,e){b=["p",vc(b)];eq(this,b,"/docos/p/"+a,c,d,e)};
function eq(a,b,c,d,e,f){b=Md(b.concat("reqid",a.M++));c=nl(Do(a.A,c).o(a.D),b);a.G&&ml(c);f?sl(c,f):sl(c,3);d&&tl(c,function(a){d(a.La())});e&&pl(c,e);null!=a.B&&(c.$=a.B);ul(c)}dq.prototype.F=function(){this.g&&this.g.pe("9",this.C,this);delete this.j;dq.J.F.call(this)};function fq(a,b){this.seq=gq++;this.type=a;this.payload=b||null;this.rseq=0}var gq=1;function hq(a){I.call(this);this.g=a;this.g.Oa("recv",r(this.B,this),!0);this.g.Oa("recvEvt",r(this.A,this),!0);this.j={}}v(hq,cq);hq.prototype.B=function(a){var b=this.j[a.rseq];b&&(b(a.payload),delete this.j[a.rseq])};hq.prototype.A=function(a){this.dispatchEvent(new Zp(a.type,a.payload))};hq.prototype.o=function(a,b,c){a=new fq(a,b);c&&(this.j[a.seq]=c);this.g.send("send",a)};hq.prototype.F=function(){hq.J.F.call(this);delete this.g};function iq(a){E.call(this);this.o=a}v(iq,E);iq.prototype.g=null;iq.prototype.j=null;
function jq(a){if(a.g)return a.g;var b=ai(a.o),c=b.he;if(p(c))return c&&(a.g=new $p(c),F(a,a.g)),a.g;if(b.Lf){var d=wi(),c=new Co(new Wm,void 0,void 0,void 0,new Xm,void 0,void 0,new Mo(d)),e=b.Mf;e&&(c.j.o=e);var f=b.bh;f&&Go(c,f);b.Zf&&ho(c.j,"anon","true");(f=b.ng)&&ho(c.j,"invite",f);f=null;if(b.Kf){var f=new Sk,g=b.Zg.getId();f.af=g;var g=c.o,l=f;g.g=l;var n=r(g.B,g);l.C=n;null!=l.g&&l.C(l.g);l.md("tfe_changed",g.j.A,g.j);g.A();Vk(f,b.ge,d,e)}b=new dq(c,!0,["id",b.ge],f,null!=b.ke?b.ke:void 0);
F(b,c);F(b,f);a.g=new $p(b);F(a,a.g);F(a,b);return a.g}b=b.Cg;if(!b)throw Error("Peer missing.");c={};d=new Gi(window.location.href);(e=d.j.get("docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Gi(b)).toString());d=wi();b=Ui(new Gi(b),"ctoken",d).toString();c.pu=b;a.j=document.createElement("div");a.j.style.display="none";document.body.appendChild(a.j);b=new Qp(c);Up(b,a.j);b.connect();b=new Qo(b);c=Vh(a.o,"errorReporter");b=new bq(b,d,c);c=new hq(b);a.g=new $p(c);F(a,a.g);F(a,
c);F(a,b);return a.g}iq.prototype.F=function(){delete this.g;this.j&&(document.body.removeChild(this.j),this.j=null);iq.J.F.call(this)};function kq(){};function lq(a,b,c,d,e,f){this.type=a;this.o=b;this.j=c;this.A=d;this.B=e;this.g=f;this.type=this.type;this.anchors=this.o;this.docos=this.j;this.nonAnchored=this.A;this.userInitiated=this.B;this.args=this.g}wa("docos.Event",lq,void 0);function mq(a,b){lq.call(this,a,[],[],!1,!1,new kq);this.interval=this.v=b}v(mq,lq);function nq(a){E.call(this);this.pf=a;this.gd=[]}v(nq,E);nq.prototype.F=function(){nq.J.F.call(this);for(var a,b;b=this.gd.pop();)(a=this.gd.pop())&&!a.isDisposed()&&a.tb(b);delete this.pf;delete this.gd};function oq(a,b){I.call(this);this.g=a;this.C=b;this.o=new W(this);F(this,this.o);this.j=a.get("netIo");this.A=!0;this.B=new nq(this);F(this,this.B);this.o.listen(this.j,"r",this.Vk).listen(this.j,"u",this.cl).listen(this.j,"e",this.Rk);this.o.listen(bi(a),["cd","dd"],this.$i);b=Vh(a,"action_registry");if(!b){b=new Cg;for(var c=Kb(Bg),d=0;d<c.length;d++){var e=b,f;f=c[d];var g={};g.label=f;g.visible=!0;g.hint=f;g.enabled=!0;f=new Mf(f,g);var g=e,l=f;g.od[l.getId()]||(g.od[l.getId()]=l,g.dispatchEvent(new zg(l)));
g.fd[l.getId()]=l;F(e,f)}a.Oa("action_registry",b)}a=this.B;b=b.fd["docos-update-notification-settings"]||b.od["docos-update-notification-settings"]||null;if(!b)throw Error("Action not registered for id docos-update-notification-settings");c=Gf(b.j.g,of.toString(),this.Sk,a.pf);a.gd.push(b,c+1E6)}v(oq,I);k=oq.prototype;k.Ye=null;k.Sb=null;k.We=null;k.Ia=function(a){if(this.Sb)return this.Sb;this.Sb=new T;this.Ug(a);return this.Sb};function pq(a,b,c){b?a.Sb.R(null):a.Sb.K(p(c)?c:null);a.Sb=null}
k.Ug=function(a){for(var b=bi(this.g),c=ti(b),d=[],e=0;e<c.length;e++){d.push(Rc(c[e].g));var f=c[e].getId();wb(b.A,f)}b=new ud;Ic(b,1,d);this.We&&A(b,2,this.We);aq(this.j,"sync",b,r(this.Qk,this),r(this.Pk,this),a?a:void 0)};k.Pk=function(){this.A=!1;pq(this,!0)};k.Rk=function(){this.dispatchEvent("net-error")};
k.Qk=function(a){var b=this.A;this.A=!1;var c;if(b){c=t();var d=qq(this.C,"model-loaded");d&&d(new lq("model-loaded",[],[],!1,!1,new kq))}d=bi(this.g);try{rq(this,a,b),this.We=z(a,2),ui(d)?fj(r(this.Ug,this)):pq(this,!1,b?t()-c:void 0)}catch(e){throw fj(function(){throw e;}),e;}};
function rq(a,b,c){var d=bi(a.g),e=Rb(d.g);Ub(e,d.j);for(var f=!1,g=Gc(b,ed,1),l=0;l<g.length;l++){var f=!0,n=Rc(Gc(b,ed,1)[l]),u=fd(n),y=qi(d,u.getId(),z(u,11));if(y){delete e[y.getId()];var D=y.getId();if(ub(d.A,D))continue;D=y.getId();if(ub(d.D,D)){if(y.Ea()){sq(a,y);continue}D=y.getId();wb(d.D,D)}A(n,9,!1);A(u,12,!1);p(z(u,13))||A(u,13,0);for(var y=Rb(y.j),D=dd(fd(n)),U=0;U<D.length;U++){var Q=dd(u)[U];A(Q,12,!1);p(z(Q,13))||A(Q,13,0);delete y[Q.getId()||""];delete y[z(Q,11)||""]}var D=[],ha;
for(ha in y)D.push(tq(Rc(y[ha].g)));y=dd(u);Ic(u,8,zb(y,D))}oi(d,new fi(n),"n")}b=ti(d);for(l=0;l<b.length;l++)g=b[l],g.Ea()&&!p(g.o.g.getId())&&sq(a,g);if(c)for(ha in e)y=e[ha],ei(y)||!p(y.o.g.getId())&&!y.Ea()||(f=!0,a=Rc(y.g),fd(a),c=fd(a),Ic(c,8,[]),l=t(),A(c,13,l),A(c,12,!1),A(a,9,!1),oi(d,new fi(a),"n"));f&&vi(d)}function sq(a,b){a=bi(a.g);var c=Rc(b.g),d=fd(c);A(c,9,!1);A(d,12,!1);b=b.getId();wb(a.A,b);oi(a,new fi(c),"n")}function tq(a){var b=t();A(a,13,b);A(a,12,!1);return a}
k.Vk=function(){var a=12E4*Math.random();null===this.Ye||gj(this.Ye);this.Ye=fj(function(){this.Ia(ai(this.g).He?1:void 0)},a,this)};k.cl=function(a){if(a.Xa){var b=a.Xa;a=bi(this.g);for(var c=0,b=Gc(b,ed,1),d=0;d<b.length;d++){var e=Rc(b[d]),f=fd(e),f=qi(a,f.getId(),z(f,11));f&&f.hb()||(oi(a,new fi(e),"n"),c++)}0<c&&vi(bi(this.g))}};k.$i=function(a){"n"!=a.source&&pi(bi(this.g))&&this.Ia()};
k.Sk=function(a){a=a.data.we();var b=ai(this.g),c=new kd;c.ad(a.dc());var d=a.bc();A(c,3,d);d=a.gc();A(c,4,d);d=a.hc();A(c,5,d);A(c,6,a.Pd);C(b.g,7,c);b=new kd;b.ad(a.dc());c=a.bc();A(b,3,c);c=a.gc();A(b,4,c);c=a.hc();A(b,5,c);A(b,6,a.Pd);a=new nd;C(a,1,b);aq(this.j,"uc",a)};k.F=function(){oq.J.F.call(this);delete this.g;delete this.o;delete this.B};function uq(a,b,c){this.v=a;this.o=b;this.g=c;this.A=new W(this);F(this,this.A);this.j=null;this.B=!1}v(uq,E);function vq(a){var b=a.v;if(!b.j.netIo&&!b.A.netIo)return!1;a.j=new oq(a.v,a.g);F(a,a.j);a.A.listen(a.j,"net-error",a.Wk);return!0}k=uq.prototype;k.Wk=function(){wq(this.g,"fe")};function xq(a){a.B=!0;var b=a.j.Ia(a.o.D?1:void 0).V(a.wg,a).V(a.Yg,a);V(b,null,a.Ok,a)}k.Ia=function(){if(gf(this.o)){if(!this.B){if(!this.j&&!vq(this))return;xq(this)}this.j.Ia(this.o.He?1:void 0).V(this.Yg,this)}};
k.wg=function(a){var b=qq(this.g,"sync-success");b&&b(new lq("sync-success",[],[],!1,!1,new kq));(b=qq(this.g,"initial-anchored-render-done"))&&null!==a&&b(new mq("initial-anchored-render-done",a));wq(this.g,"s");wq(this.g,"r")};k.Yg=function(){var a=qq(this.g,"unread-comments");a&&a(new lq("unread-comments",[],[],!0,!0,new kq))};k.Ok=function(){var a=qq(this.g,"sync-error");a&&a(new lq("sync-error",[],[],!1,!1,new kq));wq(this.g,"e")};function yq(a,b,c){this.key=a;this.data=b;this.g=c;this.key=this.key;this.data=this.data;this.dirty=this.g}wa("docos.api.StorageUpdate",yq,void 0);function zq(a,b){if(a){b||a.unshift(void 0);Aq(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Bq(c[2],b),zq(c[3],b),b&&c.shift());b&&a.shift()}}function Bq(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Aq(a,b){if(a){b||a.unshift(void 0);Bq(a[3],b);Bq(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Aq(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Cq(a){E.call(this);this.g=a;this.j=ai(a).A;this.v=[];this.o=[];ai(a).C||(this.A=new W(this),F(this,this.A),this.A.listen(bi(a),["f","cd","dd"],this.aj))}v(Cq,E);k=Cq.prototype;
k.aj=function(a){if("o"!=a.source&&this.j)if("f"==a.type){if(this.v.length||this.o.length){var b=Ab(this.v),c=Ab(this.o);this.j.H(b,c,r(this.bj,this,b),r(this.Ck,this,c));this.v=[];this.o=[]}}else if(b=a.j,c=a.g,b)if((a="cd"==a.type?bi(this.g).g[b]:bi(this.g).j[b])&&a.Ea()&&!p(a.o.g.getId()))this.o.push(b);else if(a&&!ei(a)){var d=Hc(Rc(a.g)),d=Sb(d);zq(d,!1);a=new yq(b,d,a.hb());this.v.push(a);c&&c!=b&&this.o.push(c)}};k.bj=function(a){for(var b=0;b<a.length;b++);};
k.Ck=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Dq(this,d,c)};k.Vj=function(a,b){if(0<b.length){for(var c=bi(this.g),d=0;d<b.length;d++){Ba(b[d]);var e=Sb(b[d]);zq(e,!0);e=new ed(e);oi(c,new fi(e),"o")}vi(c)}a()};k.Uj=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Dq(this,d,c);a()};
function Dq(a,b,c){if(a=Vh(a.g,"errorReporter"))c&&p(c.message)?(c.message=b+"  Original message: "+c.message,a.Ob(c)):a.Ob(Error(b))}k.F=function(){Cq.J.F.call(this);delete this.g;delete this.A;delete this.j};function Eq(a){this.g=new $h;this.o=new ff(a||{});this.g.Oa("config",this.o);this.D=new ni(this.o);this.g.Oa("stream",this.D);this.B=new Cq(this.g);F(this,this.B);this.H=new uq(this.g,this.o,this);this.j=qh();this.v={};this.v.s=this.j.resolve.bind(this.j);this.v.e=this.j.reject.bind(this.j);this.A=new iq(this.g);F(this,this.A);this.C=new W(this);F(this,this.C)}v(Eq,E);function qq(a,b){return a.isDisposed()?null:a.o.o[b]||null}function wq(a,b){var c=a.v[b];c&&c();a.v[b]=null}
Eq.prototype.Ia=function(){return Fq(this).then(function(){var a=jq(this.A);this.g.Oa("netIo",a);a=this.H;gf(a.o)?a.o.j?wq(a.g,"r"):vq(a)&&xq(a):a.wg(null);return this.j.g}.bind(this))};function Fq(a){return new S(function(a,c){var b=this.B;b.j?b.j.v(r(b.Vj,b,a),r(b.Uj,b,c)):c()}.bind(a))}function Gq(a){var b=new Eq(a);return th(b.Ia(),function(){b.Z()})};function Hq(a,b){this.j=a;this.g=b}Hq.prototype.X=h("j");function Iq(a,b){b.push(a);for(var c=0;c<a.length;c++)if(Ba(a[c])){if(ub(b,a[c]))throw Error("Circular reference detected");Iq(a[c],b)}b.pop()}function Jq(a,b,c){if(a.length!=b.length)return!1;c=c||Fb;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(Ba(a[d])&&Ba(b[d])){if(!Jq(a[d],b[d],c))return!1}else return!1;return!0};function Kq(a,b){if(a==b)return!0;if(!Fa(a)||!Fa(b))return!1;var c=Lb(a);if(c.length!=Lb(b).length)return!1;for(var d=Lq||Fb,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function Lq(a,b){return a===b?!0:Ba(a)&&Ba(b)?Eb(a,b,Lq):Fa(a)&&Fa(b)?Kq(a,b):!1}function Mq(a,b){b.push(a);for(var c in a)if(Fa(a[c])){if(ub(b,a[c]))throw Error("Circular reference detected");Mq(a[c],b)}b.pop()};function Nq(a,b){this.A=a;this.S={};this.C={};this.H=b||!1;this.g=!this.H}Nq.prototype.N=!1;Nq.prototype.ib=function(){return this.H||!Qb(this.C)};function Oq(a){a.ib();a.N=!0}function Pq(a,b){a=Qq(a,b);return null==a?null:Sb(a)}function Rq(a,b){a=Sq(a,b);return null==a||0==a?null:a}function Sq(a,b){a=Qq(a,b);return null==a?null:a}function Tq(a,b){a=Qq(a,b);return null==a?null:a}function Uq(a,b){return null==Qq(a,b)?null:""!=a.S[b]}function Vq(a,b,c){Z(a,b,c?"true":"")}
function Wq(a,b){a=Qq(a,b);return null==a?null:Sb(a)}function Qq(a,b){a=a.S[b];return null!=a?a:null}function Z(a,b,c){if(Fa(c)&&!Ba(c))return Mq(c,[]),null!=a.S[b]&&Lq(a.S[b],c)||(c=Sb(c),a.S[b]=c,a.g||(a.C[b]=c)),a;if(Ba(c))return Iq(c,[]),Mq(c,[]),null!=a.S[b]&&Jq(a.S[b],c)||(c=Sb(c),a.S[b]=c,a.g||(a.C[b]=c)),a;a.S[b]!=c&&(a.S[b]=c,a.g||(a.C[b]=c));return a}function Xq(a,b,c,d){var e=a.S,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.g||(a=a.C,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}
Nq.prototype.Ic=function(){this.C={};this.H=!1};Nq.prototype.cc=ca(null);function Yq(a,b,c){Nq.call(this,"comment",c);Z(this,"di",a);Z(this,"i",b);Z(this,"s",1)}v(Yq,Nq);Yq.prototype.cc=function(){return new Hq(this.S.di,2)};Yq.prototype.getId=function(){return this.S.i};function Zq(a,b,c,d){E.call(this);this.A=a;this.G=b;this.o=c;this.j=d||null;this.g=null}v(Zq,E);Zq.prototype.v=function(a,b){this.g?this.B(a):(a=r(this.B,this,a),$q(this.A,this.o,r(this.C,this,a),ar(b)))};Zq.prototype.getAll=Zq.prototype.v;Zq.prototype.B=function(a){var b=[],c;for(c in this.g)b.push(Pq(this.g[c],"da"));a(b)};Zq.prototype.C=function(a,b){if(!this.g){this.g={};for(var c=0;c<b.length;c++)this.g[b[c].getId()]=b[c]}a()};
Zq.prototype.H=function(a,b,c,d){this.g?this.D(a,b,c,d):(a=r(this.D,this,a,b,c,d),$q(this.A,this.o,r(this.C,this,a),ar(d)))};Zq.prototype.writeAll=Zq.prototype.H;
Zq.prototype.D=function(a,b,c,d){c=Cd(c);d=ar(d);for(var e=[],f=0;f<a.length;f++){var g=a[f],l=this.g[g.key];l||(l=new Yq(this.o,g.key,!0),this.g[g.key]=l);Z(l,"da",g.data);Z(l,"s",g.dirty?2:1);e.push(l);this.j&&(br(this.j,g.dirty?t():null),e.push(this.j))}for(f=0;f<b.length;f++)if(a=b[f],g=this.g[a])Oq(g),e.push(g),delete this.g[a];this.G.write(e,c,d)};function ar(a){return function(b){a(sn(b),b.vb)}};function cr(a){this.g=a}cr.prototype.Ia=function(a,b,c,d,e,f){var g={},l=new Zq(b,c,a);g.storage=l;g.so=!0;g.kd=d;var n=new dq(this.g,!1,["id",a]);g.i=n;return th(Gq(g).then(e,f),function(){l.Z();n.Z()})};function dr(a){E.call(this);this.o=a||12E4;this.g=new Wg}v(dr,E);dr.prototype.send=function(a,b){var c=qh();Xg(this.g,c);var d=fj(function(){c.reject(Error("Request to transport timed out."))},this.o);er(this,c,a,b||[]);return th(c.g,function(){gj(d);Qg(this.g.g,Yg(c))}.bind(this))};dr.prototype.F=function(){for(var a=this.g.ga(),b=0;b<a.length;b++)a[b].reject("Sender was disposed");dr.J.F.call(this)};function fr(a,b){this.message=a;this.ports=b}fr.prototype.toString=function(){return"{message: "+this.message+", ports: "+this.ports+"}"};function gr(a){dr.call(this,a);this.j=new W(this);F(this,this.j)}v(gr,dr);function er(a,b,c,d){var e=new MessageChannel;yi(a.j,e.port1,"message",function(a){a=a.g;b.resolve(new fr(a.data,a.ports))}.bind(a));e.port1.start();a.postMessage(c,[e.port2].concat(d));th(b.g,function(){e.port1.close()})};function hr(a,b){gr.call(this,b);this.v=a}v(hr,gr);hr.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function ir(a){x(this,a,0,-1,null)}v(ir,w);function jr(a){x(this,a,0,-1,kr)}v(jr,w);var kr=[2,3,4];function lr(a){x(this,a,0,-1,null)}v(lr,w);lr.prototype.getId=function(){return z(this,1)};function mr(a){x(this,a,0,-1,null)}v(mr,w);mr.prototype.L=function(){return z(this,1)};function nr(a){x(this,a,0,-1,null)}v(nr,w);nr.prototype.L=function(){return z(this,1)};function or(a){x(this,a,0,-1,null)}v(or,w);function pr(a){x(this,a,0,-1,null)}v(pr,w);pr.prototype.X=function(){return z(this,1)};pr.prototype.gb=function(){return z(this,4)};function qr(a){x(this,a,0,-1,rr)}v(qr,w);var rr=[1];qr.prototype.gb=function(){return z(this,2)};function sr(a){x(this,a,0,-1,null)}v(sr,w);function tr(a){x(this,a,0,-1,null)}v(tr,w);tr.prototype.getId=function(){return z(this,1)};function ur(a){x(this,a,0,-1,null)}v(ur,w);ur.prototype.L=function(){return z(this,1)};function vr(a){x(this,a,0,-1,null)}v(vr,w);function wr(a){x(this,a,0,-1,null)}v(wr,w);wr.prototype.L=function(){return z(this,2)};function xr(a){x(this,a,0,-1,null)}v(xr,w);function yr(a){x(this,a,0,-1,zr)}v(yr,w);var zr=[1];yr.prototype.ve=function(){return Gc(this,lr,1)};function Ar(a){x(this,a,0,-1,Br)}v(Ar,w);var Br=[1];
function Cr(a){x(this,a,0,-1,Dr)}v(Cr,w);var Dr=[1,2];Cr.prototype.ve=function(){return Gc(this,lr,1)};function Er(a){this.g=a}function Fr(a){var b=new ur;A(b,1,5);return a.g.send(b).then(function(a){return B(a.message,yr,4)})}function Gr(a,b){var c=new Ar;A(c,1,b||[]);b=new ur;A(b,1,7);C(b,4,c);return a.g.send(b).then(function(a){return B(a.message,Cr,5)})};function Hr(a){this.g=a}function Ir(a){var b=new ur;A(b,1,2);return a.g.send(b).then(function(a){return B(a.message,xr,3)})};function Jr(a){x(this,a,0,-1,null)}v(Jr,w);Jr.prototype.L=function(){return z(this,1)};function Kr(a){x(this,a,0,1,null)}v(Kr,w);var Lr={};function Mr(a){x(this,a,0,-1,null)}v(Mr,w);var Nr=new Bc(100413133,{nu:0},Mr,function(a,b){var c={nd:z(b,1)};a&&(c.lb=b);return c});Lr[100413133]=Nr;function Or(a){x(this,a,0,-1,null)}v(Or,w);var Pr=new Bc(101605819,{qu:0},Or,function(a,b){var c={nd:z(b,1)};a&&(c.lb=b);return c});Lr[101605819]=Pr;function Qr(a){x(this,a,0,-1,null)}v(Qr,w);
var Rr=new Bc(100922934,{iu:0},Qr,function(a,b){var c={nd:z(b,1)};a&&(c.lb=b);return c});Lr[100922934]=Rr;function Sr(a){x(this,a,0,-1,null)}v(Sr,w);Lr[108529910]=new Bc(108529910,{uu:0},Sr,function(a,b){var c={};a&&(c.lb=b);return c});function Tr(a){x(this,a,0,-1,null)}v(Tr,w);Lr[102041228]=new Bc(102041228,{tu:0},Tr,function(a,b){var c={};a&&(c.lb=b);return c});function Ur(a){x(this,a,0,-1,null)}v(Ur,w);Lr[140441684]=new Bc(140441684,{vu:0},Ur,function(a,b){var c={};a&&(c.lb=b);return c});
function Vr(a){x(this,a,0,-1,null)}v(Vr,w);Lr[122453513]=new Bc(122453513,{xu:0},Vr,function(a,b){var c={yu:z(b,1),ku:z(b,2)};a&&(c.lb=b);return c});function Wr(a){x(this,a,0,-1,Xr)}v(Wr,w);var Xr=[1],$r=new Bc(113007630,{gu:0},Wr,function(a,b){var c={fu:Ec(Gc(b,Yr,1),Zr,a)};a&&(c.lb=b);return c});Lr[113007630]=$r;function Yr(a){x(this,a,0,1,null)}v(Yr,w);
function Zr(a,b){var c={},d=as,e=Yr.prototype.Ke,f;for(f in d){var g=d[f],l=e.call(b,g);if(l){for(var n in g.Wf)if(g.Wf.hasOwnProperty(n))break;c[n]=g.Ze?g.Fk?Ec(l,g.Ze,a):g.Ze(a,l):l}}a&&(c.lb=b);return c}var as={};function bs(a){x(this,a,0,-1,cs)}v(bs,w);var cs=[3],ds=new Bc(112987886,{ju:0},bs,function(a,b){var c={hu:z(b,1),vf:z(b,2),su:z(b,3)};a&&(c.lb=b);return c});as[112987886]=ds;bs.prototype.X=function(){return z(this,1)};function es(a,b,c,d){H.call(this,"broadcast-message",a);this.channel=b;this.g=c;this.data=d}v(es,H);function fs(a,b){I.call(this);this.j=!1;this.g=null;this.B=new W(this);F(this,this.B);this.C=a;this.o=b;this.A=new Qn;F(this,this.A)}v(fs,I);fs.prototype.connect=function(){this.j||(this.j=!0,this.g=this.C.g,this.B.listen(this.g,"message",this.D.bind(this)),this.g.start())};function gs(a,b){if(!a.j)throw Error("Trying to publish without connecting first.");var c=new Jr;A(c,1,1);C(c,2,b);A(c,3,a.o);a.g.postMessage(Hc(c))}
fs.prototype.D=function(a){this.A.ub(r(function(){var b=a.g,c;null!=b.data[1]?(b=new Jr(b.data),b.L(),c=z(b,3),b=B(b,Kr,2)):(c=this.o,b=new Kr(b.data));var d;a:{var e=b;for(d in Lr){var f=Lr[Number(d)];if(e.Ke(f)){d=f;break a}}d=null}d&&(b=b.Ke(d),this.dispatchEvent(new es(this,c,d,b)))},this),0)};fs.prototype.F=function(){if(this.g){var a=new Jr;A(a,1,0);this.g.postMessage(Hc(a));this.g.close()}fs.J.F.call(this)};function hs(a){this.g=a};function is(){return"user_"+Vf(J(),"docs-offline-lsuid")};function js(a){this.g=a}function ks(a){new MessageChannel;var b=new ur;A(b,1,1);return a.g.send(b).then(function(a){a=new fs(new hs(a.ports[0]),is());a.connect();return a})};function ls(a){this.g=a};function ms(){}ms.prototype.ka=function(a){return a?[a.g]:null};function ns(a){return a?new ls(a[0]):null};function os(a,b,c,d,e,f){this.g=a;this.v=c;this.A=d;this.o=e;this.j=f||0}os.prototype.Aa=h("A");function ps(){this.g=[]}ps.prototype.j=!1;function qs(a,b){for(var c=0;c<a.g.length;++c){var d=b,e=a.g[c];a.j&&(d.g=[],d.j=!0);d.g.push(e);a.j=!1}a.g=[]}function rs(a){var b=a.g;a.g=[];a.j=!1;return b}ps.prototype.ca=function(){return 0==this.g.length};function ss(a,b,c){Nq.call(this,"document",c);this.j=new ps;this.o=new ms;Z(this,"id",a);Z(this,"documentType",b)}v(ss,Nq);var ts=[0,1,4,2,3];k=ss.prototype;k.getId=function(){return this.S.id};k.$a=function(){return Tq(this,"title")};k.L=function(){return this.S.documentType};function us(a,b,c){Z(a,"rev",b);Z(a,"rai",a.o.ka(c))}k.zc=function(a){Vq(this,"lss",a)};k.yc=function(a){Z(this,"lsft",a)};function vs(a,b){Z(a,"lastModifiedServerTimestamp",b)}function ws(a,b){Z(a,"docosKeyData",b)}
function br(a,b){Z(a,"lastModifiedClientTimestamp",b)}k.cc=function(){var a=this.j.ca();if(a&&!this.N)return ss.J.cc.call(this);a=a?1:2;return new Hq(this.getId(),a)};function xs(a,b){Z(a,"modelVersion",b)}function ys(a,b){Z(a,"featureVersion",b)}function zs(a,b){Z(a,"relevancyRank",b)}function As(a,b){Z(a,"lastServerSnapshotTimestamp",b)}function Bs(a,b){Z(a,"snapshotState",b)}function Cs(a,b){Z(a,"pendingQueueState",b)}function Ds(a){return Sq(a,"pendingQueueState")}
k.ib=function(){return ss.J.ib.call(this)||!this.j.ca()};function Es(a,b){H.call(this,"L",b);this.g=a}v(Es,H);function Fs(a,b,c){this.g=a;this.vf=b;this.j=c}var Gs={Mh:"new",Ei:"update",lh:"delete"};function Hs(a,b){E.call(this);this.j=b;this.g=new W(this);F(this,this.g);this.g.listen(a,"L",this.o)}v(Hs,E);
Hs.prototype.o=function(a){var b=[];a=a.g;for(var c=0;c<a.length;c++){var d=a[c];switch(d.g.A){case "document":var e=b,f=d,d=new bs,g=f.g.getId();A(d,1,g);a:switch(g=f.vf,g){case "new":g=1;break a;case "update":g=2;break a;case "delete":g=3;break a;default:throw Error("Could not handle change type "+g);}A(d,2,g);g=[];f=f.j;Mb(f,"ip")&&g.push(1);Mb(f,"lastModifiedClientTimestamp")&&g.push(2);(Mb(f,"lsst")||Mb(f,"lsft")||Mb(f,"lss"))&&g.push(3);Mb(f,"pendingCreation")&&g.push(4);Mb(f,"title")&&g.push(5);
A(d,3,g||[]);if(2!=z(d,2)||z(d,3).length)f=new Yr,f.Jd(ds,d),e.push(f)}}b.length&&(a=new Wr,Ic(a,1,b),b=new Kr,b.Jd($r,a),gs(this.j,b))};function Is(a){this.rg=a};function Js(a){this.g=a}Js.prototype.L=h("g");function Ks(a){this.g="offline-oc";this.j=a}v(Ks,Js);Ks.prototype.La=h("j");function Ls(){}Ls.prototype.ka=function(a){if("offline-oc"!=a.L())throw Error("Invalid Type");return a.La()};function Ms(a){this.o=a}Ms.prototype.L=h("o");function Ns(a){a=a.L();return"update-record"==a||"delete-record"==a};function Os(a,b,c){this.o=a;this.A=b;this.B=c}v(Os,Ms);Os.prototype.X=h("A");function Ps(a,b,c,d){Os.call(this,"append-commands",a,b);this.g=c;this.v=d}v(Ps,Os);Ma(aa().prototype,aa().prototype);function Qs(a){for(var b=[],c=0;c<a.length;c++)b.push(new Ks(a[c]));return b};function Rs(a){this.g=a||{cookie:""}}var Ss=/\s*;\s*/;k=Rs.prototype;k.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');p(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(t()+1E3*c)).toUTCString();this.g.cookie=a+"="+b+e+d+c+f};
k.get=function(a,b){for(var c=a+"=",d=(this.g.cookie||"").split(Ss),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};k.va=function(){return Ts(this).keys};k.ga=function(){return Ts(this).values};k.ca=function(){return!this.g.cookie};k.aa=function(){return this.g.cookie?(this.g.cookie||"").split(Ss).length:0};k.yb=function(a){for(var b=Ts(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
function Ts(a){a=(a.g.cookie||"").split(Ss);for(var b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var Us=new Rs("undefined"==typeof document?null:document);Us.j=3950;function Vs(a){this.g={};this.o=a||Us;this.setTime=this.j;this.incrementTime=this.v;this.setServerValues=this.A}za(Vs);Vs.prototype.j=function(a){Ws(this,a,t())};Vs.prototype.getTime=function(a){a=this.g[a];return null!=a?a:null};Vs.prototype.v=function(a,b){null!=this.g[a]||(this.g[a]=0);this.g[a]+=b};function Ws(a,b,c){if(null!=a.g[b])throw Error("Field "+b+" is already set.");a.g[b]=c}function Xs(a,b){for(var c in b)Ws(a,c,b[c])}
Vs.prototype.A=function(a){Tf(J(),"icso")||(a&&Xs(this,a),a=this.o.get("GFE_RTT"),isFinite(a)&&(a=String(a)),a=q(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN,isNaN(a)||Ws(this,"gfertt",a),a=this.o,a.get("GFE_RTT"),a.set("GFE_RTT","",0,"/",".docs.google.com"),Ws(this,"sldummy",0))};m._getTimingInstance=Vs.ua;m._docsTiming=Vs;function Ys(a){this.cb=a;this.g=Vs.ua()}v(Ys,E);Ys.prototype.Ad=function(a,b){var c=t();a=Qs(a);b&&(b=t()-c,this.g.v("md",b));return a};function Zs(){E.call(this);Vs.ua()}v(Zs,E);function $s(a,b){E.call(this);this.Sa=a;this.cb=b;this.Ri=new Ys(this.cb);this.Eg=new Zs}v($s,E);$s.prototype.Ta=h("Sa");$s.prototype.Ad=function(a,b){return this.Ri.Ad(a,b)};$s.prototype.ce=function(a){if(a.N)return[];var b=new ps;qs(a.j,b);if(b.ca())return[];var c=b.j;return[new Ps(a.getId(),a.L(),rs(b),c)]};function at(a){E.call(this);this.g=a}v(at,E);at.prototype.Aa=function(){return this.g.c||null};at.prototype.X=function(){return this.g.dcKey[0]};function bt(a,b,c,d,e,f){var g={};g.dcKey=[a,b,c,d];g.t=e;f&&(g.c=f);return new at(g)}at.prototype.F=function(){delete this.g;at.J.F.call(this)};function ct(a,b,c){E.call(this);this.Eg=c}v(ct,E);function dt(a,b,c,d){$s.call(this,a,d);this.Ik=b;this.fj=c;new ct(0,0,this.Eg)}v(dt,$s);dt.prototype.xa=function(a,b){switch(a.L()){case "append-commands":if(a.v){var c=r(this.g,this,a,b);b=X(b,"DocumentCommands");a=a.X();zn(b,[a],[a,[]],c)}else this.g(a,b);break;default:throw Error("Unsupported operation type "+a.L());}};
dt.prototype.g=function(a,b){b=X(b,"DocumentCommands");for(var c=a.g,d=0;d<c.length;++d){for(var e=b,f=a.X(),g=c[d],l=g.Aa(),n=[],u=0;u<l.length;++u)n.push(this.cb.ka(l[u]));f=bt(f,g.o,g.g,g.j,g.v,n);et(e,f.g)}};function ft(a,b){this.o="document-lock";this.g=a;this.v=b}v(ft,Ms);ft.prototype.X=h("g");function gt(a){I.call(this);this.g=a;a.H=this;this.j=!1}v(gt,I);gt.prototype.jc=function(){return this.g.jc()};gt.prototype.Lb=function(){return this.g.Lb()};gt.prototype.write=function(a,b,c){if(!this.j)throw Error("Cannot write to read-only local store.");var d=ht(a);a=it(this,a);0==a.length?b():jt(this.g,a,r(function(){this.dispatchEvent(d);b()},this),c)};function ht(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Gs;b.push(new Fs(d,d.H?e.Mh:d.N?e.lh:e.Ei,d.C))}return new Es(b)}
function it(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.ib()||f.N){var g=a.g.C[f.A]||null;if(g){g=g.j(f);c=c.concat(g);if((g=f.cc())&&d){if(d.X()!=g.X())throw Error("Cannot compare two requirements with different doc id.");d=d.g>g.g?d:g}else d=d||g;f.Ic();f.ib()}else throw Error("No Capability for record :"+f.A);}}d&&c.unshift(new ft(d.X(),d.g));return c};Vf(J(),"docs-csi-reporting-uri-override");function kt(){var a;try{a=m.localStorage.getItem("docs-oiouid")}catch(b){a=null}return Vf(J(),"docs-offline-lsuid")==a};function lt(a){this.o=a;this.g={};this.j=!1}function mt(a,b){delete a.g[b.getId()]};function nt(){}nt.prototype.init=ya;nt.prototype.g=ya;nt.prototype.log=ya;function ot(a){this.v=a||t;this.g={};this.o=new nt;this.j={};this.saveInitialLoadStats=this.B;this.getInitialLoadStats=this.A}za(ot);ot.prototype.B=function(a,b){b=this.j=b;var c=[],d;for(d in b)c.push([d,b[d]]);this.o.g(a,c)};ot.prototype.A=function(){return vc(this.j)};function pt(a,b,c){var d="goog_"+mb++;a.g[d]={startTime:a.v(),mj:b,Jl:!!c,Hf:null};return d}function qt(a,b){var c=a.g[b];c&&(a.o.log(c.mj,a.v()-c.startTime,c.Jl,null!=c.Hf?c.Hf:void 0),delete a.g[b])}
function rt(a,b){a.g[b]&&delete a.g[b]};function st(a,b,c,d){E.call(this);this.H=a;this.B=b;this.o=c;this.A=d||t;this.v=this.j=0;this.g=[]}v(st,E);st.prototype.start=function(){if(this.v)throw Error("Idle delay has already been started");this.v=this.A()+this.B;this.j=fj(this.C,this.B,this)};st.prototype.C=function(){this.j=0;var a=this.A()-this.v;this.g.push(a);var b=this.o.hidden||this.o.webkitHidden||this.o.mozHidden||this.o.msHidden?1020:20;10>this.g.length&&a>b?(this.v=this.A()+1E3,this.j=fj(this.C,1E3,this)):this.H(this)};
st.prototype.F=function(){this.j&&gj(this.j)};function yn(a,b,c,d,e,f,g,l,n){this.D=a;this.o=b;this.W=c;this.I=d;this.P=e;a=e.v++;e.g[a]=c;this.O=a;this.A=this.N=null;this.C=f||null;this.B=ot.ua();this.j=n?pt(this.B,n):null;this.G=l||0;this.g=null;0<this.G&&(this.C||g)&&(this.g=new st(r(this.T,this),this.G,document),this.g.start());this.D.onsuccess=co(this.o,this.Y,this,!0);this.D.onerror=co(this.o,this.U,this,!0)}function Bn(a,b){if(a.N)throw Error("Success callback already set");a.N=b}
yn.prototype.Y=function(a){G(this.g);this.j&&qt(this.B,this.j);var b=this.P,c=this.O;b.o++;delete b.g[c];this.I.g||this.N&&this.N(a)};function tt(a,b){if(a.A)throw Error("Error callback already set");a.A=b}yn.prototype.U=function(a){G(this.g);this.j&&rt(this.B,this.j);var b=this.P,c=this.O;b.j++;delete b.g[c];a.target.docs_requestContext=this.W;this.I.g||(b=a.target.error)&&"AbortError"==b.name||this.A&&this.A(a)};yn.prototype.M=function(a){a.onsuccess=ya;a.onerror=ya};
yn.prototype.T=function(){this.j&&rt(this.B,this.j);bo(this.o,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.W,requestTimeoutMs:this.G,timeoutCallbackSet:!!this.C,timeoutDelays:this.g.g.concat().toString()});G(this.g);!this.I.g&&this.C&&(this.M(this.D),this.C())};function ut(){this.g={};this.v=this.o=this.j=0};function vt(){this.j=this.o=this.g=!1};function wt(a){try{m.localStorage.setItem("docs-ucb","1")}catch(b){bo(a,Error("Error setting unsaved changes bit in Local Storage: "+b.message))}}function xt(a){try{var b=m.localStorage.getItem("docs-ucb")}catch(c){return bo(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function yt(a,b,c,d,e,f){yn.call(this,a,b,c,new vt,new ut,d,!0,e,f);this.H=this.v=null;a.onblocked=co(b,this.$,this,!0);a.onupgradeneeded=co(b,this.ea,this,!0)}v(yt,yn);yt.prototype.$=function(a){G(this.g);this.v&&this.v(a)};yt.prototype.ea=function(a){G(this.g);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=kt();b.requestContext=this.W;b.unsavedChanges=xt(this.o);bo(this.o,Error("upgradeNeeded after dataLoss"),b)}this.H&&this.H(a)};
yt.prototype.M=function(a){yt.J.M.call(this,a);a.onblocked=ya;a.onupgradeneeded=ya};function zt(a,b){if(a.v)throw Error("Blocked callback already set");a.v=b}function At(a,b){if(a.H)throw Error("Upgrade needed callback already set");a.H=b};function Bt(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Bt.prototype.get=function(a){return new yn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function Ct(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Ct.prototype.get=function(a){return new yn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function et(a,b){b=p(void 0)?a.g.put(b,void 0):a.g.put(b);return new yn(b,a.j,a.g.name+".put(undefined)",a.v,a.o)}function Dt(a,b){b=p(void 0)?a.g.add(b,void 0):a.g.add(b);new yn(b,a.j,a.g.name+".add(undefined)",a.v,a.o)}function An(a,b){return new yn(a.g["delete"](b),a.j,a.g.name+".delete("+b+")",a.v,a.o)}
Ct.prototype.count=function(a){var b=p(a)?this.g.count(a):this.g.count();return new yn(b,this.j,this.g.name+".count("+a+")",this.v,this.o)};function xn(a,b){return new Bt(a.g.index(b),a.v,a.o,a.j)};function Et(a,b,c,d,e,f,g,l,n,u){this.Y=a;this.U=b;this.G=c;this.v=d;this.M=e;this.W=!1;this.o=!!g;this.N=this.C=null;this.j=new vt;this.P=new ut;this.T=l||6E4;this.A=new st(r(this.ij,this),this.T,document);this.D=n||null;this.H=ot.ua();this.g=null;this.O=Ft++;this.B=f;this.I=p(u)?u:this.o?"idbrwt":"idbrot"}var Ft=0;k=Et.prototype;
k.open=function(){null!=this.I&&(this.g=pt(this.H,this.I,!0));var a=this.o?"readwrite":"readonly";this.A.start();a=this.Y.transaction(this.U,a);a.onabort=co(this.v,this.Lk,this);a.oncomplete=co(this.v,this.Nk,this);a.onerror=co(this.v,this.jj,this,!0);this.N=a;a=this.B;if(this.o||!a.j)a.g[this.getId()]=this};function Dn(a){a.j.j=!0;a.A.Z();a.g&&(rt(a.H,a.g),a.g=null);mt(a.B,a)}k.abort=function(a){Gt(this,!1,a)};
function Gt(a,b,c){var d=a.j;if(!d.o&&!d.g){Ht(a);d.g=!0;try{a.N.abort(),c&&!a.W&&(a.M(c),a.W=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=It(a),c.abortFromTimeout=b,bo(a.v,e,c))}a.A.Z();mt(a.B,a)}}function X(a,b){Ht(a);return new Ct(a.N.objectStore(b),a.j,a.P,a.v)}function Jt(a,b){if(a.C)throw Error("Completion callback already set");a.C=b}k.ba=h("j");function Ht(a){if(!a.N)throw Error("Transaction does not exist");}
k.Lk=function(a){this.j.j||(this.j.o=!0,this.g&&(rt(this.H,this.g),this.g=null),mt(this.B,this),this.A.Z(),this.j.g||(a.target.docs_internalAbort=!0,!this.o&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.C&&this.C():Kt(this,"LocalStore IndexedDB transaction abort",It(this),a)))};k.Nk=function(){this.j.j||(mt(this.B,this),this.g&&(qt(this.H,this.g),this.g=null),this.A.Z(),this.C&&this.C())};
k.jj=function(a){a.stopPropagation();var b=this.j;if(!(b.j||b.o||b.g||(b=a.target.error,b&&"AbortError"==b.name))&&(b=It(this),b.request=a.target.docs_requestContext,Kt(this,"LocalStore IndexedDB error",b,a),a=this.B,Tf(Sf.ua(),"docs-ewtaoe")&&this.o)){delete a.g[this.getId()];var b=0,c;for(c in a.g){var d=Number(c),e=a.g[d];e.o&&(e.abort(),delete a.g[d],b++)}a.j=!0;bo(a.o,Error("Handled fatal error of transaction: "+this.getId()+" and aborted "+b+" transactions "))}};
function Kt(a,b,c,d){b=b+" ("+a.G+"): "+En(d);bo(a.v,Error(b),c);c=new rn(1,b,d);a.W||(a.M(c),a.W=!0)}k.ij=function(){if(!this.j.j){var a=It(this);a.transactionTimeout=this.T;a.timeoutDelays=this.A.g.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;bo(this.v,Error("A transaction was running for a long time ("+this.G+")"),a);this.A.Z();this.D&&(Gt(this,!0),this.D(),this.N.oncomplete=null)}};k.getId=h("O");
function It(a){var b={transactionAllowWrite:a.o,transactionContext:a.G,transactionId:a.O,transactionObjectStores:a.U.toString()};a=a.P;var c=Kb(a.g);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.j;b.requestSuccessCount=a.o;return b};function Lt(a,b){H.call(this,"M",b)}v(Lt,H);function Mt(a,b){I.call(this);this.j=a;this.A=b;this.g=null;this.o=!1;this.B=new lt(b)}v(Mt,I);var Nt=m.indexedDB||m.webkitIndexedDB;Mt.prototype.C=function(){this.o=!0;this.close();this.dispatchEvent(new Lt)};Mt.prototype.close=function(){this.g&&(this.g.onversionchange=null,this.g.close(),this.g=null)};
function Ot(a,b){if(a.g)throw Error("IdbDocsDatabase already managing a database.");if(null!=b.onversionchange)throw Error("This database is being managed by another class.");b.onclose=r(function(){var a={};a.optinBackup=kt();bo(this.A,Error("The database connection was closed."),a);this.dispatchEvent("J")},a);b.onerror=Fn("Database error.",a.j);b.onversionchange=r(a.C,a);a.g=b}function Pt(a){if(!a.g)return-1;a=parseInt(a.g.version,10);return 0<=a?a:-1}
function Qt(a,b,c,d,e,f,g,l){if(!a.g)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");if(e&&a.B.j)throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");a=new Et(a.g,b,c,a.A,d||a.j,a.B,e,f,g,l);a.open();return a}
function Rt(a,b,c,d,e){if(Pt(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+Pt(a)+")");var f=a.g.name;a.close();var g=a.A;b=new yt(Nt.open(f,b),g,"setVersion database.open");At(b,function(a){a=a.target.transaction;a.onabort=a.onerror=co(g,d,{},!0);c(a)});tt(b,d);zt(b,function(a){bo(g,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});Bn(b,r(function(a){Ot(this,a.target.result);e(a)},a))}
Mt.prototype.F=function(){this.close();Mt.J.F.call(this)};var St=m.indexedDB||m.webkitIndexedDB;function Tt(a,b,c,d,e,f){e=e?function(){d(new rn(6,"Timeout opening database."))}:void 0;var g=Vs.ua();f&&(g.j("odbs"),fj(r(g.j,g,"odbjy")));e=new yt(St.open("GoogleDocs"),c,"database.open",e,Uf(J(),"docs-localstore-iort"),"idbodb");Bn(e,function(d){f&&g.j("odbc");var e=new Mt(b,c);Ot(e,d.target.result);a(e)});tt(e,Fn("Error opening database.",d))};function Ut(a,b){Nq.call(this,"applicationMetadata",b);Z(this,"dt",a);this.o=[]}v(Ut,Nq);Ut.prototype.j=!1;Ut.prototype.Ta=function(){return this.S.dt};Ut.prototype.Ic=function(){Ut.J.Ic.call(this);this.j=!1};Ut.prototype.ib=function(){return this.j||Ut.J.ib.call(this)};function Vt(a,b,c,d,e){Nq.call(this,"fontMetadata",e);this.j=a;this.o=b;a=Z(Z(this,"fontFamily","LATIN"==b?a:a+"|"+b),"version",c);b=[];for(c=0;c<d.length;c++){e=d[c];for(var f=e.g,g=[],l=0;l<f.length;l++){var n=f[l],u={};u.format=n.j;u.isSystemFont=n.g;u.url=n.o;g.push(u)}f=Wt;l={};l[f.ed]=e.j;l[f.Ec]=e.A;l[f.Rd]=e.o;l[f.oi]=g;l[f.Ud]=e.v;l[f.Vd]=e.B;b.push(l)}Z(a,"fontFaces",b)}v(Vt,Nq);
function Xt(a){a=a.S.fontFaces;for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,g=0;g<f.length;g++){var l=f[g];e.push(new Yt(l.format,l.isSystemFont,l.url))}f=Wt;b.push(new Zt(d[f.ed],p(d[f.Ec])?d[f.Ec]:"LATIN",d[f.Rd],d[f.Ud],d[f.Vd],e))}return b}function Zt(a,b,c,d,e,f){this.j=a;this.A=b;this.o=c;this.v=d;this.B=e;this.g=f}var Wt={ed:"fontFamily",Ec:"subset",Rd:"isMenuFont",oi:"source",Ud:"style",Vd:"weight"};Zt.prototype.getStyle=h("v");
function Yt(a,b,c){this.j=a;this.g=b;this.o=c}Yt.prototype.getUrl=h("o");function $t(a,b,c){Nq.call(this,a,c);Z(this,"dataType",b)}v($t,Nq);function au(a,b,c){Nq.call(this,"syncObject",a);Z(this,"keyPath",b);Z(this,"state",c)}v(au,Nq);function bu(a){a=Pq(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function cu(a,b){Nq.call(this,"user",b);Z(this,"id",a);Vq(this,"fastTrack",!0)}v(cu,Nq);cu.prototype.getId=function(){return this.S.id};function du(a,b,c){this.o=a;this.B=b;this.A=c}v(du,Ms);function eu(a){if(null===a.B)throw Error("Cannot getKey of operation for singleton record.");return a.B};function fu(a,b,c){du.call(this,"delete-record",a,b);this.g=!!c}v(fu,du);function gu(a,b,c,d){du.call(this,d||"update-record",a,b.A);this.j=b.H;this.g={};a=b.C;c=c||[];for(var e in a)this.g[e]=ub(c,e)?Qq(b,e):b.S[e]}v(gu,du);function hu(){I.call(this)}v(hu,I);hu.prototype.j=function(a){if(!(0<=nb(this.wa(),a.A)))throw Error("Cannot create operations for an unsupported record type "+a.A);return this.Ya(a)};hu.prototype.Ya=function(a,b){var c=this.Ba(a),d=[];a.N?d.push(new fu(c,a.A,!1)):d.push(new gu(c,a,b));return d};hu.prototype.Ba=function(a){throw Error("Key cannot be obtained for record of type "+a.A);};hu.prototype.ta=function(a){return Ns(a)?0<=nb(this.wa(),a.A):!1};function iu(){I.call(this)}v(iu,hu);iu.prototype.wa=function(){return["comment"]};iu.prototype.Ba=function(a){return[a.S.di,a.getId()]};function ju(a,b,c){I.call(this);this.g=a;this.A=c}v(ju,iu);function $q(a,b,c,d){d=Qt(a.g,["Comments"],"Error reading comments.",d);var e;e=[b];b=[b,[]];Cn(d,"Comments",r(a.o,a),c,e,b,void 0,void 0,void 0,!0)}ju.prototype.o=function(a){var b=new Yq(a.cmtKey[0],a.cmtKey[1],!1);Z(b,"s",a.stateIndex[0]);Z(b,"da",a.da);b.g=!1;return b};function ku(a,b,c,d){lu(a.g,"missingdocosdocumentids",b,c,d)}ju.prototype.Ca=function(){return["Comments"]};
ju.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"Comments");eu(a);if(a.j){var c=a.g,d={};d.cmtKey=eu(a);d.stateIndex=[c.s,c.di];d.da=c.da;et(b,d)}else{d=a.g;a=eu(a);var e={};"s"in d&&(e.stateIndex=[d.s,a[0]],delete d.s);for(c in d)e[c]=d[c];mu(this.A,a,e,b)}break;case "delete-record":b=X(b,"Comments");a=eu(a);An(b,a);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function nu(a){I.call(this);this.oa=a}v(nu,hu);k=nu.prototype;k.wa=function(){return["document"]};k.Bb=function(a){var b=this.oa[a];if(!b)throw Error("No adapter found for this type: "+a);return b};k.createDocument=function(a,b){return new ss(a,b,!0)};k.ta=function(a){var b=a.L();return"append-commands"==b||"write-trix"==b?!0:nu.J.ta.call(this,a)};
k.Ya=function(a){var b=nu.J.Ya.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai".split(" "));a=this.Bb(a.L()).ce(a);return b.concat(a)};k.Ba=function(a){return a.getId()};function ou(){I.call(this)}v(ou,hu);ou.prototype.wa=function(){return[]};function pu(a){I.call(this);this.g=a}v(pu,ou);function qu(a,b,c,d){lu(a.g,"nonsnapshottedocumentids",b,c,d)};var ru={Gh:"l",fi:"s",Zh:"r"};function su(a,b,c,d){nu.call(this,d);this.g=a;this.o=c}v(su,nu);var tu="lastModifiedClientTimestamp lastWarmStartedTimestamp relevancyRank rev rai odocid".split(" ");function uu(a,b,c,d,e,f){if(a.g.o)fj(La(e,[]));else{var g=Qt(a.g,["Documents"],"Error reading documents.",f);f=function(a){Dn(g);e(a)};d?vu(a,b,c,f,g,!0):vu(a,b,c,f,g,!1)}}k=su.prototype;
k.ml=function(a,b){this.g.o?fj(La(a,[])):(b=Qt(this.g,["Documents","PendingQueueCommands"],"Error reading documents with pending changes.",b),Cn(b,"PendingQueueCommands",function(a){var b=a.c;return b&&0!=b.length?a.pqcKey[0]:null},r(this.yd,this,b,a)))};function wu(a,b,c,d){uu(a,b,null,!0,c,d)}function xu(a,b,c){uu(a,null,null,!1,b,c)}function yu(a,b,c,d){uu(a,null,b,!1,function(a){1==a.length?c(a[0]):c(null)},d)}
k.yd=function(a,b,c){if(0>=c.length)b([]);else{Db(c);for(var d=[],e=0;e<c.length;e++){var f=c[e];Cn(a,"Documents",r(this.ae,this,null,!1),function(a){0<a.length&&d.push(a[0])},f)}Jt(a,function(){b(d)})}};function vu(a,b,c,d,e,f){c?Bn(X(e,"Documents").get(c),r(function(a){(a=a.target.result)?d([this.ae(b,f,a)]):d([])},a)):Cn(e,"Documents",r(a.ae,a,b,f),d,void 0)}
k.ae=function(a,b,c){if(b&&c.hpmdo)return null;a=zu(a,c);if(!a||"trix"==a.L()||"syncstats"==a.L())return null;if(!this.oa[a.L()])throw Error("No document adapter found for type: "+a.L());a.g=!1;return a};
function zu(a,b){if(null!=a&&b.acl&&!p(b.acl[a]))return null;a=new ss(b.id,b.documentType,!1);Z(a,"title",b.title);Z(a,"lastSyncedTimestamp",b.lastSyncedTimestamp);Z(a,"jobset",b.jobset);Vq(a,"isFastTrack",!!b.isFastTrack);vs(a,b.lastModifiedServerTimestamp);Z(a,"lastColdStartedTimestamp",b.lastColdStartedTimestamp);Z(a,"lastWarmStartedTimestamp",b.lastWarmStartedTimestamp);var c=b.acl,d;for(d in c)Xq(a,"acl",d,c[d]);ws(a,b.docosKeyData||null);Vq(a,"inc",!!b.inc);d=b.lastModifiedClientTimestamp;null!=
d&&br(a,d);if(d=b.startupHints)for(var e in d)Xq(a,"startupHints",e,d[e]);(e=b.ic)&&Z(a,"ic",e);Vq(a,"hpmdo",!!b.hpmdo);Vq(a,"ips",!!b.ips);Vq(a,"ip",!!b.ip);Vq(a,"pendingCreation",!!b.pendingCreation);e=b.fact;null!=e&&Z(a,"fact",e);Vq(a,"modelNeedsResync",!!b.modelNeedsResync);Vq(a,"ind",!!b.ind);e=b.modelVersion;null!=e&&xs(a,e);e=b.featureVersion;null!=e&&ys(a,e);e=b.rev;null!=e&&(d=b.rai,us(a,e,null!=d?ns(d):null));e=b.lsst;null!=e&&Z(a,"lsst",e);e=b.lss;null!=e&&a.zc(!!e);e=b.lsft;null!=e&&
a.yc(e);e=b.odocid;null!=e&&Z(a,"odocid",e);e=b.relevancyRank;null!=e&&zs(a,e);e=b.lastServerSnapshotTimestamp;null!=e&&As(a,e);e=b.snapshotState;null!=e&&Bs(a,e);b=b.pendingQueueState;null!=b&&Cs(a,b);return a}k.nl=function(a,b){b=Qt(this.g,["Comments","Documents"],"Error reading comments.",b);Cn(b,"Comments",function(a){return a[1]},r(this.yd,this,b,a),[2],[2,[]],"StateIndex",!1,!0)};
k.pl=function(a,b){oh([new S(function(a,b){Au(this,"nonsnapshottedocumentids",a,b)}.bind(this)),Bu(this)]).then(function(a){a=a[0].concat(a[1]);Db(a,void 0,function(a){return a.getId()});return a}).then(a,function(a){(b||this.g.j)(a)}.bind(this))};function Bu(a){return Cu(a,function(a){var b=Qq(a,"snapshotState");return 2==b?(a=Rq(a,"lastServerSnapshotTimestamp"),null===a||864E5<t()-a):0==b})}function Cu(a,b){return new S(function(a,d){xu(this,function(c){a(c.filter(b))},d)}.bind(a))}
k.ol=function(a,b){Au(this,"missingdocosdocumentids",a,b)};function Au(a,b,c,d){var e=Qt(a.g,["Documents","ProfileData"],"Error reading document ids",d);Du(b,function(b){a.yd(e,c,b)},e)}k.Ca=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());var b=["DocumentCommands","Documents"];"delete-record"==a.L()&&(b=b.concat(["Comments","DocumentEntities","PendingQueueCommands","PendingQueues"]));return b};
k.xa=function(a,b){var c=X(b,"Documents");switch(a.L()){case "update-record":a.j?Dt(c,a.g):mu(this.o,eu(a),a.g,c,tu);break;case "delete-record":Eu(this,a,b);break;default:this.Bb(a.B).xa(a,b)}};function Eu(a,b,c){b.g?a.Jc(b,c):Fu(a,eu(b),c,r(function(a){a?c.abort(new rn(5,"Pending changes found")):this.Jc(b,c)},a))}k.xe=function(){return"Comments DocumentCommands DocumentEntities DocumentLocks Documents PendingQueueCommands PendingQueues".split(" ")};
function Gu(a,b,c){var d=a.xe(),e=Qt(a.g,d,"Error deleting documents.",c,!0);Jt(e,b);Cn(e,"Documents",function(a){if((a=zu(null,a))&&("trix"==a.L()||"syncstats"==a.L()))return new fu(this.Ba(a),a.A)}.bind(a),function(a){for(var b=0;b<a.length;b++)this.Jc(a[b],e)}.bind(a))}function Fu(a,b,c,d){Bn(vn(X(c,"PendingQueueCommands"),[b],[b,[]]),r(function(a){a.target.result?d(!0):Hu(b,c,d)},a))}function Hu(a,b,c){Bn(xn(X(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}
k.Jc=function(a,b){a=eu(a);var c=X(b,"DocumentCommands");zn(c,[a],[a,[]]);c=X(b,"PendingQueueCommands");zn(c,[a],[a,[]]);c=X(b,"PendingQueues");zn(c,a);c=X(b,"Documents");zn(c,a);c=X(b,"DocumentLocks");zn(c,[a]);c=X(b,"Comments");zn(c,[a],[a,[]]);lu(this.g,"nonsnapshottedocumentids",[a],ya);lu(this.g,"missingdocosdocumentids",[a],ya);b=X(b,"DocumentEntities");zn(b,[a],[a,[]])};
function Iu(a,b,c,d){a=Qt(a.g,["PendingQueueCommands"],"Error reading pending changes for unsaved bit.",d,!0);Jt(a,c);Bn(X(a,"PendingQueueCommands").get(un.lowerBound(-Infinity)),function(a){if(a.target.result)wt(b);else try{m.localStorage.setItem("docs-ucb","0")}catch(f){bo(b,Error("Error clearing unsaved changes bit in Local Storage: "+f.message))}})};function Ju(a,b,c){gu.call(this,a,b,void 0,"update-application-metadata");this.v=c}v(Ju,gu);function Ku(a){I.call(this);this.oa=a}v(Ku,hu);k=Ku.prototype;k.wa=function(){return["applicationMetadata"]};k.Ba=function(a){return a.Ta()};k.ta=function(a){return"update-application-metadata"==a.L()};k.Ya=function(a){var b=this.Ba(a);return[new Ju(b,a,a.j?a.o.concat():null)]};k.Bb=function(a){var b=this.oa[a];if(!b)throw Error("No adapter found for this type: "+a);return b};function Lu(a,b,c,d){Ku.call(this,c);this.g=a;this.A=d}v(Lu,Ku);function Mu(a,b,c,d,e){var f=Qt(a.g,["NewDocumentIds"],"Error writing new document ids.",e,!0);Jt(f,d);Bn(X(f,"NewDocumentIds").get(b),function(a){a=a.target.result;a=(a&&a.documentIds?a.documentIds:[]).concat(c);var d={};d.dtKey=b;d.documentIds=a;et(X(f,"NewDocumentIds"),d)})}
function Nu(a,b,c,d){var e=Qt(a.g,["NewDocumentIds"],"Error reading new document ids.",d);Bn(X(e,"NewDocumentIds").get(b),function(a){a=a.target.result;Dn(e);c(a&&a.documentIds?a.documentIds.length:0)})}
Lu.prototype.o=function(a){var b=a.dt;if(null==b)throw Error("Document type expected to be defined.");var c=new Ut(b,!1),b=this.Bb(b),d=a.jobset;null!=d&&Z(c,"jobset",d);d=a.ic;null!=d&&(b=b.Ad(d),c.o=b.concat(),c.j=!0);(b=a.docosKeyData)&&Z(c,"docosKeyData",b);a=a.version;Z(c,"version",p(a)?a:0);c.g=!1;return c};Lu.prototype.Ca=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());return["ApplicationMetadata"]};
Lu.prototype.xa=function(a,b){switch(a.L()){case "update-application-metadata":var c=this.Bb(eu(a)),d=a.g;if(null!=a.v){var e;if(a.v)e=a.v;else throw Error("No new initial commands are available.");for(var f=[],g=0;g<e.length;g++)f.push(c.cb.ka(e[g]));d.ic=f}b=X(b,"ApplicationMetadata");a.j?et(b,d):mu(this.A,eu(a),d,b);break;default:throw Error("Cannot perform operation of type "+a.L());}};function Ou(a,b,c,d,e){Nq.call(this,"documentEntity",e);Z(this,"entityId",a);Z(this,"documentId",b);Z(this,"entityType",c);Z(this,"data",d)}v(Ou,Nq);Ou.prototype.getId=function(){return this.S.entityId};Ou.prototype.L=function(){return this.S.entityType};function Pu(){I.call(this)}v(Pu,hu);Pu.prototype.wa=function(){return["documentEntity"]};Pu.prototype.Ba=function(a){return[a.S.documentId,a.L(),a.getId()]};function Qu(a,b,c){I.call(this);this.g=c}v(Qu,Pu);Qu.prototype.Ca=function(){return["DocumentEntities"]};Qu.prototype.xa=function(a,b){b=X(b,"DocumentEntities");switch(a.L()){case "update-record":if(a.j){var c={};c.deKey=eu(a);c.data=a.g.data;et(b,c)}else c={},c.data=a.g.data,a=eu(a),mu(this.g,a,c,b);break;case "delete-record":zn(b,eu(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Ru(a,b,c,d,e){Nq.call(this,"impressionBatch",e);Z(this,"di",a);Z(this,"dt",b);Z(this,"ibt",c);Z(this,"iba",d)}v(Ru,Nq);function Su(){I.call(this)}v(Su,hu);Su.prototype.wa=function(){return["impressionBatch"]};Su.prototype.Ba=function(a){return[Tq(a,"di"),a.S.ibt]};Su.prototype.ta=function(a){return Su.J.ta.call(this,a)&&("update-record"==a.L()&&a.j||"delete-record"==a.L())};function Tu(a){I.call(this);this.g=a}v(Tu,Su);function Uu(a,b,c){c=Qt(a.g,["Impressions"],"Error reading impressions.",c);Cn(c,"Impressions",r(a.o,a),b,void 0,void 0,void 0,void 0,void 0,!0)}Tu.prototype.o=function(a){a=new Ru(a.iKey[0]||null,a.dt,a.iKey[1],a.iba,!1);a.g=!1;return a};Tu.prototype.Ca=function(){return["Impressions"]};
Tu.prototype.xa=function(a,b){switch(a.L()){case "update-record":if(a.j){b=X(b,"Impressions");a=a.g;var c={};c.iKey=[a.di||"",a.ibt];c.dt=a.dt;c.iba=a.iba;et(b,c)}else throw Error("Impressions may not be updated.");break;case "delete-record":zn(X(b,"Impressions"),eu(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Vu(){I.call(this)}v(Vu,hu);Vu.prototype.wa=function(){return[]};function Wu(){I.call(this)}v(Wu,Vu);function Xu(a,b){H.call(this,"K",b)}v(Xu,H);function Yu(){I.call(this);this.C={}}v(Yu,I);function Zu(a,b){for(var c=b.wa(),d=0;d<c.length;d++){var e=c[d];if(a.C[e])throw Error("Record type "+e+"already handled by another capability.");a.C[e]=b}}k=Yu.prototype;k.Pf=ca(null);k.ld=ca(null);k.ne=ca(null);k.Qf=ca(null);k.Lb=ca(null);k.Yb=ca(null);k.le=ca(null);k.oe=ca(null);k.Of=ca(null);function $u(){I.call(this)}v($u,hu);$u.prototype.wa=function(){return[]};$u.prototype.Ya=function(){throw Error("No operation is supported.");};$u.prototype.Ba=function(){throw Error("No record is supported.");};$u.prototype.ta=ca(!1);function av(){I.call(this)}v(av,$u);av.prototype.Ca=function(){throw Error("No object store available.");};av.prototype.xa=function(a){throw Error("Operation type "+a.L()+" not supported.");};function bv(){I.call(this)}v(bv,hu);bv.prototype.wa=function(){return[]};function cv(a,b,c){this.g=a;this.o=b;this.j=c}cv.prototype.X=h("o");cv.prototype.gb=h("j");function dv(a,b,c){var d=t();return a.j==b?"available":a.g+(c?6E4:0)<=d||a.g>d+36E4?"expiredOtherSid":(b=window.localStorage)&&b.getItem("dcl_"+a.j)?"available":"unavailable"}cv.prototype.ka=function(){var a={};a.e=this.g;a.dlKey=[this.o];a.sId=this.j;return a};function ev(a){return new cv(a.e,a.dlKey[0],a.sId)};function fv(a,b,c,d,e){I.call(this);this.g=a;this.j=b;this.o=c;this.D=e||this.o.j;this.B=0;this.C=d;this.A=new W(this);this.A.listen(c,"M",this.gj)}v(fv,I);k=fv.prototype;k.Da=null;k.gj=function(){this.Re()};k.Wd=function(a,b,c){var d=gv(this,La(b,4),c,!0);c=X(d,"DocumentLocks");b=r(this.Zj,this,a,b,d);b=r(this.$g,this,a,c,b,null);hv(this,a,b,c,!1,!0)};function gv(a,b,c,d){return Qt(a.o,["DocumentLocks"],"Lock acquisition",c,d,Uf(J(),"docs-localstore-ilat"),b,"idbla")}
k.Zj=function(a,b,c,d){1==d?Jt(c,r(this.$j,this,a,b)):(c.D=null,b(d))};k.$j=function(a,b){if(this.Da)throw Error("Lock refresh timer should not be running on lock acquisition");this.isDisposed()||0==this.j||(this.Da=new ej(Math.max(this.j-1E4,0)),this.A.listen(this.Da,"tick",r(this.mk,this,a)),this.Da.start());b(1)};k.ak=function(a,b){b||a.abort(new rn(2,"Lock not available"))};
function iv(a,b,c){a.Da&&a.Da.stop();var d=r(a.Yj,a,b,c),e=r(a.Tg,a,b,c);c=X(c,"DocumentLocks");d=r(a.$g,a,b,c,d,e);hv(a,b,d,c,!0,!1,e)}k.Yj=function(a,b,c){1!=c?this.Tg(0,b):this.Da&&this.Da.start()};k.Tg=function(a,b){G(this.Da);this.Da=null;b.abort(new rn(2,"Lock could not be refreshed"))};function hv(a,b,c,d,e,f,g){d=d.get([b]);Bn(d,r(a.Mi,a,b,c,e,f));g&&tt(d,Cd(g))}
k.Mi=function(a,b,c,d,e){if(!this.isDisposed()){a=e.target.result;var f=null;if(a){if(a=ev(a),e=a.gb(),e==this.g&&(f=a.g),(c=c&&e!=this.g)||(c=dv(a,this.g,0==this.j),c=!("available"==c||"expiredOtherSid"==c)),c){d=t();c={};c.sessionId=this.g;c.lockHoldingSessionId=e;c.validUntil=a.g-d;c.lockDuration=this.j;this.B&&(c.lastWrittenValidUntil=this.B-d);0<this.j&&bo(this.C,Error("IndexedDB document lock not available"),c);b(!1,null);return}}else if(c){c={};c.sessionId=this.g;bo(this.C,Error("IndexedDB document lock not available because the lock does not exist"),
c);b(!1,null);return}d&&this.dispatchEvent("N");b(!0,f)}};k.$g=function(a,b,c,d,e,f){e?(c=La(c,1),e=t(),this.B=f=Math.min(Math.max(e+this.j,f||0),e+6E4),a=et(b,(new cv(f,a,this.g)).ka()),Bn(a,Cd(c)),d&&tt(a,Cd(d))):c(2)};k.mk=function(a){jv(this,a,0)};function jv(a,b,c){c=Qt(a.o,["DocumentLocks"],"Lock refresh timer",r(a.nk,a,b,c),!0);iv(a,b,c)}k.nk=function(a,b,c){this.isDisposed()||(2==c.type||2<=b?(G(this.Da),this.Da=null,this.D(c)):jv(this,a,b+1))};
k.Re=function(){G(this.Da);this.Da=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.g,String(t()))};
k.$d=function(){var a=window.localStorage;if(!a)return lh(Error("Cannot clean up locks when there is no local storage"));for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&Ra(e,"dcl_")){var f=e.substring(4);b.push(f)}}var g=Vb(b);return(new S(function(a,b){var c=Qt(this.o,["DocumentLocks"],"Lock cleanup",b,!0);Jt(c,a);Cn(c,"DocumentLocks",ev,function(a){var b=X(c,"DocumentLocks");a.filter(function(a){return g[a.gb()]}).forEach(function(a){zn(b,[a.X()])}.bind(this))}.bind(this))}.bind(this))).then(function(){for(f in g)a.removeItem("dcl_"+
f)})};k.F=function(){this.A.Z();G(this.Da);this.Da=null;fv.J.F.call(this)};k.lk=function(a,b){(b=b.target.result)?a(dv(ev(b),this.g,0==this.j)):a("available")};function kv(a,b,c,d){I.call(this);this.g=a;this.Eb=new fv(b,c,a,d,this.g.j);this.Eb.H=this}v(kv,bv);k=kv.prototype;k.Wd=function(a,b,c){this.Eb.Wd(a,b,c)};k.Re=function(){this.Eb.Re()};k.$d=function(){return this.Eb.$d()};k.Ca=function(){return["DocumentLocks"]};
k.xa=function(a,b){switch(a.L()){case "document-lock":switch(a.v){case 2:iv(this.Eb,a.X(),b);break;case 1:var c=this.Eb;a=a.X();hv(c,a,r(c.ak,c,b),X(b,"DocumentLocks"),!1,!1)}break;default:throw Error("Operation type "+a.L()+" not supported.");}};k.F=function(){this.Eb.Z();kv.J.F.call(this)};function lv(a,b,c){this.g=a;this.j=b;this.fa=c}lv.prototype.Aa=h("g");lv.prototype.fb=h("j");function mv(a,b,c,d,e,f){Nq.call(this,"pendingQueue",c);this.B=d;this.v=e.concat();this.j=f.concat();this.D=new ms;Z(this,"docId",a);Z(this,"documentType",b);Z(this,"revision",-1);Vq(this,"undeliverable",!1);Vq(this,"unsavedChanges",!1);this.W=this.o=!1}v(mv,Nq);var nv=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];k=mv.prototype;k.Fb=6;k.Xc=null;k.vc=null;k.wc=null;k.bb=null;k.X=function(){return this.S.docId};
function ov(a){var b;if(b=!a.o)b=null==Qq(a,"undeliverable")?!1:""!=a.S.undeliverable;return b}function pv(a,b){Vq(a,"undeliverable",b)}function qv(a,b){Z(a,"sentBundlesSavedRevision",b)}function rv(a){return Sq(a,"sentBundlesSavedRevision")}function sv(a,b,c){Z(a,"revision",b);Z(a,"revisionAccessInfo",a.D.ka(c))}function tv(a){return a.S.revision}function uv(a,b){Z(a,"selection",b)}function vv(a,b){Vq(a,"unsavedChanges",b)}k.L=function(){return this.S.documentType};
function wv(a,b){Z(a,"unsentBundleMetadata",b)}function xv(a,b){if(null!=b){var c=a.v.length+a.j.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}Z(a,"snapshotBundleIndex",b)}k.ca=function(){return this.o?!0:0==this.j.length&&0==this.v.length};
function yv(a){if(!a.j.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.j.length){var b=a.j[0];a.bb=new zv(b.fb(),b.fa);a.v.push(b);a.j=[];Av(a,5)}else Bb(a.v,a.j),a.replace(a.v,[]);qv(a,null)}k.replace=function(a,b){this.wc=b.length?b.concat():null;this.vc=a.concat();this.bb=this.Xc=null;this.v=a.concat();this.j=b.concat();Av(this,7)};
function Av(a,b){if(a.W&&7!=b&&6!=a.Fb)a.replace(a.v,a.j);else{Bv(a);if(!a.W&&6!=a.Fb)throw Error("Multiple pending queue operations between writes. Current operation: "+a.Fb+". Pending operation: "+b);a.Fb=b}}function Bv(a){if(a.o)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}k.ib=function(){return 6!=this.Fb||mv.J.ib.call(this)};function Cv(a){return a.o?[]:a.v}
function Dv(a){if(a.o)return[];for(var b=[],c=0;c<a.j.length;c++)Bb(b,a.j[c].Aa());return b}function Ev(a){return a.o?!1:!!a.j.length}function Fv(a){return a.o?!1:!!a.v.length}k.Ic=function(){Bv(this);mv.J.Ic.call(this);this.Xc&&this.Xc.length&&this.B++;this.vc&&(this.B+=this.vc.length);this.wc&&(this.B+=this.wc.length);this.Fb=6;this.bb=this.wc=this.vc=this.Xc=null};k.cc=function(){return new Hq(this.X(),2)};function zv(a,b){this.Gb=a;this.sessionId=b};function Gv(a){gu.call(this,a.X(),a,nv,"pq-clear")}v(Gv,gu);Gv.prototype.X=function(){return eu(this)};function Hv(a){gu.call(this,a.X(),a,nv,"pq-clear-sent-bundle");if(a.o)throw Error("The queue is in a state that does not allow commands");}v(Hv,gu);Hv.prototype.X=function(){return eu(this)};function Iv(a){gu.call(this,a.X(),a,nv,"pq-clear-sent")}v(Iv,gu);Iv.prototype.X=function(){return eu(this)};function Jv(a,b){this.o="pq-delete-commands";this.g=a;this.v=b}v(Jv,Ms);Jv.prototype.X=h("g");function Kv(a){gu.call(this,a.X(),a,nv,"pq-mark-sent");this.v=[];this.C=!1;var b=a.B;if(7==a.Fb){this.C=!0;a=a.vc;for(var c=0;c<a.length;c++)b++,this.v.push(new Lv(a[c].fa,a[c].fb(),b))}else this.v.push(new Lv(a.bb?a.bb.sessionId:null,a.bb?a.bb.Gb:null,b))}v(Kv,gu);function Lv(a,b,c){this.sessionId=a;this.Gb=b;this.xd=c};function Mv(a,b,c){this.o="pq-write-commands";this.A=a;this.v=b;this.g=c}v(Mv,Ms);Mv.prototype.X=h("A");Mv.prototype.Aa=h("v");function Nv(a){this.oa=a}Nv.prototype.wa=function(){return["pendingQueue"]};Nv.prototype.Ba=function(a){return a.X()};function Ov(a,b){if(a=a.oa[b])return a;throw Error("No document adapter available for type "+b);}
Nv.prototype.j=function(a){if(a.N)throw Error("Cannot delete pending queues.");var b=Ov(this,a.L()),c=a.Fb,d=[];switch(c){case 7:for(var c=a.X(),e=a.B,f=a.vc,d=[],g,l=0;l<f.length;l++){e++;g=Pv(f[l].Aa(),b,a.X(),e,!0);if(!g)throw Error("Unexpected null operation");d.push(g)}e=a.B+d.length;f=a.wc?a.wc:[];g=[];for(var l=[],n=0;n<f.length;n++){var u=Pv(f[n].Aa(),b,c,e+1);u&&(l.push(u),g.push(new Qv(f[n].fb(),f[n].fa,e+1)),e++)}wv(a,Rv(g));d.push(new Kv(a));Bb(d,l);0<=a.B&&d.push(new Jv(c,a.B));break;
case 1:d=a.B+1;e=a.X();c=[];f=a.Xc;l=a.bb?a.bb.Gb:null;n=a.bb?a.bb.sessionId:null;g=Sv(Pq(a,"unsentBundleMetadata"));if(null===l||null===n){if(!g.length)throw Error("Bundles and metadata do not match!");l=g[g.length-1];g[g.length-1]=new Qv(l.Gb,l.sessionId,d)}else g.push(new Qv(l,n,d));f&&wv(a,Rv(g));Qb(a.C)||c.push(new gu(e,a,nv));(a=Pv(f,b,e,d))&&c.push(a);d=c;break;case 5:wv(a,null);d.push(new Kv(a));break;case 2:wv(a,null);d.push(new Gv(a));break;case 3:d.push(new Iv(a));break;case 4:d.push(new Hv(a));
break;case 6:d.push(new gu(a.X(),a,nv));break;default:throw Error("Unknown Pending Queue operation type: "+c);}return d};function Pv(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.cb.ka(a[f]));return new Mv(c,e,d)}function Sv(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new Qv(a[c].rid,a[c].sid,a[c].lei));return b}function Rv(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++)b.push(a[c].ka());return b}
function Qv(a,b,c){this.Gb=a;this.sessionId=b;this.xd=c}Qv.prototype.ka=function(){var a={};a.rid=this.Gb;a.sid=this.sessionId;a.lei=this.xd;return a};function Tv(a,b,c,d){this.oa=c;this.g=a;this.o=d}v(Tv,Nv);function Uv(a,b,c,d){function e(a){Dn(f);c(a)}var f=Qt(a.g,["PendingQueues","PendingQueueCommands"],"Error reading pending queue.",d);Bn(X(f,"PendingQueues").get(b),function(c){(c=c.target.result)?Vv(a,b,f,c,e):e(null)})}
function Vv(a,b,c,d,e){var f=d.t,g=Ov(a,f);if(!g)throw Error("No document adapter available for type "+f);a=X(c,"PendingQueueCommands");var l=[];Bn(vn(a,[b],[b,[]]),function(a){if(a=a.target.result)l.push(a.value),a["continue"]();else{a=[];Tf(J(),"docs-localstore-eubm")&&(a=d.ubm?Sv(d.ubm):[]);for(var b=!0,c=d.b,f=0,n=[],Q=[],ha=[],la=-1,Y=0;Y<l.length;Y++)if(la=l[Y],Bb(n,g.Ad(la.c,!0)),la=la.pqcKey[1],f<c.length){var $a=c[f];$a.l==la&&(Q.push(new lv(n,$a.r,$a.s)),n=[],f++)}else f<c.length+a.length&&
($a=a[f-c.length],$a.xd==la&&(b=!1,ha.push(new lv(n,$a.Gb,$a.sessionId)),n=[],f++));b&&(a=[]);n.length&&(b=wi(),ha.push(new lv(n,0,b)),a.push(new Qv(0,b,la)));n=new mv(d.docId,d.t,!1,la,Q,ha);sv(n,d.r,ns(d.ra));d.s&&uv(n,d.s);pv(n,!!d.u);vv(n,!!d.uc);d.sbsr&&qv(n,d.sbsr);p(d.sbi)&&xv(n,d.sbi);n.g=!1;wv(n,Rv(a));e(n)}})}Tv.prototype.Ca=function(){return["PendingQueueCommands","PendingQueues"]};
Tv.prototype.xa=function(a,b){a instanceof gu&&!a.j?Bn(X(b,"PendingQueues").get(eu(a)),r(this.v,this,a,b)):Wv(this,a,b)};Tv.prototype.v=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");Wv(this,a,b,c)};
function Wv(a,b,c,d){if(d){var e=b.g,f=e.revision,g=e.revisionAccessInfo;null!=f&&(d.r=f);p(g)&&(d.ra=g);f=e.selection;null!=f&&(d.s=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;p(f)&&(d.u=!!f);f=e.unsavedChanges;p(f)&&(d.uc=!!f);g=e.sentBundlesSavedRevision;p(g)&&(d.sbsr=g);g=e.unsentBundleMetadata;p(g)&&(d.ubm=g);e=e.snapshotBundleIndex;p(e)&&(d.sbi=e);f&&wt(a.o)}switch(b.L()){case "pq-clear":a=d||Xv(b);b=b.X();d=X(c,"PendingQueueCommands");zn(d,[b],[b,[]]);a.b=[];Yv(a,c);break;case "pq-clear-sent":a=
d||Xv(b);d=a.b;0<d.length&&(d=d[d.length-1].l,e=X(c,"PendingQueueCommands"),b=b.X(),zn(e,[b],[b,d]),a.b=[]);Yv(a,c);break;case "pq-clear-sent-bundle":a=d||Xv(b);d=a.b.shift().l;e=X(c,"PendingQueueCommands");b=b.X();zn(e,[b],[b,d]);Yv(a,c);break;case "pq-mark-sent":a=d||Xv(b);d=b.v;b.C&&(a.b=[]);for(b=0;b<d.length;b++)e=d[b],f=ru,g={},g[f.Gh]=e.xd,g[f.fi]=e.sessionId,g[f.Zh]=e.Gb,a.b.push(g);Yv(a,c);break;case "update-record":Yv(d||Xv(b),c);break;case "pq-write-commands":a=b.Aa();d={};d.pqcKey=[b.X(),
b.g];d.c=a;et(X(c,"PendingQueueCommands"),d);break;case "pq-delete-commands":c=X(c,"PendingQueueCommands");a=b.X();zn(c,[a],[a,b.v]);break;default:throw Error("Unsupported operation type: "+b.L());}}function Yv(a,b){et(X(b,"PendingQueues"),a)}
function Xv(a){var b=a.g;a={};var c=b.accessLevel;p(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.ra=b.revisionAccessInfo;a.ubm=b.unsentBundleMetadata;a.s=b.selection;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;c=b.sentBundlesSavedRevision;null!=c&&(a.sbsr=c);b=b.snapshotBundleIndex;p(b)&&(a.sbi=b);return a};function Zv(){}function mu(a,b,c,d,e){c&&Bn(vn(d,b),r(a.g,a,c,e||[]))}Zv.prototype.g=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];d[e]=ub(b,e)?null!=f?f:null:f}c.update(d)}else throw Error("Could not find object to update.");};function $v(a,b){var c=Qt(a,["ProfileData"],"Error pushing document id",void 0,!0);Du("missingdocosdocumentids",function(a){ub(a,b)||(a.push(b),a=aw("missingdocosdocumentids",a),et(X(c,"ProfileData"),a),Jt(c,ya))},c)}
function lu(a,b,c,d,e){var f=Qt(a,["ProfileData"],"Error removing document ids",e,!0);Du(b,function(a){for(var e=0;e<c.length;e++)wb(a,c[e]);a=aw(b,a);et(X(f,"ProfileData"),a);Jt(f,d)},f)}function Du(a,b,c){Bn(X(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})}function aw(a,b){var c={};c.dataType=a;c.documentIds=b;return c};function bw(){I.call(this)}v(bw,hu);bw.prototype.wa=function(){return["user"]};function cw(a){return(new S(function(a,c){return dw(this,a,c)}.bind(a))).then(function(a){if(1>a.length)throw Error("Expected an offline user in localstore");return a[0]})}bw.prototype.Ya=function(a,b){if(a.N)throw Error("User deletion is not implemented.");return bw.J.Ya.call(this,a,b)};bw.prototype.Ba=function(a){return a.getId()};bw.prototype.ta=function(a){return bw.J.ta.call(this,a)&&"delete-record"!=a.L()};function ew(a,b,c,d){I.call(this);this.g=a;this.A=c;this.o=d}v(ew,bw);
function dw(a,b,c){if(a.g.o)fj(La(b,[]));else if(ub(a.g.g.objectStoreNames,"Users")){c=Qt(a.g,["Users"],"Error reading users.",c);var d=[];Bn(X(c,"Users").get(un.lowerBound(-Infinity)),r(function(a){if(a=a.target.result){var b=new cu(a.id,!1);Z(b,"emailAddress",a.emailAddress);Z(b,"locale",a.locale);null!=a.fastTrack&&Vq(b,"fastTrack",!!a.fastTrack);null!=a.internal&&Vq(b,"internal",!!a.internal);null!=a.optInReasons&&Z(b,"optInReasons",a.optInReasons);b.g=!1;d=[b]}},a));Jt(c,function(){b(d)})}else a.o.log(Error("Reading from uninitialized IDB database.")),
fj(La(b,[]))}ew.prototype.Ca=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());return["Users"]};ew.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"Users");a.j?Dt(b,a.g):mu(this.A,eu(a),a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function fw(a,b,c,d,e){Yu.call(this);this.Y=e;this.D=new W(this);this.o=new Zv;this.j=a;this.D.listen(this.j,"M",this.hj);this.D.listen(this.j,"J",this.Fj);this.oa=b;this.B=new Tv(this.j,0,this.oa,this.Y);Zu(this,this.B);this.g=this.be(this.oa);Zu(this,this.g);this.A=new kv(this.j,c,d,this.Y);this.U=new ew(a,0,this.o,e);Zu(this,this.U);this.ma=new av}v(fw,Yu);k=fw.prototype;k.jc=h("U");k.be=function(a){return new su(this.j,0,this.o,a)};k.hj=function(){this.dispatchEvent(new Xu)};k.Fj=function(a){this.dispatchEvent(a)};
function jt(a,b,c,d){if(a.j.o)fj(c);else{for(var e={},f=0;f<b.length;f++)for(var g=b[f],l=gw(a,g),g=l.Ca(g),l=0;l<g.length;l++)e[g[l]]=!0;d=Qt(a.j,Lb(e),"Error writing records.",d,!0);Jt(d,c);for(f=0;f<b.length;f++)g=b[f],l=gw(a,g),l.xa(g,d)}}
function gw(a,b){if(Ns(b)){b=b.A;a=a.C[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.L();if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.B;if("document-lock"==b)return a.A;if("append-commands"==b||"write-trix"==b)return a.g;if("update-application-metadata"==b){if(a=a.Yb())return a}else if("append-template-commands"==b&&(a=a.oe()))return a;throw Error("No capability registered for operation type "+
b);}k.wk=function(a,b){try{this.Lc(b)}catch(c){fj(La(a,new rn(1,"Failed to initialize database.",c)))}};k.vk=function(a,b){try{this.Jf(b)}catch(c){fj(La(a,new rn(1,"Failed to upgrade database.",c)))}};k.F=function(){qe(this.D,this.A,this.B,this.g,this.U,this.ma);fw.J.F.call(this)};function hw(){I.call(this)}v(hw,hu);hw.prototype.wa=function(){return["syncObject"]};hw.prototype.Ba=function(a){return Sb(a.S.keyPath)};hw.prototype.ta=function(a){return hw.J.ta.call(this,a)&&"update-record"==a.L()&&a.j};function iw(a){I.call(this);this.o=a}v(iw,hw);iw.prototype.g=function(a){var b=a.data;a=new au(!1,a.keyPath,a.state);Z(a,"data",b);a.g=!1;return a};iw.prototype.Ca=function(){return["SyncObjects"]};iw.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"SyncObjects");if(a.j)et(b,a.g);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.L()+" not supported.");}};function jw(a){$t.call(this,"syncStats","syncstats",a);Z(this,"lastSyncedChangestamp",0);Z(this,"syncVersion",0);Z(this,"lastDailyRunTime",0);Z(this,"maxSpaceQuota",0);Z(this,"webfontsSyncVersion",0);Z(this,"lastStartedSyncDocs",[])}v(jw,$t);function kw(a,b){Z(a,"relevantDocuments",b)}function lw(a){return Wq(a,"relevantDocuments")||[]}function mw(a,b){var c=nw(a);p(c[b])&&(delete c[b],Z(a,"failedToSyncDocs",c))}function nw(a){a=Pq(a,"failedToSyncDocs");return null==a?{}:a};function ow(){I.call(this)}v(ow,hu);ow.prototype.wa=function(){return["syncStats"]};ow.prototype.Ba=ca(null);ow.prototype.ta=function(a){return ow.J.ta.call(this,a)&&"delete-record"!=a.L()};function pw(a,b){I.call(this);this.g=a;this.o=b}v(pw,ow);
function qw(a,b,c){var d=Qt(a.g,["ProfileData"],"Error reading syncStats.",c);Bn(X(d,"ProfileData").get("syncstats"),function(a){Dn(d);var c=a.target.result;if(c){if("syncstats"!=c.dataType)throw Error("Invalid data type.");a=new jw(!1);var e=c.docsToDelete;null!=e&&Z(a,"docsToDelete",e);e=c.enabledMimeTypes;null!=e&&Z(a,"enabledMimeTypes",e);e=c.lastLocalStoreProfileTimestamp;null!=e&&Z(a,"lastLocalStoreProfileTimestamp",e);e=c.lastSyncTimestamp;null!=e&&Z(a,"lastSyncTimestamp",e);e=c.lastSyncedChangestamp;
null!=e&&Z(a,"lastSyncedChangestamp",e);e=c.syncStartTimestamp;null!=e&&Z(a,"syncStartTimestamp",e);e=c.syncVersion;null!=e&&Z(a,"syncVersion",e);e=c.failedToSyncDocs;if(null!=e)for(var l in e){var n=e[l],u=a,y=l,D=n.modelSyncFailCount||0,U=n.serverTime,Q={};Q.count=n.count;Q.modelSyncFailCount=D;Q.serverTime=U;n=nw(u);n[y]=Q;Z(u,"failedToSyncDocs",n)}l=c.lastDailyRunTime;null!=l&&Z(a,"lastDailyRunTime",l);l=c.maxSpaceQuota;null!=l&&Z(a,"maxSpaceQuota",l);l=c.webfontsSyncVersion;null!=l&&Z(a,"webfontsSyncVersion",
l);l=c.lastStartedSyncDocs;if(null!=l)for(e=0;e<l.length;e++)u=a,Q=l[e].timestamp,y={},y.documentId=l[e].documentId,y.timestamp=Q,Q=Wq(u,"lastStartedSyncDocs")||[],Q.push(y),Q.splice(0,Q.length-10),Z(u,"lastStartedSyncDocs",Q);c=c.relevantDocuments;null!=c&&kw(a,c);a.g=!1;b(a)}else b(null)})}pw.prototype.Ca=function(){return["ProfileData"]};
pw.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"ProfileData");a.j?et(b,a.g):mu(this.o,"syncstats",a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function rw(a,b){this.fontFamily=a;this.g=b};function sw(){I.call(this)}v(sw,hu);sw.prototype.wa=function(){return["fontMetadata"]};sw.prototype.Ba=function(a){return a.S.fontFamily};sw.prototype.ta=function(a){return sw.J.ta.call(this,a)?"update-record"==a.L()?a.j:!0:!1};function tw(a){I.call(this);this.o=a}v(tw,sw);function uw(a,b,c){c=Qt(a.o,["FontMetadata"],"Reading all font metadata",c);Cn(c,"FontMetadata",r(a.g,a),function(a){for(var c={},d=0,g;g=a[d];d++)c[g.S.fontFamily]=g;b(c)},void 0,void 0,void 0,void 0,void 0,!0)}
function vw(a,b,c,d){if(0==b.length)d({});else{c=X(c,"FontMetadata");for(var e=b.length,f={},g=0;g<b.length;g++)Bn(c.get(b[g]),r(function(a){a.target.result?(a=this.g(a.target.result),f[a.S.fontFamily]=a,Lb(f).length==e&&d(f)):(e--,0==e&&d(f))},a))}}
tw.prototype.g=function(a){var b=a.version,c=a.fontFaces,d;a=a.fontFamily.split("|");d=new rw(a[0],1<a.length?a[1]:"LATIN");a=d.fontFamily;d=d.g;for(var e=[],f=0,g;g=c[f];f++){for(var l=g.source,n=[],u=0,y;y=l[u];u++)n.push(new Yt(y.format,y.isSystemFont,y.url));l=Wt;e.push(new Zt(g[l.ed],p(g[l.Ec])?g[l.Ec]:"LATIN",g[l.Rd],g[l.Ud],g[l.Vd],n))}b=new Vt(a,d,b,e,!1);b.g=!1;return b};
function ww(a,b,c,d){var e=Qt(a.o,["FontMetadata"],"Reading font metadata",d);vw(a,b,e,r(a.A,a,e,b,function(a){Dn(e);c(a)},d))}tw.prototype.A=function(a,b,c,d,e){a=[];d=0;for(var f;f=b[d];d++)a.push(e[f]);c(a)};tw.prototype.Ca=function(){return["FontMetadata"]};
tw.prototype.xa=function(a,b){b=X(b,"FontMetadata");switch(a.L()){case "update-record":if(a.j)et(b,a.g);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":zn(b,eu(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function xw(a,b,c,d,e){fw.call(this,a,b,c,d,e);a=this.j;this.ea=new Qu(0,0,this.o);Zu(this,this.ea);this.O=new tw(a);Zu(this,this.O);this.M=new iw(a);Zu(this,this.M);this.pa=new Wu;this.la=new pu(a);this.T=new pw(a,this.o);Zu(this,this.T);this.G=new ju(this.j,0,this.o);Zu(this,this.G);this.P=new Lu(a,0,b,this.o);Zu(this,this.P);this.I=new Tu(a);Zu(this,this.I)}v(xw,fw);
"ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" ").sort(function(a,b){return a>b?1:a<b?-1:0});k=xw.prototype;k.Pc=ca(6);k.ld=h("G");k.Lb=h("O");k.Qf=h("M");k.Pf=h("la");k.Yb=h("P");k.ne=h("T");k.Of=h("I");k.be=function(a){return new su(this.j,0,this.o,a)};
k.Yd=ca(!1);
k.Lc=function(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"});a.createObjectStore("ProfileData",{keyPath:"dataType"});a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex");a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",
{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});
a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};k.F=function(){qe(this.ea,this.O,this.M,this.pa,this.la,this.T,this.G,this.P,this.I);xw.J.F.call(this)};function yw(a,b,c,d,e,f,g,l,n){Nq.call(this,"blobMetadata",n);Z(Z(Z(Z(Z(Z(Z(Z(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",g),"oc",l);this.j=new T;"failed"==g?this.j.R():c&&this.j.K(c)}v(yw,Nq);var zw=["c","oc","ou","u"];k=yw.prototype;k.X=function(){return this.S.d};k.getUrl=function(){return Tq(this,"u")};k.ue=function(){return Tq(this,"c")};k.ba=function(){return this.S.s};function Aw(a,b){Z(a,"s",b);"failed"!=b||a.j.g||a.j.R()}k.cc=function(){return new Hq(this.X(),2)};function Bw(){I.call(this)}v(Bw,hu);Bw.prototype.wa=function(){return["blobMetadata"]};Bw.prototype.Ya=function(a){return Bw.J.Ya.call(this,a,zw)};Bw.prototype.Ba=function(a){return[a.X(),a.S.p]};function Cw(a,b,c){I.call(this);this.g=a;this.A=c}v(Cw,Bw);Cw.prototype.o=function(a){a=new yw(a.d,a.p,a.u||null,a.ou||null,a.f,a.c||null,a.s,a.oc||null,!1);a.g=!1;return a};Cw.prototype.Ca=function(){return["BlobMetadata"]};Cw.prototype.xa=function(a,b){b=X(b,"BlobMetadata");switch(a.L()){case "update-record":a.j?Dt(b,a.g):mu(this.A,eu(a),a.g,b);break;case "delete-record":zn(b,eu(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Dw(a,b,c,d){su.call(this,a,0,c,d)}v(Dw,su);Dw.prototype.Ca=function(a){var b=Dw.J.Ca.call(this,a);"delete-record"==a.L()&&b.push("BlobMetadata");return b};Dw.prototype.xe=function(){var a=Dw.J.xe.call(this);a.push("BlobMetadata");return a};Dw.prototype.Jc=function(a,b){Dw.J.Jc.call(this,a,b);a=eu(a);zn(X(b,"BlobMetadata"),[a],[a,[]])};function Ew(a,b,c,d,e){xw.call(this,a,b,c,d,e);this.$=new Cw(this.j,0,this.o);Zu(this,this.$)}v(Ew,xw);k=Ew.prototype;k.Pc=ca(7);k.le=h("$");k.be=function(a){return new Dw(this.j,0,this.o,a)};k.Yd=ca(!0);k.Lc=function(a){Ew.J.Lc.call(this,a);Fw(a)};k.Jf=function(a){Fw(a)};function Fw(a){a.db.createObjectStore("BlobMetadata",{keyPath:["d","p"]})};function Gw(a,b,c,d,e,f,g,l,n,u,y,D,U,Q,ha,la,Y){Nq.call(this,"templateMetadata",Y);Z(this,"id",a);Z(this,"title",b);Z(this,"style",c);Z(this,"category",d);Z(this,"locale",e);Z(this,"creator",f);Z(this,"thumbnailUrl",g);Z(this,"documentType",l);Z(this,"lastModifiedTimestamp",n);Z(this,"fontFamilies",u);Z(this,"brandedAuthor",y);Z(this,"brandedUrl",D);Z(this,"masterTemplate",U);Vq(this,"isThumbnailReady",Q);Vq(this,"isReady",ha);Vq(this,"isDirty",la)}v(Gw,Nq);k=Gw.prototype;k.getId=function(){return this.S.id};
k.$a=function(){return this.S.title};k.getStyle=function(){return this.S.style};k.Ta=function(){return this.S.documentType};k.hb=function(){return""!=this.S.isDirty};function Hw(a,b,c,d){this.o="append-template-commands";this.g=a;this.Sa=b;this.v=c;this.A=d}v(Hw,Ms);Hw.prototype.Ta=h("Sa");function Iw(a,b){E.call(this);this.Sa=a;this.cb=b}v(Iw,E);Iw.prototype.ce=function(a){var b=rs(a.j());return a.N||0==b.length?[]:[new Hw(a.getId(),a.Ta(),b,!0)]};Iw.prototype.Ta=h("Sa");function Jw(a,b){Iw.call(this,a,b);new ct(0,new Ys(b))}v(Jw,Iw);Jw.prototype.xa=function(a,b){switch(a.L()){case "append-template-commands":b=X(b,"TemplateCommands");a.A&&zn(b,[a.g],[a.g,[]]);for(var c=a.v,d=0;d<c.length;++d){for(var e=b,f=a.g,g=c[d],l=g.Aa(),n=[],u=0;u<l.length;++u)n.push(this.cb.ka(l[u]));f=bt(f,g.o,g.g,g.j,g.v,n);et(e,f.g)}break;default:throw Error("Unsupported operation type "+a.L());}};function Kw(a){I.call(this);this.Hl=a}v(Kw,hu);k=Kw.prototype;k.wa=function(){return["templateCreationMetadata","templateMetadata"]};k.Ba=function(a){return"templateCreationMetadata"==a.A?[a.getId()]:[a.getId()]};k.Ya=function(a){var b=Kw.J.Ya.call(this,a);"templateCreationMetadata"==a.A&&(a=this.Bb(a.Ta()).ce(a),b=b.concat(a));return b};k.Bb=function(a){var b=this.Hl[a];if(!b)throw Error("No adapter found for this type: "+a);return b};
k.ta=function(a){return"append-template-commands"==a.L()?!0:Kw.J.ta.call(this,a)};function Lw(a,b,c){Kw.call(this,c);this.o=a;this.A=new Zv}v(Lw,Kw);function Mw(a,b,c){c=Qt(a.o,["TemplateMetadata"],"Reading all template metadata",c);Cn(c,"TemplateMetadata",r(a.g,a),function(a){for(var c={},d=0;d<a.length;d++){var g=a[d];c[g.getId()]=g}b(c)},void 0,void 0,void 0,void 0,void 0,!0)}
Lw.prototype.g=function(a){return new Gw(a.id,a.title,a.style,a.category,a.locale,a.creator,a.thumbnailUrl,a.documentType,a.lastModifiedTimestamp,a.fontFamilies,a.brandedAuthor,a.brandedUrl,a.masterTemplate,!!a.isThumbnailReady,!!a.isReady,!!a.isDirty,!1)};Lw.prototype.Ca=function(){return["TemplateCommands","TemplateCreationMetadata","TemplateMetadata"]};
Lw.prototype.xa=function(a,b){var c=a.A;switch(c){case "templateMetadata":c="TemplateMetadata";break;case "templateCreationMetadata":c="TemplateCreationMetadata";break;default:throw Error("Record type "+c+" not supported.");}c=X(b,c);switch(a.L()){case "update-record":a.j?et(c,a.g):mu(this.A,eu(a),a.g,c);break;case "delete-record":zn(c,eu(a));break;case "append-template-commands":this.Bb(a.Ta()).xa(a,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Nw(a,b,c,d,e,f){Ew.call(this,a,b,d,e,f);a=["kix","punch","ritz"];b=this.j;if(!c)for(c={},d=new Ls,e=0;e<a.length;e++)c[a[e]]=new Jw(a[e],d);this.ia=new Lw(b,0,c);Zu(this,this.ia)}v(Nw,Ew);k=Nw.prototype;k.Pc=ca(8);k.oe=h("ia");k.Yd=ca(!0);k.Lc=function(a){Nw.J.Lc.call(this,a);Ow(a)};k.Jf=function(a){Ow(a)};
function Ow(a){a=a.db;a.createObjectStore("TemplateMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCreationMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCommands",{keyPath:"dcKey"})};function Pw(a,b,c,d,e,f,g,l){E.call(this);this.v=a;this.C=b;this.B=c;this.D=d;this.I=e;this.G=f;this.M=!!g;this.j=l||null;this.g={};this.oa={};this.A=-1;this.o=new T;this.H=!1}v(Pw,E);function Qw(a,b){var c=b.Pc();a.A=Math.max(a.A,c);a.g[c]=b}k=Pw.prototype;
k.create=function(a,b){if(this.H)throw Error("The create method can be called only once.");this.H=!0;if(isNaN(this.I))throw Error("Cannot have the target schema version be NaN.");if(this.j)this.Gg(this.j);else{if(!oc)throw Error("Cannot create storage adapters for unsupported browser");Tt(r(this.Gg,this),a,this.v,r(this.Gj,this),this.M,b)}return this.o};k.Gj=function(a){this.o.R(a);Rw(this)};
k.Gg=function(a){this.j=a;if(this.D)for(var b=this.D(a),c=0;c<b.length;c++)for(var d=b[c],e=d.Ik,f=d.fj,g=d.Ta();e<=f;++e){var l=this.oa[e];l||(l=this.oa[e]={});l[g]=d}-1==this.A&&(Qw(this,new xw(a,this.oa[6]||{},this.C,this.B,this.v)),Qw(this,new Ew(a,this.oa[7]||{},this.C,this.B,this.v)),Qw(this,new Nw(a,this.oa[8]||{},null,this.C,this.B,this.v)));a=Math.min(this.I,this.A);b=Sw(this);if(!this.G&&0>=b)this.gg(new rn(4,"Schema initialization cannot be performed when schema updates are prevented."));
else if(!this.G||b>=a)this.te();else{a:{for(c=b+1;c<=a;++c)if(null==this.g[c]||!this.g[c].Yd()){c=!1;break a}c=!0}if(c)Tw(this,b+1,a,r(this.te,this,null),r(this.Ak,this));else{a=this.g[a];b=r(this.te,this);c=r(this.gg,this);d=a.Pc();if(Pt(a.j)>=d)throw Error("Database already at expected version.");Rt(a.j,d,r(a.wk,a,c),Fn("Error initializing the database.",c),b)}}};k.Ak=function(a){this.o.R(a);Rw(this)};k.gg=function(a){this.o.R(a);Rw(this)};
function Tw(a,b,c,d,e){var f=a.g[b];a=r(a.Ti,a,b,c,d,e);Rt(f.j,f.Pc(),r(f.vk,f,e),Fn("Error upgrading the database.",e),a)}k.Ti=function(a,b,c,d){a=Sw(this);a==b?c():Tw(this,a+1,b,c,d)};k.te=function(){var a=Sw(this);if(a=this.g[a]){a=new gt(a);F(a,this.j);for(var b in this.g)F(a,this.g[b]);for(b in this.oa){var c=this.oa[b],d;for(d in c)F(a,c[d])}this.o.K(a)}else bo(this.v,Error("Local Storage: No schema adapter for current schema version "+(this.j?Pt(this.j):-1))),this.o.K(null)};
function Sw(a){var b=a.j?Pt(a.j):-1;1<b&&6>b&&bo(a.v,Error("IDB version less than the minimum. version: "+b));return 6>b?-1:b}function Rw(a){for(var b in a.g)a.g[b].Z();for(b in a.oa){var c=a.oa[b],d;for(d in c)c[d].Z()}G(a.j)};function Uw(a,b,c,d){this.B=a;this.o=b;this.C=c?c:"DefaultLocalStoreSessionId";this.A=d||new Ls;this.j=null;this.v=new W(this);F(this,this.v);this.g=Vw(this)}v(Uw,E);function Vw(a){a.g&&G(a.g);var b=Uf(J(),"lssv");return new Pw(a.B,a.C,0,a.Vi.bind(a),b,!0)}function Ww(a){a.j||(a.j=Xw(a),vh(a.j,function(a){this.Gd();throw a;}.bind(a)));return a.j}
function Yw(a){return Ww(a).then(function(a){return(new S(function(b,d){dw(a.jc(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Vf(J(),"docs-offline-lsuid")?new Is(a):null}.bind(this))}.bind(a))}k=Uw.prototype;k.get=function(){return Yw(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.rg})};function Xw(a){return(new S(function(a,c){V(this.g.create(this.Gd.bind(this)),a,c)}.bind(a))).then(a.Xj.bind(a))}
k.Xj=function(a){if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.o){var b=new Hs(a,this.o);F(this,b)}if(a.j)throw Error("Called setWritable on an already writable localstore.");a.j=!0;this.v.listen(a,"K",this.Gd).listen(a,"J",this.Gd);return a};k.Gd=function(){G(this.g);this.g=Vw(this);this.j=null};k.Vi=function(){var a=this.A,b=new dt("kix",6,8,a),c=new dt("punch",6,8,a),d=new dt("ritz",6,8,a),a=new dt("drawing",6,8,a);return[d,b,c,a]};k.F=function(){G(this.g);Uw.J.F.call(this)};function Zw(a){switch(a){case 1:return 1;case 2:case 4:case 3:return 2;case 0:return 0;default:throw Error("No such access level.");}};function $w(){return ax(Gd(),bx("/synctaskworker.js",void 0),void 0,void 0)}function cx(){return ax(Gd(),bx("/taskiframe",void 0),void 0,void 0)}function bx(a,b){var c=Vf(J(),"docs-offline-ospp");return(b?c:"/offline")+a}function ax(a,b,c,d){var e=new Gi;Hi(e,m.location.href.match(Ed)[1]||null);Ii(e,a);e.g=b;a=Vf(J(),"docs-offline-lsuid");Vi(e,"ouid",a);if(d=!d)d="true"==(new Gi(m.location.href)).j.get("Debug");d&&(c?Vi(e,"jsmode","DU"):Vi(e,"Debug","true"));return e.toString()};function dx(a){this.g={};for(var b=0;b<a.length;b++)this.g[a[b]]=b}function ex(a,b){a=a.g[b];return p(a)?a:null};function fx(a,b,c,d,e){this.o=a;this.v=b;this.g=c;this.j=d;this.A=e}function gx(a,b,c,d){return new fx(a,b,c,!1,d)}fx.prototype.getId=h("o");function hx(){this.Sf=[];this.Xe={}};function ix(a){this.g=a}function jx(a){var b=[a.g.ml,a.g.nl,a.g.pl,a.g.ol],c=[5,6,7,8];return(new S(function(a,e){this.j(a,new hx,0,b,c,e)}.bind(a))).then(function(a){for(var b=[],c=a.Sf,d=0;d<c.length;d++){var l=c[d],n;n=l.getId();n=a.Xe[n];b.push(gx(l.getId(),l.L(),n,null))}return b})}ix.prototype.j=function(a,b,c,d,e,f,g){if(g)for(var l=e[c-1],n=0;n<g.length;n++){var u=b,y=g[n],D=l,U=y.getId();u.Xe[U]||(u.Sf.push(y),u.Xe[U]=D)}c<d.length?d[c].call(this.g,this.j.bind(this,a,b,c+1,d,e,f),f):a(b)};function kx(a,b,c,d){this.g=a;this.j=b;this.v=c;this.N=d;this.o={};for(a=0;a<c.length;a++)b=c[a],this.o[b.getId()]=b;this.W=Vb(z(this.j,4));this.A=lx(Gc(this.j,lr,3));this.H=[];this.C={};this.B=!1}
kx.prototype.Se=function(){if(this.B)throw Error("Trying to run AutoSyncDocSelector twice is not supported.");for(var a=0;a<this.N.length;a++)mx(this,this.N[a]);for(a=0;a<this.v.length;a++){var b=this.v[a];if(Uq(b,"inc")&&!Uq(b,"pendingCreation")&&null!==b.$a()){var c=b.getId(),b=b.L();mx(this,gx(c,b,5,null))}}a=nx(this.g);c=ox(this);for(b=0;b<a.length;b++){var d=a[b],e=this.o[d],f=5<=px(this.g,d),g=c[d];!f||g||e&&Uq(e,"ip")||mx(this,new fx(d,null,null,!0,null))}a=z(this.j,5)?lx(Gc(this.j,lr,2)):
null;c=nx(this.g);for(b=0;b<c.length;b++)d=c[b],e=this.o[d],f=px(this.g,d),g=d,g=nw(this.g.g)[g],g=null!=g?g.modelSyncFailCount:0,g=0<g&&f>g?11:0<g&&f<=g?9:10,5<=f||!e||(e=e.L(),f=(f=this.A[d]||a&&a[d])?z(f,4):qx(this.g,d),mx(this,gx(d,e,g,f||null)));rx(this);a=Gc(this.j,lr,2);for(c=0;c<a.length;c++)e=a[c],b=e.getId(),f=this.o[b],g=!f,d=z(e,4),!g&&!sx(f,e)||tx(this,b,d)||(e=f?f.L():ux(z(e,2)),mx(this,gx(b,e,12,d)));vx(this,this.v);this.B=!0;return this.H};
function mx(a,b){var c=b.getId();a.C[c]||(a.H.push(b),a.C[c]=!0)}function lx(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.getId()]=d}return b}function rx(a){vx(a,a.v.filter(function(a){return!!Uq(a,"ip")}))}function vx(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.getId(),f=a.A[e]||null,g=!!f,l=a.W[e],n=g?z(f,4):null;if(l||g&&sx(d,f)&&!tx(a,e,n))d=d.L(),mx(a,gx(e,d,12,n))}}function sx(a,b){b=z(b,4);var c=Rq(a,"lastModifiedServerTimestamp");return!!Uq(a,"ips")||null===c||b>c}
function tx(a,b,c){return 5<=px(a.g,b)&&qx(a.g,b)==c}function ux(a){switch(a){case 1:return"kix";case 3:return"punch";case 2:return"ritz";case 4:return"drawing";default:throw Error("Unexpected document type in autosync proto: "+a);}}function ox(a){return Vb(z(a.j,5)?Gc(a.j,lr,2).map(function(a){return a.getId()}):lw(a.g.g))};function wx(){this.j=!1}v(wx,E);wx.prototype.Se=function(){if(this.j)throw Error("Tasks can only be executed once.");this.j=!0;return this.g()};function xx(a,b,c,d,e,f){this.j=!1;this.C=a;this.v=b;this.B=c;this.o=d;this.H=e;this.A=f}v(xx,wx);
xx.prototype.g=function(){var a=new ir;A(a,1,this.o.g.S.lastSyncedChangestamp);var b=this.v.g.g;return oh([yx(this),jx(new ix(b))]).then(function(b){var c=b[0],e=b[1];return zx(this,a,c).then(function(a){var b=z(a,5)?new dx(Gc(a,lr,2).map(function(a){return a.getId()})):new dx(lw(this.o.g).reverse()),d=new kx(this.o,a,c,e);return this.B.start(d.Se(),b).then(function(){return Ax(this,a)}.bind(this)).then(function(){return Bx(this,b)}.bind(this))}.bind(this))}.bind(this))};
function yx(a){var b=a.v.g.g;return new S(function(a,d){xu(b,a,d)})}function Ax(a,b){Cx(a.o,z(b,1));Dx(a.o);z(b,5)&&(b=Gc(b,lr,2).map(function(a){return a.getId()}),kw(a.o.g,b.reverse()));return Ex(a.o)}function Bx(a,b){return yx(a).then(function(a){for(var c=0;c<a.length;c++){var e=a[c],f=ex(b,e.getId());zs(e,f)}return new S(function(b,c){this.v.write(a,b,c)}.bind(this))}.bind(a))}
function zx(a,b,c){return Tf(J(),"docs-offline-ecasq")?Fx(a).then(function(a){return Gx(this,a,c)}.bind(a)):Hx(a,b)}
function Hx(a,b){var c=bx("/autosync");return(new S(function(a,e){var d=b.ka();try{ul(pl(tl(sl(rl(Eo(this.H,c)).o(["autosyncRequest",d]),2),a),function(a){e(Error("Failed to fetch autosync request, net event type: "+a.type+", error code: "+a.errorCode+", http status: "+a.g));return!1}))}catch(g){throw g instanceof Error&&"URI malformed"==g.message&&Nn(this.C,Error("Detected URI malformed in auto sync request"),{serializedRequest:d}),g;}}.bind(a))).then(function(a){return new jr(a.La())})}
function Fx(a){return Fr(a.A).then(r(function(a){var b=new jr;A(b,1,0);a=a.ve();Ic(b,2,a);A(b,5,!0);return b},a))}function Gx(a,b,c){var d=[],e=Vb(qb(Gc(b,lr,2),function(a){return a.getId()}));ob(c,function(a){e[a.getId()]||d.push(a.getId())});return Ix(a,d).then(function(a){var c=Gc(a,lr,3);Ic(b,3,c);a=z(a,4);A(b,4,a||[]);return b})}function Ix(a,b){return Gr(a.A,b).then(function(a){var b=new jr,c=a.ve();Ic(b,3,c);a=z(a,2);A(b,4,a||[]);return b}.bind(a))};function Jx(a,b){this.o=a;this.v=b}v(Jx,wx);Jx.prototype.g=function(){var a=this.o.g.g;return(new S(function(b,c){Gu(a,b,c)})).then(function(){return new S(function(a,c){Kx(this.v,this.o,a,c)}.bind(this))}.bind(this)).then(function(){return this.o.g.A.$d()}.bind(this))};function Lx(a,b,c,d,e,f){this.A=a;this.g=b;this.o=c;this.C=d;this.j=e;this.v=f}function Mx(a){var b=lw(a.v.g),c=[];return Nx(a,b).then(function(a){c=c.concat(a);return Ox(this,[],b)}.bind(a)).then(function(a){c=c.concat(a);return Px(this,a.length,b.length)}.bind(a)).then(function(){return new S(function(a,b){Kx(this.o,this.g,a,b)}.bind(this))}.bind(a)).then(function(){return c})}function Qx(a){return Rx(a).then(function(a){return Sx(this,a)}.bind(a))}
function Px(a,b,c){return 0==b?kh():oh([Rx(a),Ir(a.j)]).then(function(a){var d=a[0];a=a[1];var f={};f.numDeletedRelevantDocs=b;f.numRelevantDocs=c;f.numLocalDocs=d.length;f.diskQuotaUsed=z(a,1);f.diskQuotaAvailable=z(a,2);Nn(this.A,Error("Deleted docs that were relevant during cleanup."),f)}.bind(a))}
function Sx(a,b){var c=Uf(J(),"docs-offline-mnd"),c=isNaN(c)?Number.MAX_VALUE:c;return c<b.length?kh(!0):Ir(a.j).then(function(a){var b=J(),c=Uf(b,"docs-offline-msq"),c=isNaN(c)?Number.MAX_VALUE:c,b=Uf(b,"docs-offline-msur"),b=isNaN(b)?1:b,d=z(a,1);a=z(a,2);return Math.min(c,b*(a+d))<d})}
function Nx(a,b){return Rx(a).then(function(a){return oh([kh(a),Sx(this,a)])}.bind(a)).then(function(a){var c=a[0];if(!a[1])return[];var e=Vb(b);a=c.filter(function(a){return!e[a.getId()]});return Tx(this,a)}.bind(a))}
function Ox(a,b,c){return Rx(a).then(function(a){return Sx(this,a)}.bind(a)).then(function(a){if(!a||!c.length)return b;var d=c.slice(0,10);c=c.slice(10);return(new S(function(a,b){var c=this.g.g.g;b=Qt(c.g,["Documents"],"Error reading documents.",b);c.yd(b,a,d)}.bind(this))).then(function(a){return Tx(this,a)}.bind(this)).then(function(a){return Ox(this,b.concat(a),c)}.bind(this))}.bind(a))}
function Tx(a,b){var c=kh(),d=b.filter(function(a){return!Uq(a,"ip")});b=d.length;for(var e=0;e<b;e++)var f=d[e],c=c.then(function(){return Ux(this.C)}.bind(a)).then(a.B.bind(a,f,e+1,b));return c.then(function(){return d.map(function(a){return a.getId()})})}function Rx(a){return new S(function(a,c){wu(this.g.g.g,null,a,c)}.bind(a))}Lx.prototype.B=function(a){Oq(a);return(new S(function(b,c){this.g.write([a],b,c)}.bind(this))).then(function(){a.getId()}.bind(this),function(){a.getId()}.bind(this))};function Vx(a,b,c){E.call(this);this.v=a;this.o=b;this.B=c||null;this.g=[];this.j=new W(this);F(this,this.j);this.j.listen(this.v,"broadcast-message",this.A)}v(Vx,E);Vx.prototype.listen=function(a,b){this.g.push(new Wx(a,b));return this};Vx.prototype.A=function(a){for(var b=0;b<this.g.length;b++){var c=this.g[b];this.o&&this.o!=a.channel||c.g!=a.g||c.Pb.call(this.B,a.data,a.channel)}};Vx.prototype.Bc=function(a,b){yb(this.g,function(c){return c.g==a&&c.Pb==b});return this};
function Wx(a,b){this.g=a;this.Pb=b};function Xx(a,b){E.call(this);this.v=a;this.j=b;this.o=new Vx(this.j,is(),this);F(this,this.o);this.g=qh()}v(Xx,E);Xx.prototype.A=function(a){z(a,1)==this.v&&this.g.resolve(!0)};Xx.prototype.start=function(){this.j.connect();this.o.listen(Pr,this.A);var a=fj(r(this.g.resolve,this.g,!1),15E3),b=new Kr,c=new Mr;A(c,1,this.v);b.Jd(Nr,c);gs(this.j,b);return th(this.g.g,r(function(){this.o.Bc(Pr,this.A);gj(a)},this))};function Yx(a,b){E.call(this);this.j=a;this.g=b}v(Yx,E);function Zx(a,b){return(new S(function(a,d){var c=this.j.g.A.Eb,f=X(gv(c,void 0,d),"DocumentLocks").get([b]);Bn(f,r(c.lk,c,a));d&&tt(f,Cd(d))}.bind(a))).then(function(a){switch(a){case "available":return!0;case "unavailable":return!1;case "expiredOtherSid":return a=new Xx(b,this.g),F(this,a),a.start().then(function(a){return!a});default:throw Error("Unexpected lock state result: "+a);}}.bind(a))};function $x(a,b,c,d){this.B=a;this.o=b;this.A=c;this.C=d;this.v=new Yx(this.o,this.C);F(this,this.v)}v($x,wx);$x.prototype.g=function(){return ay(this).then(function(a){return ph(a.filter(this.H.bind(this)).map(this.D.bind(this)))}.bind(this)).then(function(){return new S(function(a,b){Kx(this.A,this.o,a,b)}.bind(this))}.bind(this))};$x.prototype.H=function(a){var b=!a.$a()&&!Uq(a,"ip");return!!Uq(a,"pendingCreation")||b};
function ay(a){return new S(function(a,c){wu(this.o.g.g,null,a,c)}.bind(a))}$x.prototype.D=function(a){return Zx(this.v,a.getId()).then(function(b){if(b)return Oq(a),(new S(function(b,d){this.o.write([a],b,d)}.bind(this))).then(function(){a.getId()}.bind(this),function(b){Nn(this.B,$g(b instanceof Error?b:Error(b),"Could not delete document"),{docId:a.getId()})}.bind(this))}.bind(this))};function by(a){a.prototype.docs_permanent_error_checker_817115=!0};function cy(a,b,c){H.call(this,"Q");this.Df=a;this.g=b;this.message=c}v(cy,H);by(cy);var dy={jn:1,An:2,lp:3,Jq:4,gf:5,cr:6,ci:7,pi:8,ri:9,io:10,xq:11,ff:12};cy.prototype.j=function(){switch(this.g){case dy.gf:case dy.ff:return!0;default:return!1}};function ey(a,b,c,d,e,f){E.call(this);this.I=a;this.C=b;this.H=c;this.M=d;this.v=e;this.o=[];this.j=[];this.g=f;this.B=null;this.D=!1;this.A=null;this.G=new Yx(this.v,this.H);F(this,this.G)}v(ey,E);
ey.prototype.start=function(a,b){this.B=b||new dx(lw(this.g.g).reverse());var c={};this.j=a.filter(function(a){a=a.getId();return c[a]?!1:c[a]=!0});if(!this.j.length)return kh([]);this.o=[];return th(fy(this).then(function(){for(var a=0,b=0;b<this.o.length;b++)"failure"==this.o[b].state&&a++;return this.o}.bind(this)),function(){return Ex(this.g)}.bind(this))};
function fy(a){if(!a.j.length)return gy(a);var b=kh();0==a.o.length%10&&(b=gy(a));return b.then(function(){if(this.j.length)return hy(this,this.j.shift()).then(function(){return fy(this)}.bind(this))}.bind(a))}
function gy(a){return Mx(a.C).then(function(a){return oh([kh(a),Qx(this.C)])}.bind(a)).then(function(a){var b=a[0];this.D=a[1];b.forEach(function(a){a=ex(this.B,a);null!=a&&(null==this.A||a<this.A)&&(this.A=a)}.bind(this));var d=Vb(b);this.j=this.j.filter(function(a){return!d[a.getId()]})}.bind(a))}
function hy(a,b){var c=b.getId();return Ux(a.M).then(function(){return Zx(this.G,c)}.bind(a)).then(function(a){if(!a)return"lock_not_available";var c=b.getId(),d=this.v.g.g;return(new S(function(a,b){yu(d,c,a,b)})).then(function(a){if(b.j)a=iy(this,c,a);else{var d=b.getId(),d=ex(this.B,d),e=12==b.g&&(!a||!Uq(a,"ip"));a=(this.D||null!=this.A&&null!=d&&d>this.A)&&e?iy(this,c,a):a&&Uq(a,"inc")&&null===a.$a()?kh():jy(this,b,a)}return a}.bind(this))}.bind(a)).then(function(a){this.o.push(new ky(a))}.bind(a),
function(a){this.o.push(new ky("failure"));throw a;}.bind(a))}function jy(a,b,c){var d=b.getId();if(!c){var e=b.v;if(!e)return kh("failure");c=a.v.g.g.createDocument(d,e);Vq(c,"hpmdo",!0)}e=b.g;zs(c,ex(a.B,d));return vh(ly(a.I,a.v,c,null,null,!0,!0,e).then(function(){mw(this.g.g,d);return Ex(this.g)}.bind(a)).then(function(){var a=new Kr,b=new Qr;A(b,1,d);a.Jd(Rr,b);gs(this.H,a);return"success"}.bind(a)),function(a){return my(this,b,c,a).then(ca("failure"))}.bind(a))}
function iy(a,b,c){return vh((new S(function(a,b){c||a();Oq(c);this.v.write([c],a,b)}.bind(a))).then(function(){mw(this.g.g,b);return Ex(this.g)}.bind(a)).then(ca("success")),ca("failure").bind(a))}
function my(a,b,c,d){if(d&&d instanceof cy){d=d.g==dy.ci||d.g==dy.ff;b.getId();c=Rq(c,"lastModifiedServerTimestamp")||b.A||-1;b=b.getId();var e=a.g.g,f=nw(e),g=f[b],l={};l.count=g?g.count+1:1;l.modelSyncFailCount=(g?g.modelSyncFailCount:0)+(d?1:0);l.serverTime=c;f[b]=l;Z(e,"failedToSyncDocs",f);return Ex(a.g)}if(!(d instanceof Error))throw Error("Unknown Error: "+d);throw d;}function ky(a){this.state=a};function ny(a,b,c){this.g=a;this.j=b;this.o=p(c)?c:!1}function oy(a,b){var c=a.g.ne();return(new S(function(a,b){qw(c,a,b)})).then(function(c){return new ny(c||new jw(!0),a,b)})}function Ex(a){return a.o?kh():py(a)}function Cx(a,b){Z(a.g,"lastSyncedChangestamp",b)}function px(a,b){a=nw(a.g)[b];return null!=a?a.count:0}function qx(a,b){a=nw(a.g)[b];return null!=a?a.serverTime:0}function Dx(a){var b=t();Z(a.g,"lastSyncTimestamp",b)}function nx(a){a=nw(a.g);return Lb(a)}
function py(a){return new S(function(a,c){this.j.write([this.g],a,c)}.bind(a))};function qy(a){E.call(this);this.g=[];this.j=new ij(this.o,a||500,this);F(this,this.j)}v(qy,E);function Ux(a){var b=qh();a.g.push(b);a.j.Mb();return b.g}qy.prototype.o=function(){var a=this.g.shift();this.g.length&&this.j.Mb();a.resolve()};function ry(a){this.g=a}function ly(a,b,c,d,e,f,g,l){return new S(function(a,u){sy(this.g,b,c,a,u,d,e,f,g,l).Ia()},a)};function ty(a){this.j=!1;this.o=a}v(ty,wx);ty.prototype.g=function(){return new S(r(function(a,b){uy(this.o,a,b)},this))};function vy(a,b){this.v=a;this.o=b}v(vy,wx);vy.prototype.g=function(){return jx(new ix(this.v.g.g)).then(this.o.start.bind(this.o))};function wy(a,b){this.j=!1;this.o=a;this.v=b}v(wy,wx);wy.prototype.g=function(){var a=this.v.g.map(r(function(a){var b=qh(),d=this.o,e=La(this.A,b,a);if(d.g.Yb()){var f=a.re,g=r(a.Uf,a,d,e,null);a=r(a.Uf,a,d,e,null,null);(e=d.g.Yb())?Nu(e,f.Sa,r(f.v,f,d,g,a),r(f.j,f,a)):g(0)}else e(0,!0);return b.g},this));return ph(a).then(function(a){for(var b=!0,d=0;d<a.length;d++)a[d].qd||(b=!1);if(!b)throw Error("Metadata task failed.");}.bind(this))};
wy.prototype.A=function(a,b,c,d){d&&null!==c||a.reject(Error("Fetcher "+b+" failed to sync metadata.metadataWriteSuccess: "+d+", docIdsSyncedFailure: "+(null===c)));a.resolve()};function xy(a,b){this.v=a;this.o=b}v(xy,wx);xy.prototype.g=function(){var a=this.o.map(function(a){return new fx(a,null,1,!1,null)});return this.v.start(a)};function yy(a,b,c){this.o=a||$e();a=J();this.v=b||Vf(a,"olbu");this.A=p(c)?c:Vf(a,"docs-offline-lsuid");this.j=this.g=null;this.B=new W(this);F(this,this.B);this.B.listen(m,"message",this.C)}v(yy,E);
yy.prototype.update=function(a){return this.v?this.g&&!a?kh():kh().then(function(){if(Tf(J(),"docs-offline-icoambu"))return zy(this)}.bind(this)).then(function(){if(this.g)if(a)Ay(this);else return kh();this.g=this.o.createElement("iframe");var b=qh();this.g.style.display="none";this.g.src=By(this);this.o.appendChild(this.o.g.body,this.g);hj().then(function(){b.reject("App cache updater timed out")});this.j=b;return this.j.g}.bind(this)):lh(Error("No base url provided."))};
function By(a){var b=Wd(a.v,"cacheupdate"),c={al:"1"};a.A&&(c.ouid=a.A);return Qd(b,c)}function zy(a){var b=qh(),c=new Sj;Ke(c,"complete",function(a){a=a.target.ba();200==a?b.resolve():b.reject(Error("Failed to invalidate appcache manifest, received "+a+" from POST request."));G(c)});Xj(c,1E4);c.send(Cy(a),"POST");return b.g}function Cy(a){var b=Wd(a.v,"common/manifest"),c={};c.ouid=a.A;return Qd(b,c)}
yy.prototype.C=function(a){a=a.g;new Gi(this.v);var b=m.location.protocol+"//"+m.location.hostname;if(a&&a.origin==b&&this.g&&a.source==this.g.contentWindow&&(a=a.data,this.j))switch(a){case "appcache-update-succeeded":this.j.resolve();break;case "appcache-update-failed":this.j.reject("At least one app cache failed.");break;default:throw Error("Received unexpected data: "+a);}};function Ay(a){a.g&&(a.o.j(a.g),a.g=null,a.j.reject("Removing updater frame"),a.j=null)}
yy.prototype.F=function(){Ay(this);yy.J.F.call(this)};function Dy(a){this.g=a}Dy.prototype.L=h("g");function Ey(){this.g="unknown"}v(Ey,Dy);function Fy(){this.g=[];this.j=[];this.o=[]}function Gy(a){Bb(a.o,["","/"])}function Hy(){};function Iy(a,b,c,d,e,f,g,l){this.g=a;this.j=l?Wd("//"+l,b):b}v(Iy,Dy);function Jy(a,b){return Wd(a.j,b)};function Ky(a,b,c,d){Iy.call(this,"trix",a,0,0,0,0,0,d)}v(Ky,Iy);var Ly=["/create"];function My(a){var b=new Fy;b.g.push(new Hy);b.g.push(new Hy);b.g.push(new Hy);a=a||J();Gy(b);Bb(b.j,Ly);return new Iy("kix",Vf(a,"kixOfflineUrl"),0,Tf(a,"udurls"),0,0,0,void 0)}function Ny(a){var b=new Fy;b.g.push(new Hy);b.g.push(new Hy);b.g.push(new Hy);Bb(b.j,Ly);a=a||J();return new Iy("drawing",Vf(a,"drawingsOfflineUrl"),0,Tf(a,"udurls"),0,0,0,void 0)}
function Oy(a){var b=new Fy;b.g.push(new Hy);b.g.push(new Hy);b.g.push(new Hy);Bb(b.j,Ly);b=new Fy;b.g.push(new Hy);a=a||J();Gy(b);return new Iy("punch",Vf(a,"punchOfflineUrl"),0,Tf(a,"udurls"),0,0,0,void 0)}function Py(a){var b=new Fy;a=a||J();Vf(a,"trixOfflineUrlSuffix");b.g.push(new Hy);return new Ky(Vf(a,"trixOfflineUrl"),0,Vf(a,"trixOnlineUrlSuffix"),void 0)}
function Qy(a){var b=new Fy;b.g.push(new Hy);b.g.push(new Hy);b.g.push(new Hy);a=a||J();Bb(b.j,Ly);Gy(b);return new Iy("ritz",Vf(a,"ritzOfflineUrl"),0,Tf(a,"udurls"),0,0,0,void 0)};function Ry(){this.g={}}function Sy(a,b){a=a.g[b];if(!a)throw Error("No offline URL adapter for documents of type "+b);return a};function Ty(){this.g={}};function Uy(a){this.g=a};function Vy(a,b){this.g=a;this.j=b}Vy.prototype.send=function(a,b){return this.g.send(Hc(a),b).then(function(a){return new fr(new this.j(a.message),a.ports)}.bind(this))};function Wy(a,b){gr.call(this,b);this.v=a}v(Wy,gr);Wy.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function Xy(a){x(this,a,0,-1,null)}v(Xy,w);function Yy(a){x(this,a,0,-1,null)}v(Yy,w);function Zy(a){x(this,a,0,-1,null)}v(Zy,w);Zy.prototype.L=function(){return z(this,1)};function $y(a){x(this,a,0,-1,null)}v($y,w);function az(a,b,c){this.v=a;this.j=b;this.g=c||m.navigator.serviceWorker;this.A=new W(this);F(this,this.A)}v(az,E);function bz(a){return a.g.getRegistration(a.j).then(function(a){if(!a)throw Error("Got null registration.");return a})}az.prototype.B=function(){return this.g?this.g.getRegistration(this.j).then(function(a){return!!a}):kh(!1)};az.prototype.unregister=function(){return bz(this).then(function(a){return a.unregister()})};
az.prototype.register=function(a){return this.g.register(a,{scope:this.j,useCache:!0}).then(void 0,r(function(a){this.v.log(a);throw a;},this))};function cz(a){var b=new Zy;A(b,1,1);return dz(a,b).then(a.o.bind(a))}az.prototype.o=function(a){var b=B(a,$y,2);(a=B(a,Yy,3))&&z(a,1);return b?z(b,1):!a};
function dz(a,b){return bz(a).then(function(a){vc(b);a=a.active||a.waiting||a.installing;if(!a)throw Error("No active, waiting or installing service worker, cannot send message of type "+b.L());return(new Vy(new Wy(a,3E5),Xy)).send(b).then(function(a){return a.message})}.bind(a))};function ez(a,b,c){this.g=a;this.j=b;this.o=c||null}ez.prototype.update=function(){return vh(fz(this).then(function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.enabled?b.push(gz(this,d)):b.push(hz(this,d))}return oh(b)}.bind(this)),function(a){this.g.log(a);throw a;}.bind(this))};
function fz(a){var b=cw(a.j.jc());return oh([iz(a),b]).then(function(a){var b=a[0];a=a[1];if(b&&a){var c=[],f;if(!(f=this.o)){var g=J();f=g||J();f=new Ry(Vf(f,"ondlburl"),Vf(f,"drdn"),Vf(f,"drcuap"));var l=new Ty,n=[];n.push(My(g));n.push(Ny(g));n.push(Oy(g));n.push(Py(g));n.push(Qy(g));n.push(new Ey);for(g=0;g<n.length;g++){var u=l,y=n[g],D=y.L();if(u.g[D])throw Error("Already have an adapter installed for type "+D);u.g[D]=y;u=f;y=n[g];D=y.L();if(u.g[D])throw Error("Already have an adapter installed for type "+
D);u.g[D]=y}f=new Uy(f)}for(l=0;l<b.length;l++)g=b[l].Ta(),n=jz(g),y=a.getId(),u=Sy(f.g,g),u=new Gi(Jy(u,"/serviceworker.js")),Ui(u,"ouid",encodeURIComponent(String(y))),u=u.toString(),g=(new Gi(Jy(Sy(f.g,g),"/"))).toString(),c.push(new kz(this.g,u,g,n,!0));return c=c.concat(lz(this,a))}}.bind(a))}
function iz(a){return new S(function(a,c){var b=this.j.g.Yb();c=Qt(b.g,["ApplicationMetadata"],"Error reading application metadata.",c);Cn(c,"ApplicationMetadata",r(b.o,b),a,void 0,void 0,void 0,void 0,void 0,!0)}.bind(a))}function jz(a){var b=J();switch(a){case "kix":return Tf(b,"docs-sw-eksw");case "ritz":return Tf(b,"docs-sw-ersw");case "punch":case "drawing":return Tf(b,"docs-sw-epsw");default:return!1}}
function lz(a,b){var c=J(),d=[];d.push(mz(a,b,Tf(c,"docs-sw-eposw")));d.push(mz(a,b,Tf(c,"docs-sw-ecosw"),"/corp"));d.push(mz(a,b,Tf(c,"docs-sw-esosw"),"/scary"));return d}function mz(a,b,c,d){var e=(d||"")+"/_/offline/";b=Ui(new Gi((d||"")+"/_/offline/serviceworker.js"),"ouid",b.getId()).toString();return new kz(a.g,b,e,c,!1)}
function gz(a,b){var c=new az(b.j,b.o);return kh().then(function(){return c.register(b.g)}).then(function(){var a;b.v?(a=new Zy,A(a,1,0),a=dz(c,a).then(c.o.bind(c))):a=kh(!0);return a}).then(function(a){if(!a)throw Error("Error while updating worker: "+b.g);}.bind(a))}
function hz(a,b){var c=new az(b.j,b.o);return kh().then(r(c.B,c,b.g)).then(function(a){return a?cz(c).then(function(a){a||this.g.log(Error("Error while removing caches before deleting: "+b.g))}.bind(this)).then(function(){return c.unregister()}.bind(this)):Promise.resolve(void 0)}.bind(a))}function kz(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.enabled=d;this.v=e};function nz(a,b){this.j=!1;this.o=new yy;F(this,this.o);this.v=new ez(a,b)}v(nz,wx);nz.prototype.g=function(){var a=this,b=this.v.update(!0);return ph([b]).then(function(){var c=a.o.update(!0);return ph([c]).then(function(){return oh([b,c])})})};function oz(a){return(a=a.exec(Wb))?a[1]:""}var pz=function(){if(kc)return oz(/Firefox\/([0-9.]+)/);if(oc)return oz(/Chrome\/([0-9.]+)/);if(pc&&!bc())return oz(/Version\/([0-9.]+)/);if(lc||mc){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Wb);if(a)return a[1]+"."+a[2]}else if(nc)return(a=oz(/Android\s+([0-9.]+)/))?a:oz(/Version\/([0-9.]+)/);return""}();function qz(a){var b={Pi:!0},c=b.document||document,d;a instanceof ce&&a.constructor===ce&&a.j===de?d=a.g:(Aa(a),d="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={Lg:e,za:void 0};var f=new T(rz,a),g=null,l=null!=b.timeout?b.timeout:5E3;0<l&&(g=window.setTimeout(function(){sz(e,!0);f.R(new tz(1,"Timeout reached for loading script "+d))},l),a.za=g);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(sz(e,b.Pi||!1,g),f.K(null))};
e.onerror=function(){sz(e,!0,g);f.R(new tz(0,"Error while loading script "+d))};a=b.attributes||{};Ub(a,{type:"text/javascript",charset:"UTF-8",src:d});bf(e,a);uz(c).appendChild(e);return f}function uz(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}function rz(){if(this&&this.Lg){var a=this.Lg;a&&"SCRIPT"==a.tagName&&sz(a,!0,this.za)}}
function sz(a,b,c){null!=c&&m.clearTimeout(c);a.onload=ya;a.onerror=ya;a.onreadystatechange=ya;b&&window.setTimeout(function(){ef(a)},0)}function tz(a,b){a="Jsloader error (code #"+a+")";b&&(a+=": "+b);Pa.call(this,a)}v(tz,Pa);function vz(){this.g=Vf(J(),"docs-extension-id")}function wz(a){return vh(new S(function(a,c){var b;b=new ce;b.g="chrome-extension://"+this.g+"/page_embed_script.js";b=qz(b);V(b,a,c)}.bind(a)),function(){m._docs_chrome_extension_exists=!1})};function xz(a){x(this,a,0,-1,yz)}v(xz,w);var yz=[2],Az={Bi:0,ti:1,ERROR:2,wi:3,Eh:4};function Bz(a){x(this,a,0,-1,null)}v(Bz,w);Bz.prototype.L=function(){return z(this,1)};function Cz(a,b){this.g=b}Cz.prototype.getUrl=h("g");function Dz(a,b){this.g=a;this.j=b}Dz.prototype.getId=h("g");function Ez(a){var b=new or;A(b,1,a);return b};function Fz(a){this.g=a;a=m.localStorage.getItem("docs-tasksStats_default")||"[]";var b;try{b=tc(a)}catch(e){b=[],m.localStorage.removeItem("docs-tasksStats_default"),Nn(this.g,$g(e,"Detected task stats corruption, resetting"))}a={};for(var c=0;c<b.length;c++){var d=new tr(b[c]);a[d.getId()]=d}this.j=a};function Gz(a){this.g=new T;this.j=fj(this.A,a,this);this.o=!1}Gz.prototype.V=function(a,b){this.g.V(a,b)};Gz.prototype.K=function(a){this.o||(gj(this.j),this.j=null,this.g.K(a))};Gz.prototype.v=function(a){this.o||(gj(this.j),this.j=null,this.g.R(a))};Gz.prototype.A=function(){this.o=!0;this.g.R("Deferred timed out.")};var Hz=window.navigator?window.navigator.webkitTemporaryStorage||null:null,Iz=window.navigator?window.navigator.webkitPersistentStorage||null:null;function Jz(a,b,c){var d="persistent"==a?Iz:Hz;d?d.queryUsageAndQuota(b,function(a){c("queryUsageAndQuota failed: "+a.code)}):m.webkitStorageInfo?(d=m.webkitStorageInfo,d.queryUsageAndQuota("persistent"==a?d.PERSISTENT:d.TEMPORARY,b,function(a){c("queryUsageAndQuota failed: "+a.code)})):c("webkitStorageInfo not available in this browser.")};function Kz(a){x(this,a,0,-1,null)}v(Kz,w);function Lz(a){x(this,a,0,-1,null)}v(Lz,w);function Mz(a,b,c){this.o=a;this.v=b;this.A=c;this.B=new vz}v(Mz,wx);Mz.prototype.g=function(){var a=this;return oh([Nz(this),Oz(this)]).then(function(b){var c=b[0],d=b[1];b=Pz(a.o.j,81002);var e=Qz(b);C(e,34,d);C(e,22,c);c=a.o;d=c.j;A(b.ha,6,d.j);b=Rz(b);d.g.g.push(b);d.o=!0;b=c.g;3<=b.g.g.aa()&&b.j.Mb()})};function Oz(a){var b=new xz,c=Sz(a);Ic(b,2,c);return Tz(a,b).then(function(){return b})}
function Sz(a){a=new Fz(a.v);var b=Sf.ua();Tf(b,"docs-dbsw");b=[];b.push(new Dz("metadata-sync",4,new Cz(0,$w(),Ez("metadata"))));b.push(new Dz("binary-sync",3,new Cz(0,cx(),Ez("offline_binary_sync"))));b.push(new Dz("drive-service-worker",13,new Cz(0,ax(Vf(J(),"drdn"),"/drive/serviceworker/update",!0),Ez("drive_service_worker_update"))));b.push(new Dz("homescreen-cello-sync",2,Uf(Sf.ua(),"docs-offline-scstpim"),new Cz(0,ax(Gd(),"/document/backgroundsync"),new or)));b.push(new Dz("drive-cello-sync",
1,Uf(Sf.ua(),"docs-offline-scstpim"),new Cz(0,ax(Vf(J(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new or)));b.push(new Dz("local-changes-sync",5,new Cz(0,$w(),Ez("local_changes_sync"))));b.push(new Dz("auto-sync",6,Uf(Sf.ua(),"docs-offline-sastpim"),new Cz(0,$w(),Ez("auto_sync"))));b.push(new Dz("webfonts-sync",8,new Cz(0,$w(),Ez("webfonts_sync"))));b.push(new Dz("impression-sync",7,new Cz(0,$w(),Ez("impressionSync"))));b.push(new Dz("document-deletion",9,new Cz(0,$w(),Ez("doc_deletion"))));
b.push(new Dz("update-unsaved-changes",10,new Cz(0,cx(),Ez("update_unsaved_changes"))));b.push(new Dz("cleanup-task",11,new Cz(0,cx(),Ez("cleanup"))));b.push(new Dz("report-task",14,new Cz(0,cx(),Ez("report"))));b.push(new Dz("kix-snapshot",12,new Cz(0,ax(Gd(),"/document/snapshot.js"),new or)));for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new Bz;A(f,1,e.j);e=e.getId();if(e=(e=a.j[e])?Rc(e):null){var g=Fc(e,2,0);A(f,2,g);g=Fc(e,3,0)-g;A(f,3,g);g=Uz(z(e,4));A(f,4,g);g=Fc(e,5,!1);A(f,5,g);e=Fc(e,6,
0);A(f,6,e)}c.push(f)}return c}function Tz(a,b){return wz(a.B).then(function(){var a=!!m._docs_chrome_extension_exists;A(b,3,a);a&&A(b,4,m._docs_chrome_extension_features_version||0);a=m.parent;A(b,5,a.parent.parent!=a.parent);var d=!1;try{d=-1!=a.parent.location.href.indexOf("/background?")}catch(e){}A(b,6,d)})}function Uz(a){switch(a){case 0:return Az.ti;case 1:return Az.ERROR;case 2:return Az.wi;case 3:return Az.Eh;default:return Az.Bi}}
function Nz(a){return oh([new S(function(a,c){Jz("persistent",function(b,c){a([b,c])},c)}),new S(function(a,c){Jz("temporary",function(b,c){a([b,c])},c)}),new S(function(b,c){xu(a.A.g.g,b,c)})]).then(function(a){var b=a[0][0],d=a[0][1],e=a[1][0],f=a[1][1];a=a[2];var g=new Kz,l=new Lz;A(l,1,Math.round(b/1048576));A(l,3,Math.round(d/1048576));A(l,2,Math.round(e/1048576));A(l,4,Math.round(f/1048576));A(l,5,a.length);C(g,1,l);return g})};function Vz(a,b,c,d,e){this.v=a;this.A=b;this.o=c;this.C=d;this.B=e}v(Vz,wx);Vz.prototype.g=function(){return(new S(function(a,b){yu(this.v.g.g,this.o,a,b)}.bind(this))).then(function(a){return a?ly(this.A,this.v,a,this.C,this.B,!1,!1,1):lh("Document "+this.o+" not found.")}.bind(this))};function Wz(a,b){this.v=a;this.o=b}v(Wz,wx);Wz.prototype.g=function(){return new S(function(a,b){Iu(this.v.g.g,this.o,a,b)}.bind(this))};function Xz(a){this.j=!1;this.o=a}v(Xz,wx);Xz.prototype.g=function(){return new S(r(function(a,b){V(this.o,function(c){c.Nf(a,b)},b)},this))};function Yz(a,b,c,d,e,f,g){this.j=a;this.g=c;this.o=this.g.o;this.C=new ry(this.g);this.v=b;this.B=new qy;F(this,this.B);this.M=d;this.G=e;this.D=f;this.I=g;this.A=new Co(new Wm);this.A.B=zo;a=Vf(J(),"docs-offline-lsuid");ho(this.A.j,"ouid",a);this.H=new W(this);F(this,this.H);this.H.listen(this.A.ba(),"H",this.O.bind(this))}v(Yz,E);function Zz(a,b){return kh().then(function(){return $z(this,b)}.bind(a)).then(function(a){F(this,a);return a.Se()}.bind(a))}
function $z(a,b){var c=z(b,1);switch(c){case "metadata":return a.o.get().then(function(a){return new wy(a,aA(this.g))}.bind(a));case "sync_doc":b=B(b,pr,2);var c=b.gb(),d=b.X(),e=z(b,2),f=z(b,3);b=new Uw(a.j,a.v,c);return b.get().then(function(a){return new Vz(a,this.C,d,e,f)}.bind(a));case "local_changes_sync":return a.o.get().then(function(a){return oy(a).then(function(b){b=bA(this,a,b);return new vy(a,b)}.bind(this))}.bind(a));case "multi_doc_sync":b=B(b,qr,3);var g=z(b,1),c=b.gb();b=new Uw(a.j,
a.v,c);return b.get().then(function(a){return oy(a,!0).then(function(b){b=bA(this,a,b);return new xy(b,g)}.bind(this))}.bind(a));case "impressionSync":return cA(a.g).then(function(){var a=this.g,b={},c;for(c in a.j){var d=a.j[c];if(d.g.A){var d=new dA(eA(d)),e=fA(c);b[e]=d}}c=gA();b.offline=new hA(c);c=a.v.g.Of();if(!c)throw Error("impressionCapability should exist");return new ty(new iA(c,b,a.g))}.bind(a));case "webfonts_sync":return cA(a.g).then(function(){var a=this.g,b=a.v,c=b.Lb(),d=jA();if(null==
a.D){var e=a.v,f=new kA(eA(a.j.kix),a.g,{}),g=e.Lb(),e=g?new lA(g,e,mA(a),a.g):null,e=Rh(e),e=new nA(new oA([pA(e),f]),e,0,!0);a.D=new qA(new rA(d,new sA,null,!1),e,new tA);a.G=f}d=uA(a);f=new T;f.V(r(a.I,a,b,c));Mh(d,f);return new Xz(f)}.bind(a));case "auto_sync":return a.o.get().then(function(a){return oy(a).then(function(b){var c=bA(this,a,b);return new xx(this.j,a,c,b,this.A,this.D)}.bind(this))}.bind(a));case "offline_binary_sync":return a.o.get().then(function(a){return new nz(this.j,a)}.bind(a));
case "doc_deletion":return a.o.get().then(function(a){return new $x(this.j,a,vA(this.g),this.v)}.bind(a));case "update_unsaved_changes":return a.o.get().then(function(a){return new Wz(a,this.j)}.bind(a));case "cleanup":return a.o.get().then(function(a){return new Jx(a,vA(this.g))}.bind(a));case "report":return a.o.get().then(function(a){return new Mz(this.I,this.j,a)}.bind(a));default:throw Error("Cannot handle task type "+c);}}
function bA(a,b,c){var d=new Lx(a.j,b,vA(a.g),a.B,a.G,c);return new ey(a.C,d,a.v,a.B,b,c)}Yz.prototype.O=function(a){a.g==vo&&(a=new ur,A(a,1,4),this.M.send(a))};function wA(a){this.g=new Vy(a,wr)}wA.prototype.send=function(a,b){return this.g.send(a,b).then(function(a){return z(a.message,1)?lh(z(a.message,1)):a})};function xA(a,b,c){this.g=a;this.v=b;this.o=null;this.j=new W(this);F(this,this.j);this.A=c;this.j.listen(this.g,"B",this.C)}v(xA,E);xA.prototype.start=function(a){this.o=a;m._docs_worker_handler_resolve(co(this.g,this.B,this))};xA.prototype.B=function(a){var b=this;if(a&&a.data&&a.ports&&a.ports.length){var c=a.ports[0];a=new mr(a.data);yA(this,a).then(function(a){return ph([ph(Sg(b.g.o.C)).then(),zA(b.v)]).then(function(){c.postMessage(Hc(a))})})}};
function yA(a,b){var c=b.L(),d=new nr;A(d,1,c);switch(c){case 0:return b=B(b,or,2),AA(a,b).then(function(a){C(d,2,a);return d});default:throw Error("Could not handle task request of type "+b.L());}}
function AA(a,b){var c=new sr,d=z(b,1);a.g.g.executingTaskType=d||"";return Zz(a.o,b).then(function(){A(c,1,0);return c}.bind(a),function(a){var b=this.g,d;if(a instanceof Error)d=a;else{d=Error;var e;e=q(a)?a:"with reason of type "+(a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a);d=d("Task execution failure "+e)}Nn(b,d);A(c,1,1);a&&a.docs_permanent_error_checker_817115&&
A(c,2,a.j());return c}.bind(a))}xA.prototype.C=function(a){var b=new ur;A(b,1,6);var c=new vr;A(c,1,a.error?a.error.message:"Unknown uncaught error in task.");C(b,3,c);th(ph(Sg(this.g.o.C)).then(),function(){return this.A.send(b)}.bind(this))};function BA(a,b,c){xA.call(this,a,b,c)}v(BA,xA);function CA(){var a=new Wn(0,"offlineCommon",void 0,0,!0,0,!0),b=Vf(J(),"buildLabel");Ta(b)||(a.g["build-label"]=b);var b=J(),c=m.applicationCache;c&&(a.g.appCacheStatusOnLoad=c.status);"docs-dbsw"in b.g&&(b=Tf(b,"docs-dbsw"),a.g.disabledSyncSharedWorker=b.toString());xa("navigator.serviceWorker.controller")?a.g.serviceWorkerControlled="true":a.g.serviceWorkerControlled="false";return a};function DA(a){x(this,a,0,-1,null)}v(DA,w);function EA(a){x(this,a,0,-1,null)}v(EA,w);function FA(a){x(this,a,0,-1,null)}v(FA,w);function GA(a){this.g=a.je;this.o=a.si;this.j=a.ei}GA.prototype.gb=h("o");function HA(a,b){E.call(this);this.A=a||null;this.j=Da(b)?b:null;a=J().get("ilcm");this.v=(a=null!=a?new GA(a,J().get("buildLabel")):null)?a.g:0;this.o=a?a.j:[];this.g=null}v(HA,E);HA.prototype.get=function(){if(this.g)return this.g;var a=new EA;A(a,1,"en");A(a,2,Wb);Da(this.j)&&A(a,11,this.j);var b=J(),c=new DA;A(c,2,!!this.A);b=Tf(b,"icso");A(c,1,b);C(a,5,c);A(a,9,this.v);c=new ld;A(c,1,this.o||[]);C(a,10,c);return this.g=a};function IA(a){x(this,a,0,25,JA)}v(IA,w);var JA=[3,20];IA.prototype.xc=function(a){A(this,11,a)};function KA(a,b){A(a,8,b)}function LA(a){x(this,a,0,-1,null)}v(LA,w);function MA(a){x(this,a,0,-1,null)}v(MA,w);function NA(a){x(this,a,0,-1,null)}v(NA,w);function OA(a){x(this,a,0,15,PA)}v(OA,w);var PA=[3,5];function QA(a){var b=t().toString();A(a,4,b)};function RA(a){this.g=a}RA.prototype.j=function(a){var b=new IA;KA(b,a.ka());this.g.log(b);this.g.j()};function SA(a){this.g=a}v(SA,Pa);function hA(a){this.j=a}hA.prototype.g=function(a){var b=new IA;KA(b,a.ka());this.j.log(b);return new S(function(a,b){this.j.D(a,b)}.bind(this))};function TA(a,b,c){this.o=a;this.v=b;this.j=c}TA.prototype.g=function(a,b,c){a=new Ru(this.j,this.v,t(),Hc(a),!0);this.o.write([a],b,c)};function UA(a,b){this.j=a;this.o=b}UA.prototype.g=function(a,b,c){Yw(this.j).then(r(function(d){d?(new TA(d.rg,this.o,null)).g(a,b,c):b()},this))};function VA(a,b,c){this.v=a;this.g=b;this.o=c}VA.prototype.j=function(a){return vh(this.v.g(a,this.g),function(b){if(!(b instanceof SA&&b.g))return WA(this,a)},this)};function WA(a,b){return new S(function(a,d){this.o.g(b,a,d)}.bind(a))};function fA(a){switch(a){case "kix":return"kix";case "drawing":return"drawing";case "punch":return"punch";case "ritz":return"ritz";default:throw Error("Could not convert document type "+a);}};function XA(){}XA.prototype.g=function(a,b){b()};function YA(a,b,c){a=new ej(a);F(c,a);var d=new W(c);F(c,d);d.listen(a,"tick",b);a.start()};function ZA(a,b,c,d){this.g=a;this.C=b;this.j=new ij(this.v,3E3,this);this.o=new Wg;this.B=d}v(ZA,E);ZA.prototype.v=function(){if(0!=this.g.g.aa()&&(!this.B||this.g.o)){var a=$A(this.g),b=this.C.j(a);b&&(th(b,r(function(){Qg(this.o.g,Yg(b))},this)),Xg(this.o,b))}};
ZA.prototype.A=function(){var a=this.g,b=Pz(a,1153),c;var d=a.C;c=Object.keys(d.g);if(0==c.length)c=null;else{for(var e=[],f=0;f<c.length;f++){var g=Number(c[f]),l=d.g[g],n=new aB;A(n,1,g);n.xc(z(l.ha,10));e.push(n)}c=e}d=a.v;e=c;A(b.ha,6,a.j);c=new bB;A(c,1,d);e&&Ic(c,2,e);d=Qz(b);C(d,3,c);cB(a,b);b=Rz(b);a.g.g.push(b);this.j.Mb()};function dB(a,b){this.j=a;this.g=b}function zA(a){a.g.v();return ph(Sg(a.g.o)).then()};function eB(){this.g={};this.Ii={};this.nf=null};function fB(a){x(this,a,0,-1,gB)}v(fB,w);var gB=[3];function hB(a){x(this,a,0,-1,null)}v(hB,w);function bB(a){x(this,a,0,-1,iB)}v(bB,w);var iB=[2];function aB(a){x(this,a,0,-1,null)}v(aB,w);aB.prototype.xc=function(a){A(this,2,a)};function jB(a){x(this,a,0,-1,null)}v(jB,w);function kB(a){x(this,a,0,-1,null)}v(kB,w);function lB(a){x(this,a,0,-1,null)}v(lB,w);function mB(a){x(this,a,0,-1,null)}v(mB,w);function nB(a){x(this,a,0,-1,null)}v(nB,w);nB.prototype.xc=function(a){A(this,10,a);return this};function oB(){this.g=[]}oB.prototype.aa=function(){return this.g.length};function pB(){this.Qe=this.ha=null}function Qz(a){var b=B(a.ha,jB,5);null==b&&(b=new jB,C(a.ha,5,b));return b}function Rz(a){z(a.ha,10);null!=z(a.ha,6)||z(a.ha,10);if(2==z(B(a.ha,kB,8),3)&&null!=z(a.ha,13)){var b=B(B(a.ha,kB,8),mB,2);z(b,2)}b=B(a.ha,jB,5);null!=b&&(b=Rc(b),C(a.ha,5,b));return a.ha};function qB(a){x(this,a,0,-1,null)}v(qB,w);function rB(a){x(this,a,0,-1,null)}v(rB,w);function sB(a){x(this,a,0,-1,null)}v(sB,w);function tB(a){x(this,a,0,-1,null)}v(tB,w);tB.prototype.gb=function(){return z(this,1)};function uB(a){x(this,a,0,-1,vB)}v(uB,w);var vB=[1];function wB(){this.g={}};function xB(a){this.g=a}xB.prototype.getId=h("g");function yB(){pB.call(this)}v(yB,pB);var zB=new xB("system_builder");yB.prototype.xc=function(a){this.ha.xc(a);A(this.ha,2,a);return this};function AB(a,b){this.A=a;this.N=b;this.B=1;this.v=this.j=null;this.C=new wB;this.g=new oB;this.o=!1}function Pz(a,b){var c=new pB,d=new nB,e=a.N;c.ha=d;c.Qe=e;zB.getId();zB.getId();d=new yB;e=c.Qe;d.ha=c.ha;d.Qe=e;b=d.xc(b);a=a.B++;var c=1E3*t(),e=new kB,f=new lB;A(f,1,c);C(e,1,f);A(e,3,1);C(b.ha,8,e);A(b.ha,12,a);A(b.ha,13,a);A(b.ha,4,c);A(b.ha,3,a);return d}
function $A(a){var b=a.g,c=b.g;b.g=[];b=a.A;a=new uB;var d=Rc(b.g);C(a,2,d);BB(b);(d=b.j?Rc(b.j):null)&&C(a,5,d);for(var e,f,d=c.length-1;0<=d;d--){var g=B(c[d],jB,5);if(g&&B(g,fB,1)){g=B(g,fB,1);p(z(g,12))&&!p(e)&&(e=z(g,12));g=B(g,hB,20);if(p(g)&&!p(f)){f=new FA;var l=z(g,2);p(l)&&A(f,2,l);g=z(g,1);p(g)&&A(f,1,g)}if(p(e)&&p(f))break}}d=b.o?Rc(b.o):null;if(p(e)||p(f))d||(d=new EA),p(e)&&A(d,6,e),p(f)&&C(d,13,f);(e=d)&&C(a,3,e);e=Rc(b.v);C(a,4,e);Ic(a,1,c);return a}
function cB(a,b){a.j=z(b.ha,12);a.v=z(B(B(b.ha,kB,8),lB,1),1)};function CB(){};function DB(){this.g=this.j=null};function EB(){this.g=new tB;this.j=null;this.v=new sB;A(this.v,1,6);this.o=null}function FB(a){null==a.j&&(a.j=new rB);return a.j}function BB(a){null!=z(a.g,1)&&null!=z(a.g,6)&&z(a.g,6)};function GB(){this.v=this.o=null;this.g=new EB;this.j=!1};function HB(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a&&"chrome-search"!==a)throw Error("Invalid URI scheme in origin");var c="",d=b.indexOf(":");if(-1!=d){var e=b.substring(d+
1),b=b.substring(0,d);if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};function IB(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;y=u=0}function b(a){for(var b=g,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];for(var d=e[1],f=e[2],l=e[3],n=e[4],u,y,c=0;80>c;c++)40>c?20>c?(u=l^d&(f^l),y=1518500249):(u=d^f^l,y=1859775393):60>c?(u=d&f|l&(d|f),y=2400959708):(u=d^f^l,y=3395469782),u=((a<<5|a>>>27)&4294967295)+u+n+y+b[c]&4294967295,
n=l,l=f,f=(d<<30|d>>>2)&4294967295,d=a,a=u;e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;e[3]=e[3]+l&4294967295;e[4]=e[4]+n&4294967295}function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,g=a.length;e<g;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==u)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,y+=64;for(;d<c;)if(f[u++]=a[d++],y++,64==u)for(u=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,y+=64}function d(){var a=[],d=8*y;56>u?c(l,56-u):c(l,
64-(u-56));for(var g=63;56<=g;g--)f[g]=d&255,d>>>=8;b(f);for(g=d=0;5>g;g++)for(var n=24;0<=n;n-=8)a[d++]=e[g]>>n&255;return a}for(var e=[],f=[],g=[],l=[128],n=1;64>n;++n)l[n]=0;var u,y;a();return{reset:a,update:c,digest:d,digestString:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};function JB(a,b,c){var d=[],e=[];if(1==(Ba(c)?2:1))return e=[b,a],ob(d,function(a){e.push(a)}),KB(e.join(" "));var f=[],g=[];ob(c,function(a){g.push(a.key);f.push(a.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];ob(d,function(a){e.push(a)});a=KB(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")}function KB(a){var b=IB();b.update(a);return b.digestString().toLowerCase()};function LB(a){var b=HB(String(m.location.href)),c=m.__OVERRIDE_SID;null==c&&(c=(new Rs(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?m.__SAPISID:m.__APISID,null==b&&(b=(new Rs(document)).get(c?"SAPISID":"APISID")),b)){var c=c?"SAPISIDHASH":"APISIDHASH",d=String(m.location.href);return d&&b&&c?[c,JB(HB(d),b,a||null)].join(" "):null}return null};function MB(){return!NB()&&(Zb("iPod")||Zb("iPhone")||Zb("Android")||Zb("IEMobile"))}function NB(){return Zb("iPad")||Zb("Android")&&!Zb("Mobile")||Zb("Silk")};var OB=!1,PB="";function QB(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")}
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(OB=!0,a.description)){PB=QB(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){OB=!0;PB="2.0.0.11";return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],OB=!(!a||!a.enabledPlugin))){PB=QB(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");OB=!0;PB=QB(b.GetVariable("$version"));
return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");OB=!0;PB="6.0.21";return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),OB=!0,PB=QB(b.GetVariable("$version"))}catch(c){}})();var RB=OB,SB=PB;var TB="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;/*


 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var UB;for(UB=0;256>UB;++UB)for(var VB=UB,WB=7,VB=VB>>>1;VB;VB>>>=1)--WB;var XB=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,
2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,
2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,
2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,
3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,
936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];TB&&new Uint32Array(XB);/*


 zlib.heap.js

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
/*


 JavaScript Inflate Library

 The MIT License

 Copyright (c) 2012 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
function YB(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,f,g,l,n,u,y,D;for(y=0;y<b;++y)a[y]>c&&(c=a[y]),a[y]<d&&(d=a[y]);d=1<<c;e=new (TB?Uint32Array:Array)(d);f=1;g=0;for(l=2;f<=c;){for(y=0;y<b;++y)if(a[y]===f){n=0;u=g;for(D=0;D<f;++D)n=n<<1|u&1,u>>=1;for(D=n;D<d;D+=l)e[D]=f<<16|y;++g}++f;g<<=1;l<<=1}};var ZB=[],$B;for($B=0;288>$B;$B++)switch(!0){case 143>=$B:ZB.push([$B+48,8]);break;case 255>=$B:ZB.push([$B-144+400,9]);break;case 279>=$B:ZB.push([$B-256+0,7]);break;case 287>=$B:ZB.push([$B-280+192,8]);break;default:throw Error("invalid literal: "+$B);}
var aC=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw Error("invalid length: "+a);}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<
24|d[1]<<16|d[0];return b}();TB&&new Uint32Array(aC);var bC=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];TB&&new Uint16Array(bC);var cC=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];TB&&new Uint16Array(cC);var dC=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];TB&&new Uint8Array(dC);var eC=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];TB&&new Uint16Array(eC);
var fC=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];TB&&new Uint8Array(fC);var gC=new (TB?Uint8Array:Array)(288),hC,iC;hC=0;for(iC=gC.length;hC<iC;++hC)gC[hC]=143>=hC?8:255>=hC?9:279>=hC?7:8;YB(gC);var jC=new (TB?Uint8Array:Array)(30),kC,lC;kC=0;for(lC=jC.length;kC<lC;++kC)jC[kC]=5;YB(jC);var mC=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];TB&&new Uint16Array(mC);var nC=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];TB&&new Uint16Array(nC);var oC=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];TB&&new Uint8Array(oC);var pC=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];TB&&new Uint16Array(pC);
var qC=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];TB&&new Uint8Array(qC);var rC=new (TB?Uint8Array:Array)(288),sC,tC;sC=0;for(tC=rC.length;sC<tC;++sC)rC[sC]=143>=sC?8:255>=sC?9:279>=sC?7:8;YB(rC);var uC=new (TB?Uint8Array:Array)(30),vC,wC;vC=0;for(wC=uC.length;vC<wC;++vC)uC[vC]=5;YB(uC);/*


 zlib.js
 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var xC=kc?"firefox":lc?"iphone":mc?"ipad":nc?"android":oc?"chrome":pc?"safari":"unknown";function yC(a,b,c){Wj(a.url,function(a){a=a.target;a.Db()?b():c(a.ba())},a.o,a.body,a.j,0,a.g)};function zC(a,b,c,d,e,f,g,l,n){I.call(this);this.P=a;this.O=b||ya;this.o=new OA;this.T=l||yC;this.g=[];this.I="";this.M=d||"https://play.google.com/log?format=json";this.G=c||null;this.B=n||null;this.U=!g;this.A=0;a=new NA;A(a,1,1);b=new MA;c=new LA;A(b,6,Zb("Android")?3:Zb("CrOS")?5:Zb("Windows")?2:Zb("iPad")?6:ac()?7:Zb("iPod")?8:Zb("Linux")?4:cc()?1:0);d=Wb;g="";Zb("Windows")?(g=/Windows (?:NT|Phone) ([0-9.]+)/,g=(d=g.exec(d))?d[1]:"0.0"):bc()?(g=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,g=(d=g.exec(d))&&
d[1].replace(/_/g,".")):cc()?(g=/Mac OS X ([0-9_.]+)/,g=(d=g.exec(d))?d[1].replace(/_/g,"."):"10"):Zb("Android")?(g=/Android\s+([^\);]+)(\)|;)/,g=(d=g.exec(d))&&d[1]):Zb("CrOS")&&(g=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,g=(d=g.exec(d))&&d[1]);A(b,2,g||"");A(b,3,MB()||NB()?NB()?2:MB()?1:0:3);e||(d=window,g=document.documentElement.getAttribute("lang"),A(b,5,g),d=Ud(d.location.href,"hl")||d.navigator.language||d.navigator.browserLanguage,A(c,1,d));A(c,2,xC);A(c,3,pz);RB&&A(c,4,SB);C(a,11,b);C(a,
9,c);C(this.o,1,a);A(this.o,2,this.P);this.C=new ej(6E4);F(this,this.C);Ke(this.C,"tick",Cd(this.D),!1,this);f||this.C.start();e||(Ke(window,"beforeunload",this.j,!1,this),Ke(window,"unload",this.j,!1,this),Ke(document,"pagehide",this.j,!1,this))}v(zC,I);zC.prototype.F=function(){this.j();zC.J.F.call(this)};zC.prototype.log=function(a){a=Rc(a);if(!z(a,1)){var b=a,c=t().toString();A(b,1,c)}for(;1E3<=this.g.length;)this.g.shift(),++this.A;this.g.push(a);this.dispatchEvent(new AC)};
zC.prototype.D=function(a,b){if(0==this.g.length)a&&a();else{var c=Rc(this.o);QA(c);Ic(c,3,this.g);A(c,14,this.A);var d={},e=this.O();e&&(d.Authorization=e);var f=this.M;this.G&&(d["X-Goog-AuthUser"]=this.G,f=Rd(f,"authuser",this.G));this.B&&(d["X-Goog-PageId"]=this.B,f=Rd(f,"pageId",this.B));if(e&&this.I==e)b&&b();else{this.g=[];this.A=0;var g=c.ka(),d={url:f,body:g,v:1,j:d,o:"POST",g:this.U},f=r(function(a){var d=Gc(c,IA,3);401==a&&e&&(this.I=e);if(401==a||500<=a&&600>a)this.g=d.concat(this.g);
b&&b()},this);this.T(d,function(){a&&a()},f)}}};zC.prototype.j=function(){this.D()};function AC(){this.type="event-logged"}v(AC,H);function BC(a,b,c,d,e,f){zC.call(this,a,LB,b,c,d,e,void 0,void 0,f)}v(BC,zC);function gA(){var a=J(),b=Tf(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,a=Vf(a,"gaia_session_id");return new BC(306,a||null,b,!(Fa(m)&&m.window==m)||!m.document||!m.document.documentElement,!0)};function dA(a){this.j=a}dA.prototype.g=function(a,b){return new S(function(c,d){var e=b?["id",b]:[];ul(ql(pl(tl(ol(sl(Do(this.j,"/logImpressions"),2).o(e),{impressionBatch:Hc(a)}),c),function(a){d(new SA("e"==a.type&&(!a.j||"e"==a.j)))})))},this)};function CC(a,b,c,d){this.v=a;this.o=b;this.g=c;this.j=d}k=CC.prototype;k.Nf=function(a,b){qw(this.g.g.ne(),r(this.Ni,this,a,b),b)};k.Ni=function(a,b,c){var d=Uf(J(),"owsprv");c||(c=new jw(!0));if(d&&c.S.webfontsSyncVersion!=d)d=this.o,a=r(this.yj,this,a,b,c),a=r(d.v,d,a,b),uw(d.j.Lb(),a,b);else{d=[];c=new T;wu(this.g.g.g,null,r(this.nj,this,c),b);d.push(c);if(c=this.g.g.oe()){var e=new T;Mw(c,r(this.oj,this,e),b);d.push(e)}(new Gn(d)).V(r(this.Fl,this,a,b))}};
k.yj=function(a,b,c){a=r(this.Nf,this,a,b);var d=Uf(J(),"owsprv")||0;Z(c,"webfontsSyncVersion",d);this.g.write([c],a,b)};k.nj=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=DC(this,b[d]);e&&c.push(e)}a.K(c)};k.oj=function(a,b){var c=[],d;for(d in b)c.push(Sb(b[d].S.fontFamilies));a.K(c)};function DC(a,b){b=Pq(b,"startupHints");if(!b)return null;b=b.fontFamilies;if(!b)return null;try{return tc(b)}catch(c){return bo(a.j,Error("Cannot parse font families on startup hints")),null}}
k.Fl=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];f[0]&&d.push(f[1])}d=Gb(d);Db(d);c=this.v;d=Ab(d);Bb(d,c.g);c.o&&(e=EC(c,FC),Bb(d,e),e=EC(c,GC),Bb(d,e));Db(d);a=r(c.D,c,a,b,d,!0);HC(c.A,["fonts"],"file",a)};function IC(a,b){this.g=a;this.j=!!b}IC.prototype.getId=h("g");function JC(a){this.g=a}function KC(a){return"Font|"+a.g+"|LATIN"};function qA(a,b,c){E.call(this);this.o=a;this.j=b;this.g=c}v(qA,E);
qA.prototype.fetch=function(a,b){for(var c=this.o,d=[],e=0;e<a.length;e++){var f=c.o.g(a[e]);LC(c,a[e].fontFamily,f)&&d.push(a[e])}a=[];for(c=0;c<d.length;c++)a.push(new IC(new JC(d[c].fontFamily),b));b=this.j;d=[];c=[];for(e=0;e<a.length;e++){var f=KC(a[e].getId()),g=b.g[f];g?g=g.Wb().V(r(b.Jk,b,a[e].getId())):(d.push(a[e]),b.g[f]=g=new T);c.push(g)}a=new T;V(new Gn(c),r(b.il,b,a),r(a.R,a));MC(b);if(d.length){c=b.B.fetch(d);e=[];for(f=0;f<d.length;f++)e.push(d[f].getId());V(c,r(b.Oj,b),r(b.qe,b,
"Entire fetch failed",e),b)}a.V(this.g.g,this.g);return a};function rA(a,b,c,d){this.v=a;this.o=b;this.g=c;this.j=d}rA.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=!!this.g&&this.g.lu(a[c]);LC(this,a[c],d)&&b.push(a[c])}return b};function LC(a,b,c){c=a.j||!c;return!a.v.g[b.toLowerCase()]&&c};function NC(a,b,c){this.o=a;this.j=b;this.g=c}NC.prototype.getId=h("o");function OC(a,b,c,d){this.o=a;this.j=b;this.g=c;this.v=!!d}OC.prototype.getId=h("o");function PC(a,b,c,d,e,f){this.o=a;this.j=b;this.v=c;this.A=d;this.B=e;this.g=f}PC.prototype.getStyle=h("A");function QC(a,b,c){this.o=a;this.j=b;this.g=c}QC.prototype.getUrl=h("o");function RC(){this.g={};this.j=0}k=RC.prototype;k.set=function(a,b,c){this.g[a]||(this.g[a]={});this.g[a][b]||this.j++;this.g[a][b]=c};k.get=function(a,b){return this.g[a]&&this.g[a][b]?this.g[a][b]:null};k.contains=function(a,b){return!!this.get(a,b)};k.ga=function(){var a=[],b;for(b in this.g)for(var c in this.g[b])a.push(this.g[b][c]);return a};k.aa=h("j");function SC(a,b){if(!Nb(TC,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.g=a;this.o=b}var TC={$s:"syncMap"};SC.prototype.L=function(){return this.g[0]};function UC(a,b,c){this.g=a;this.j=b;this.o=c};function VC(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new QC(b[d].url,!!b[d].isLocal,b[d].format));return new PC(a.fontFamily,a.subset,!!a.menuFont,a.style,a.weight,c)};function WC(a,b,c,d,e){this.A=a;this.v=b;this.j=c;this.g=d;a={};for(b=0;c=this.j[b];b++){d=0;for(var f;f=c.g[d];d++)if(!f.j){var g=f.getUrl(),l=XC[f.g],n;n=(new Gi(g)).j.get("kit");n||(n=this.g+"\\/([^/.&]+)"+l+"$",n=(n=g.match(n))&&2==n.length?n[1]:null);n||(n="(persistent\\/docs\\/fonts\\/)([^/.]+)("+l+")?$",n=(n=g.match(n))&&4==n.length?n[2]:null);if(!n&&(-1!=g.indexOf("file:///")||-1!=g.indexOf("LOCALFILE:"))){var u=g.split("/"),u=u[u.length-1].split(".");2==u.length&&"."+u[1]==l&&(n=u[0])}a[g]=
n?n+(l||""):null;l||e.log(Error("Missing font file extension for format "+f.g))}}this.o=a}var XC={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};WC.prototype.zb=function(a){return this==a?!0:!!a&&a instanceof WC&&this.g==a.g};function YC(a,b,c){SC.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.j=c}v(YC,SC);YC.prototype.get=function(a){return this.j[a]};YC.prototype.set=function(a,b){this.j[a]=b};function ZC(a){this.fontFamily=a}function $C(a){return qb(a,function(a){var b=a;a=a.split(";");a.length&&(b=a[0]);return new ZC(b)})};var FC=["syncMap","applicationFonts"],GC=["syncMap","preferences"].concat(["docs-fonts"]);function aD(a,b){for(var c=a.j,d=Xt(a),e=[],f=0;f<d.length;f++){for(var g=d[f],l=[],n=0;n<g.g.length;n++){var u=g.g[n];l.push(new QC(u.getUrl(),u.g,u.j))}e.push(new PC(g.j,g.A||"LATIN",g.o,g.getStyle(),g.B,l))}return new WC(c,a.o||"LATIN",e,a.S.version,b)}var bD=/\/fonts\/([^/]+)$/;function cD(a){return(a=a.match(bD))?a[1]:null};function dD(){this.g=new RC}dD.prototype.get=function(a,b){return this.g.get(a,b)};function eD(a,b){a.g.set(b.A,b.v,b)};function lA(a,b,c,d,e){this.A=a;this.j=b;this.v=c;this.o=d;this.g=e||new dD}k=lA.prototype;k.fetch=function(a){if(a.j)return a=new T,a.R(),a;a=a.getId();var b=a.g,c=new T,d=this.g.get(b,"LATIN");d?c.K(new NC(a,d,"sync-not-needed")):ww(this.A,[b],r(this.Pj,this,a,c),r(c.R,c,"Failed to read fontmetadata for "+b));return c};k.Pj=function(a,b,c){c&&c[0]?(c=aD(c[0],this.o),eD(this.g,c),b.K(new NC(a,c,"sync-not-needed"))):b.R("Failed to read fontmetadata.")};
k.Ia=function(a){var b=a.j,c=Tf(J(),"docs-efsls")||"LATIN"==b.v;if(!this.j.j||!c)return Rh(a);for(var c=b.j,d={},e=b.o,f=new T,g=0;g<c.length;g++)for(var l=c[g].g,n=0;n<l.length;n++){var u=l[n];if(!u.j){var y=e[u.getUrl()];if(!y)return f.R("Bad url "+u.getUrl()),f;d[y]=new OC(y,u.getUrl(),"")}}this.v.g(d,["fonts"],!1,r(this.yk,this,a,f,b));return f};
k.yk=function(a,b,c,d){if(0<d.cd||0<d.Kc||0<d.cd||0<d.Kc)b.K(a);else{var e=Sb(c);a=a.getId();var f=e.j;c=c.o;for(var g=0;g<f.length;g++)for(var l=f[g].g,n=0;n<l.length;n++){var u=l[n],y=c[u.getUrl()];if(!u.j&&y){y=d.v[y];if(!y)throw Error("Null local url for font file");l[n]=new QC(y,!1,u.g)}}d=[];f=e.j;for(c=0;c<f.length;c++){g=f[c];l=[];for(n=0;n<g.g.length;n++)u=g.g[n],l.push(new Yt(u.g,u.j,u.getUrl()));d.push(new Zt(g.o,g.j,g.v,g.getStyle(),g.B,l))}d=new Vt(e.A,e.v,e.g,d,!0);this.j.write([d],
r(this.Sj,this,a,b,e),r(b.R,b,"Failed to write updated fontMetadata for "+a.g))}};k.Sj=function(a,b,c){eD(this.g,c);b.K(new NC(a,c,"sync-not-needed"))};function sA(){}sA.prototype.g=Ad;function fD(a,b){for(var c={},d=0;d<a.length;d++){var e=KC(a[d].getId());c[e]=!0}for(d=0;d<b.length;d++)if(c[KC(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.g=a;this.j=b};function kA(a,b,c,d){this.v=a;this.o=b;this.j=d||null;this.g=new dD;if(c){a=gD(c,this.o).g;for(var e in a)for(var f in a[e])eD(this.g,a[e][f])}}
kA.prototype.fetch=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e].getId();b.push(f);var g=f.g,l=this.g.get(g,"LATIN");l?d.push(new NC(f,l,"sync-needed")):c.push(g)}a=new T;c.length?this.v&&(e=["families",c.join(",")],Tf(J(),"docs-efsd")&&(e=e.concat("useAllSubsets",!0)),b=nl(pl(tl(sl(Do(this.v,"/font/getmetadata"),2),r(this.A,this,a,b,d)),r(this.B,this,a,c)),Md(e)),this.j&&b.o("id",this.j),ul(b)):a.K(new fD(d,[]));return a};
kA.prototype.A=function(a,b,c,d){if(d=d.La()){var e=gD(d,this.o).g;d={};for(var f=0;f<b.length;f++){var g=b[f];d[KC(g)]=!1;var l=e[g.g],n;for(n in l){var u=l[n];eD(this.g,u);"LATIN"==n&&c.push(new NC(g,u,"sync-needed"))}}for(f=0;f<c.length;f++)d[KC(c[f].getId())]=!0;n=[];for(f=0;f<b.length;f++)d[KC(b[f])]||n.push(b[f]);a.K(new fD(c,n))}else a.R("No font response object.")};kA.prototype.B=function(a,b,c){a.R(Error("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};
function hD(a){this.g=a}function gD(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){var e=a[d],f,g=[];f=e.fontFaces;for(var l=0;l<f.length;l++)g.push(VC(f[l]));f=g;g={};for(l=0;l<f.length;l++){var n=f[l],u=n.j;null!=g[u]||(g[u]=[]);g[u].push(n)}null!=g.MENU&&(f=g.MENU[0],null!=g.LATIN&&g.LATIN.push(f),null!=g["*"]&&g["*"].push(f),delete g.MENU);c[d]={};for(u in g)c[d][u]=new WC(d,u,g[u],e.version,b)}return new hD(c)};var iD="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";"),jD={ar:"Arabic Typesetting;Sakkal Majalla;Simplified Arabic;Traditional Arabic;Al Bayan;Baghdad;DecoType Naskh;KufiStandardGK;Nadeem".split(";"),hi:["Aparajita","Kokila","Mangal","Utsaah","Devanagari MT"],iw:"Aharoni;David;FrankRuehl;Gisha;Levenim MT;Miriam;Narkisim;Rod;Arial Hebrew;Corsiva Hebrew;New Peninim MT;Raanana".split(";"),ja:"Meiryo;MS Gothic;MS Mincho;MS PGothic;MS PMincho;HiraMaruPro-W4;HiraMinPro-W3;HiraKakuPro-W3;HiraMaruProN-W4;HiraMinProN-W3;HiraKakuProN-W3".split(";"),
ko:"Batang;Batangche;Dotum;Dotumche;Gulim;Gulimche;Gungsuh;Malgun Gothic;GungSeo;HeadLineA;PCMyungjo;Pilgi".split(";"),th:"Angsana New;AngsanaUPC;Browallia New;BrowalliaUPC;Cordia New;CordiaUPC;DilleniaUPC;EucrosiaUPC;FreesiaUPC;IrisUPC;JasmineUPC;KodchiangUPC;Leelawadee;LilyUPC;TH Sarabun PSK;TH SarabunPSK;Ayuthaya;Krungthep;Sathu;Silom;Thonburi;Sarabun;TH Sarabun OFL".split(";"),"zh-cn":"SimSun;SimSun-ExtB;SimHei;NSimSun;Microsoft Yahei;FangSong;KaiTi;Hei;Heiti SC;Kai;STFangsong;STHeiti;STKaiti;STsong".split(";"),
"zh-tw":"PMingLiu;PMingLiu-ExtB;MingLiu;MingLiu-ExtB;Microsoft JhengHei;DFKai-SB;BiauKai;Heiti TC;LiHei Pro;LiSong Pro".split(";")};function kD(a){this.g={};for(var b=0;b<a.length;b++){var c=a[b];this.g[c.toLowerCase()]=c}}function jA(){var a=iD,b;for(b in jD)a=a.concat(jD[b]);return new kD(a)};function lD(a){this.g={};if(a)for(var b=0;b<a.length;b++)this.g[mD(a[b])]=null}var nD={};function mD(a){return a in nD||32==String(a).charCodeAt(0)?" "+a:a}function oD(a){return 32==a.charCodeAt(0)?a.substr(1):a}function pD(a,b){for(var c=0;c<b.length;c++)a.g[mD(b[c])]=null}k=lD.prototype;k.clone=function(){var a=new lD,b;for(b in this.g)a.g[b]=null;return a};k.contains=function(a){return mD(a)in this.g};k.zb=function(a){return qD(this,a)&&qD(a,this)};
k.forEach=function(a,b){for(var c in this.g)a.call(b,oD(c),void 0,this)};k.aa=Object.keys?function(){return Object.keys(this.g).length}:function(){var a=0,b;for(b in this.g)a++;return a};k.ga=Object.keys?function(){return Object.keys(this.g).map(oD,this)}:function(){var a=[],b;for(b in this.g)a.push(oD(b));return a};k.ca=function(){for(var a in this.g)return!1;return!0};function qD(a,b){for(var c in a.g)if(!(c in b.g))return!1;return!0}
function rD(a,b){for(var c=0;c<b.length;c++)delete a.g[mD(b[c])]}k.Ub=function(){return Jg(this.ga())};function sD(a,b){this.j=a;this.o=b}sD.prototype.v=function(a,b,c){tD(this,a,b,Kb(c))};function tD(a,b,c,d){for(var e=[],f=0;f<d.length;f++){Oq(d[f]);for(var g=[],l=Xt(d[f]),n=0;n<l.length;n++)for(var u=l[n].g,y=0;y<u.length;y++){var D=u[y];D.g||(D=cD(D.getUrl()))&&g.push(D)}Bb(e,g)}a.j.write(d,r(a.g,a,b,c,e),c)}sD.prototype.g=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=new T,g=this.o,l=r(f.K,f),n=r(f.R,f);V(Hl(g.pb,uD(["fonts"],c[e])),r(g.Hg,g,l,n),r(g.Fe,g,l,n));d.push(f)}V(Hn(d),a,b)};function vD(){E.call(this)}v(vD,E);function wD(a,b,c){var d=[],e=new T,f=new T;Nh(e,f);e.V(La(c,d));HC(a,b,"file",function(a){if(a)for(var c=0;c<a.length;c++)d.push(new xD(a[c],b));e.K()});HC(a,b,"directory",r(function(a){if(a&&a.length)for(var c=a.length,e=0;e<a.length;e++)wD(this,b.concat(a[e]),function(a){c--;Bb(d,a);0==c&&f.K()});else f.K()},a))}function xD(a,b){this.id=a;this.g=b}function yD(a,b){Pa.call(this,a);this.type=b}v(yD,Pa);function zD(a,b,c,d,e,f,g,l){this.N=a;this.j=b;this.C=c;this.B=d;this.g=e;this.A=f;this.v=g;this.o=l}function EC(a,b){a=a.o.get(b);b=[];for(var c=0;c<a.length;c++){var d;d=a[c];if("syncMap"!=d.L())d=[];else{var e=d.g;d=Eb(FC,e.slice(0,FC.length))?d.get("value")||[]:Eb(GC,e.slice(0,GC.length))?d.get("familyList")||[]:[]}Bb(b,d)}return b}zD.prototype.D=function(a,b,c,d,e){e=e||[];uw(this.N,r(this.W,this,a,b,c,d,e),b)};
zD.prototype.W=function(a,b,c,d,e,f){var g=new lD(this.g);pD(g,c);if(d){c=g.aa();for(var l=Lb(f),n=l.length-1;0<=n&&!(60<=c);n--){var u=l[n];g.contains(u)||(g.g[mD(u)]=null,c++)}}else pD(g,Lb(f));g=g.ga();c=[];for(l=0;l<g.length;l++)c.push(new IC(new JC(g[l])));V(this.C.fetch(c),r(this.G,this,a,b,g,d,e,f),b)};
zD.prototype.G=function(a,b,c,d,e,f,g){var l=g.g;g={};for(var n=0;n<l.length;n++){var u=l[n].j,y=l[n].getId();g[y.g]=u}u=new lD(c);y=new lD(e);n=[];l=[];c={};for(var D in f)if(d&&!u.contains(D))n.push(f[D]),delete f[D];else{var U=aD(f[D],this.v);c[D]=U;var U=U.o,Q;for(Q in U)if(U=cD(Q),!y.contains(U)){l.push(D);break}}d=new T;tD(this.j,r(d.K,d),r(d.R,d),n);for(D in g)U=c[D],f=g[D],U&&U.zb(f)||l.push(D);f=this.B.fetch($C(l),!0);d=Hn([f,d]);f={};for(D in g)f[D]=g[D];for(D in c)f[D]=c[D];V(d,r(this.H,
this,a,b,f,e),b)};zD.prototype.H=function(a,b,c,d){var e=this.j;if(d){var f=[],g;for(g in c){var l=c[g].o,n;for(n in l)f.push(l[n])}c=new lD(d);rD(c,f);e.g(a,b,c.ga())}else b(Error("No filesystem font files provided."))};Ma(aa().prototype,aa().prototype);function AD(a){this.j=!!a}AD.prototype.g=function(a,b,c,d){a=c.url;var e=Hd(m.location.href);Hd(a)!=e&&(a=Rd(a,"cb",e));e=c.entityType;b="drawing"==e&&this.j&&p(c.drawingRevision)?b+"_"+c.drawingRevision:b;d[b]=new OC(b,a,e,"image"==e)};function BD(a,b){var c=null,d=null;if(a.match("^data:")){c=a.split(",",2);d=c[0].split(";");if(!d||2>d.length||"base64"!=d[d.length-1])return Sh(Error("data URIs must be base64-encoded: "+a));d=d[0].split(":");d=2==d.length?d[1]:null;if(!d)return Sh(Error("data URIs must have mime type: "+a));c=c[1]}if(c&&d){a=m.atob(c);b=d;d=new Uint8Array(a.length);for(c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return Rh(new Blob([d],{type:b}))}d=new T;b=b?b():new Sj;Ke(b,"complete",La(CD,d));Xj(b,2E4);b.B="blob";
b.send(a,"GET");return d}function CD(a,b){b=b.target;var c=null,d=null;if(b.Db()){if(c=ek(b),null==c||0==c.size)d=Error("Invalid Blob response for URL "+String(b.I))}else d=Error(q(b.A)?b.A:String(b.A));d?a.R(d):a.K(c);b.Z()};function DD(a,b,c,d){E.call(this);this.j=b||null;this.v=c||"docs";this.o=p(d)?d:m.PERSISTENT;this.g=a}v(DD,vD);k=DD.prototype;k.pb=null;function ED(a,b,c){var d=new st(r(a.xk,a,"initialize"),3E4,document);d.start();V(Kh(FD(a),function(){d.Z()}),r(a.Rj,a,b,c),r(a.Ee,a,c,"initialize"))}function FD(a){switch(a.o){case m.PERSISTENT:return Pl(1);case m.TEMPORARY:return Pl(0);default:throw Error("Cannot handle Filesystem type: "+a.o);}}k.Ee=function(a,b,c){b=GD(b,c);bo(this.g,b);a(b)};
k.Za=function(a,b,c,d){a=GD(a,d);c&&ub(c,d.name)||bo(this.g,a);this.j&&this.j(a);b(a)};k.lg=function(a,b,c,d){(b=b.getError())?this.Za(a,c,null,b):d()};k.xk=function(a,b){var c={requestTimeout:3E4};c.timeoutDelays=b.g.concat().toString();bo(this.g,Error("Filesystem slowness, took 30000ms during "+a),c)};function GD(a,b){return new yD("Filesystem error ("+b.name+") during "+a,"QuotaExceededError"==b.name?"QuotaExceeded":"Other")}
k.Rj=function(a,b,c){V(Kl(new Gl(c,c.g.root),this.v,2),La(this.Kj,a,b),La(this.Ee,b,"handleFileSystemAvailable_"),this)};k.Kj=function(a,b,c){this.pb=c;V(Hl(c,"__initcheck",2),a,r(this.Ee,this,b,"handleDirectoryEntryAvailable_"))};function uD(a,b){(a=a.join("/"))&&(a+="/");b&&(a+=b);return a}k.lf=function(a,b,c,d,e,f){if(0==b.length)V(BD(c),r(this.ej,this,a,d,e),e);else{var g=b.shift();a=r(this.lf,this,a,b,c,d,e);V(Kl(f||this.pb,g,2),a,r(this.Za,this,"addFileToDirectory_",e,null))}};
k.ej=function(a,b,c,d){b=r(this.Nl,this,d,b,c);V(Hl(this.pb,a,2),b,r(this.Za,this,"handleBlobReady_",c,null))};k.Nl=function(a,b,c,d){V(Nl(d),r(this.Qi,this,a,b,c,d.g.toURL(void 0)),r(this.Za,this,"writeDataToFile_",c,null))};k.Qi=function(a,b,c,d,e){a=r(this.Ol,this,a,b,c,d,e);c=r(this.lg,this,"clearAndWriteDataToWriter_",e,c,a);De(e.v,"writeend",c,!0,void 0,void 0);try{e.o.truncate(0)}catch(f){throw new xl(f,"truncating file");}};
k.Ol=function(a,b,c,d,e){b=r(this.lg,this,"writeDataToWriter_",e,c,La(b,d));De(e.v,"writeend",b,!0,void 0,void 0);e.write(a)};k.Ek=function(a,b,c){"NotFoundError"==c.name?b():this.Za(a,b,null,c)};k.Ki=function(a,b){V(El(b),r(function(c){0<c.size?a(b.g.toURL(void 0)):(bo(this.g,Error("Found a zero byte file:"+b.g.name)),a(null))},this),r(this.Za,this,"callWithUrlFromFileEntry_",La(a,!1),null))};
function HC(a,b,c,d){var e="getDirectoryContents of directory ["+b+"]";V(Kl(a.pb,uD(b)),r(a.tj,a,c,d),r(a.Za,a,e,function(){d(null)},["NotFoundError"]))}k.tj=function(a,b,c){V(Ll(c),r(this.Lj,this,a,b),r(this.Za,this,"getDirectoryContents_",function(){b(null)},null))};k.Lj=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];("all"==a||"file"==a&&f.g.isFile||"directory"==a&&f.g.isDirectory)&&d.push(f.g.name)}b(d)};
k.Fe=function(a,b,c){"NotFoundError"==c.name?a():this.Za("handleRemoveFileFailed_",b,null,c)};k.Hg=function(a,b,c){V(Fl(c),a,r(this.Za,this,"removeFileEntry_",b,null))};k.ul=function(a,b,c){V(Ml(c),a,r(this.Za,this,"removeDirectory_",b,null))};k.F=function(){DD.J.F.call(this);delete this.pb};function HD(a,b,c,d,e){E.call(this);this.g=a;this.j=b;this.B=d;this.C=e;this.v={};this.o=c;this.A=Jb(this.j)}v(HD,E);k=HD.prototype;k.Vg=0;k.cd=0;k.fe=0;k.Gf=0;k.Kc=0;k.start=function(){this.B?wD(this.g,this.o,r(this.wl,this)):ID(this)};k.wl=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.j[d.id]||b.push(d)}if(b.length)for(this.fe+=b.length,a=0;a<b.length;a++){var c=b[a],d=this.g,e=r(this.qj,this),f=r(this.pj,this);V(Hl(d.pb,uD(c.g,c.id)),r(d.Hg,d,e,f),r(d.Fe,d,e,f))}}ID(this)};
function ID(a){if(0==a.A)JD(a);else{var b=Tf(J(),"docs-localstore-sefr"),c;for(c in a.j){var d=a.j[c];if(d.j)if(b&&d.v){var e=a.g,f=r(a.Qj,a,c,d);V(Hl(e.pb,uD(a.o.concat(d.g),c)),r(e.Ki,e,f),r(e.Ek,e,"getFileUrl",La(f,null)))}else KD(a,c,d);else a.se(c,null)}}}k.Qj=function(a,b,c){c?this.se(a,c):KD(this,a,b)};function KD(a,b,c){var d=a.o.concat(c.g),e=r(a.se,a,b),f=r(a.rj,a);a.g.lf(uD(d,b),d.concat(),c.j,e,f)}k.se=function(a,b){this.v[a]=b;this.Vg++;JD(this)};k.rj=function(){this.cd++;JD(this)};
k.qj=function(){this.Gf++;JD(this)};k.pj=function(){this.Kc++;JD(this)};function JD(a){var b=a.Gf+a.Kc;a.A==a.Vg+a.cd&&a.fe==b&&a.C(a)}k.F=function(){HD.J.F.call(this);delete this.g;delete this.j};function LD(a){this.j=a}LD.prototype.g=function(a,b,c,d){(new HD(this.j,a,b,c,d)).start()};function MD(a){this.g=a}function ND(a,b,c,d){function e(a){d("Could not remove metadata files for "+b+": "+a)}V(a.g,function(a){V(Kl(a.pb,uD(["documents",b])),r(a.ul,a,c,e),r(a.Fe,a,c,e))},e)}function Kx(a,b,c,d){V(a.g,r(function(a){HC(a,["documents"],"directory",r(function(a){a&&0!=a.length?OD(this,b,r(function(b){var e=new lD(a);rD(e,b);b=e.ga();0==b.length?c():this.j(b,c,d)},this),d):c()},this))},a),d)}
function OD(a,b,c,d){PD(b,r(function(a){wu(b.g.g,a,function(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d].getId());c(b)},function(){d("Could not read documents for user: "+a)})},a),d)}function PD(a,b,c){dw(a.jc(),function(a){1==a.length?b(a[0].getId()):c("There should be exactly 1 user.")},function(){c("Could not read users from storage.")})}MD.prototype.j=function(a,b,c){if(0==a.length)b();else{var d=a.pop(),e=r(this.j,this,a,b,c);ND(this,d,e,function(){e()})}};function QD(a){this.g=a};function RD(){this.o=[];this.j=null}za(RD);RD.prototype.g=function(a,b,c,d){this.j?this.j.g(a,b,c,d):this.o.push(r(this.g,this,a,b,c,d))};function SD(a){this.g=a}SD.prototype.j=function(){return["fontFamilies"]};SD.prototype.o=function(a,b){var c=new T;if((b=b.fontFamilies)&&b.length){b=vc(b);Xq(a,"startupHints","fontFamilies",b);b=this.g;var d=r(c.K,c),e=r(c.R,c)||ya,f;a=(Pq(a,"startupHints")||{}).fontFamilies;try{f=a?tc(a):[]}catch(g){f=[]}f=$C(f);f.length?V(b.fetch(f),d,e):d()}else c.K();return c};function TD(a){this.g=a}TD.prototype.j=h("g");TD.prototype.o=function(a,b){for(var c=0;c<this.g.length;c++){var d=this.g[c];null!=b[d]&&Xq(a,"startupHints",d,b[d])}return Rh()};function UD(a){this.g={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.j(),e=0;e<d.length;e++){var f=d[e];if(this.g[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.g[f]=c}}function VD(a,b,c){var d=[],e;for(e in c)if(a.g[e]){var f={};f[e]=c[e];f=a.g[e].o(b,f);d.push(f)}return Hn(d)};function oA(a){this.g=a.concat()}oA.prototype.fetch=function(a){a=a.concat();var b=new T,c=[];V(this.g[0].fetch(a),r(this.o,this,a,c,b,0),r(this.j,this,a,c,b,0));return b};oA.prototype.o=function(a,b,c,d,e){var f=e.g;e={};for(var g=0;g<f.length;g++)e[KC(f[g].getId())]=f[g];b=b.concat(f);for(f=0;f<a.length;f++)KC(a[f].getId())in e&&(xb(a,f),f--);0==a.length?c.K(new fD(b,[])):this.j(a,b,c,d)};
oA.prototype.j=function(a,b,c,d){if(d==this.g.length-1){d=[];for(var e=0;e<a.length;e++)d.push(a[e].getId());c.K(new fD(b,d))}else V(this.g[d+1].fetch(a),r(this.o,this,a,b,c,d+1),r(this.j,this,a,b,c,d+1))};function WD(a){this.o=a;this.g=null;this.j=[];this.o.V(this.v,this)}WD.prototype.v=function(a){this.g=a;for(a=0;a<this.j.length;a++){var b=this.j[a];Mh(this.fetch(b.j),b.g)}};WD.prototype.fetch=function(a){if(!this.o.g){var b=new T;this.j.push(new XD(b,a));return b}return this.g?this.g.fetch(a):(b=new T,b.R(),b)};function XD(a,b){this.g=a;this.j=b};function YD(a){this.g=a}YD.prototype.fetch=function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.g.fetch(a[c]));var d=new T;(new Gn(b)).V(function(b){for(var c=[],e=[],l=0;l<b.length;l++){var n=a[l].getId();b[l][0]?c.push(b[l][1]):e.push(n)}d.K(new fD(c,e))});return d};function pA(a){var b=new T;a.V(function(a){null==a?b.K(null):b.K(new YD(a))});return new WD(b)};function ZD(a){I.call(this);this.value=a}v(ZD,I);function $D(a){H.call(this,"S",a)}v($D,H);function aE(a){ZD.call(this,a)}v(aE,ZD);function nA(a,b,c,d){this.B=a;this.o=null;this.A=b;this.g={};this.j=[];this.C=new aE(!0);this.v=!!d;this.A.V(this.dk,this)}k=nA.prototype;k.dk=function(a){this.o=a;a=this.j;this.j=[];bE(this,a)};k.Jk=function(a,b){return new NC(a,b.j,b.g)};k.Oj=function(a){var b=a.g;a=a.j;a.length&&this.qe(0,a);a=[];for(var c=0;c<b.length;c++){var d=b[c];switch(d.g){case "sync-needed":a.push(d);break;case "sync-needed-non-blocking":a.push(d);this.Bd(d);break;case "sync-not-needed":this.Bd(d)}}bE(this,a)};
function bE(a,b){if(a.A.g)if(a.o)for(f=0;f<b.length;f++){var c=b[f],d=a.o.Ia(c),e;"sync-needed"==c.g?(e=r(a.Bd,a),c=r(a.qe,a,"Local syncing of remote resource failed",[c.getId()])):(e=ya,c=r(a.Gk,a,"Local non-blocking syncing of remote resource failed",[c.getId()]));V(d,e,c)}else for(var f=0;f<b.length;f++){var c=b[f];"sync-needed"==c.g&&a.Bd(b[f])}else a.j=a.j.concat(b)}k.Bd=function(a){var b=KC(a.getId()),c=this.g[b];delete this.g[b];c.K(a);MC(this)};
k.il=function(a,b){for(var c={},d=[],e={},f=0;f<b.length;f++){var g=b[f];g[0]?(g=g[1],this.v?d.push(g):c[KC(g.getId())]=g):(g=g[1],e[KC(g)]=g)}this.v||(d=Kb(c));a.K(new fD(d,Kb(e)))};k.Gk=aa();k.qe=function(a,b){for(a=0;a<b.length;a++){var c=KC(b[a]),d=this.g[c];delete this.g[c];d.R(b[a])}MC(this)};function MC(a){var b=a.C;a=!Lb(a.g).length;b.value!=a&&(b.value=a,b.dispatchEvent(new $D(b)))};function tA(){}tA.prototype.g=ya;function cE(a){this.j=void 0;this.g={};if(a){var b=Tg(a);a=Sg(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}k=cE.prototype;k.set=function(a,b){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);c.g[e]||(c.g[e]=new cE);c=c.g[e]}c.j=b};k.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.g[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.j:void 0};k.ga=function(){var a=[];dE(this,a);return a};function dE(a,b){void 0!==a.j&&b.push(a.j);for(var c in a.g)dE(a.g[c],b)}
k.va=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.g[e])return[];c=c.g[e]}eE(c,a,b)}else eE(this,"",b);return b};function eE(a,b,c){void 0!==a.j&&c.push(b);for(var d in a.g)eE(a.g[d],b+d,c)}k.yb=function(a){if(this.j===a)return!0;for(var b in this.g)if(this.g[b].yb(a))return!0;return!1};k.clone=function(){return new cE(this)};k.aa=function(){return Rg(this.ga())};k.ca=function(){return void 0===this.j&&Qb(this.g)};function fE(a,b,c){this.g=a;this.o=b;this.j=c}fE.prototype.write=function(a,b,c){if(this.g.j){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=new au(!0,f.g,f.o),l=g;a:switch(f.L()){case "syncMap":f=f.j;break a;default:throw Error("Unsupported sync object type: "+f.L());}Z(l,"data",f);d.push(g)}this.g.write(d,b,c)}};
fE.prototype.v=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Sb(e.S.keyPath)[0];switch(f){case "syncMap":c.push(new YC(Sb(e.S.keyPath),bu(e),e.S.data));break;default:this.j.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function gE(a,b,c){this.B=a;this.o=null;this.j=new cE;this.g=new T;this.g.V(r(this.N,this));this.v=c||null;this.A=!b;if(b){a=[];for(c=0;c<b.length;c++){var d=b[c],e=d.keyPath,f=d.state,d=d.data;if(!e||!f||!d)throw Error("Serialized SyncUpdate missing required key.");if(!e.length)throw Error("SyncUpdate key may not be empty.");a.push(hE(this,new UC(e,f,d)))}this.g.K()}}gE.prototype.N=function(){this.v&&this.v.j("soa")};
gE.prototype.get=function(a){var b=[];a=this.j.va(iE(a));for(var c=0;c<a.length;c++)b.push(this.j.get(a[c]));return b};function hE(a,b){var c=b.g[0];switch(c){case "syncMap":return c=b.g,b=new YC(c,b.j,b.o),a.j.set(iE(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function iE(a){return 0<a.length?a.join("|")+"|":""}gE.prototype.C=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.j.set(iE(c.g),c)}this.g.K()};function jE(){}jE.prototype.Ia=function(a,b,c,d,e,f){var g=new E,l={},n=new Zq(b,c,a);F(g,n);l.storage=n;l.so=!0;l.kd=d;return th(Gq(l).then(e,f),function(){n.Z()})};function kE(a,b,c,d){this.v=a;this.B=b;this.A=c;this.o=d;this.j={};this.g={}}kE.prototype.C=function(a){for(var b={},c=0;c<a.length;c++)if(a[c][0]&&a[c][1]){var d=a[c][1];b[d]=this.j[d]}return b};kE.prototype.H=function(a){a=a.La();for(var b in a){this.j[b]=a[b];for(var c=this.g[b],d=0;d<c.length;d++)c[d].K(b);delete this.g[b]}};kE.prototype.N=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=this.g[c],e=0;e<d.length;e++)d[e].R();delete this.g[c]}};function lE(a,b,c,d,e,f){ul(tl(ol(Do(d,"/createphoto").o("id",a),b),function(a){var b=a.La();if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function mE(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.g=b;this.j=c}mE.prototype.ue=h("g");mE.prototype.getError=h("j");function nE(a){H.call(this,"T");this.g=a}v(nE,H);function oE(a,b,c,d,e,f){this.v=a;this.g={};this.j=new W(this);this.j.listen(a,"T",this.fk);this.A=b;this.nd=c;this.C=d;this.B=e;this.o=f}v(oE,E);k=oE.prototype;k.F=function(){G(this.j);oE.J.F.call(this)};
k.Ml=function(a){for(var b,c=[],d=0;d<a.length;d++){var e=a[d],f=e.S.p;b=this.g[f];if(b.active)throw Error("Tried to transport blob that is currently being transported: "+f);b.active=!0;if(e=Tq(e,"oc"))c.push(e);else throw Error("Tried to transport via original image id on blob with no id.");}d=this.A;e=[];f=[];for(b=0;b<c.length;b++){var g=c[b];if(d.j[g])f.push(Rh(g));else if(1==d.A.g.g.g)if(0==g.indexOf("PLACEHOLDER_"))f.push(Sh(null));else{var l=new T;f.push(l);d.g[g]?d.g[g].push(l):(e.push(g),
d.g[g]=[l])}else f.push(Sh(null))}0<e.length&&(c=d.v,b=d.B,g={},g.photo=e,g=Od(g),c=nl(Do(b,"/copyimages").o("id",c),g),p(d.o)&&sl(c,d.o),ul(pl(tl(c,r(d.H,d)),r(d.N,d,e))));c=(new Gn(f)).V(d.C,d);c.V(r(this.Dj,this,a))};
k.Ll=function(a){var b=a.S.p,c=this.g[b];if(c.active)throw Error("Tried to transport blob that is currently being transported: "+b);c.active=!0;var d=Tq(a,"ou");a.getUrl()||d?!d||0!=d.indexOf("http://")&&0!=d.indexOf("https://")?(c=a.getUrl()||Tq(a,"ou"),d=a.S.f,c=V(BD(c,this.H).Wb(),r(this.D,this,d),r(this.I,this)),V(c,r(this.Aj,this,b),r(this.zj,this,b))):(a=r(this.qk,this,b,c.g),b=r(this.pk,this,b,c.g),lE(this.nd,{url:d},d||"",this.C,a,b)):(b=new mE(0,null,Error("nonexistentImageUrl")),c.g.R(b))};
k.kj=function(a){var b=this.g[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.j.Z();delete this.g[a]};k.qk=function(a,b,c,d){a=new mE(0,d,null);b.K(a)};k.pk=function(a,b,c,d){bo(this.B,Error("Create photo failed with error: "+d));a=new mE(0,null,Error("createPhoto"));b.R(a)};k.Aj=function(a,b){a=this.g[a];b=new mE(0,b,null);a.g.K(b)};k.zj=function(a,b){a=this.g[a];"connectionError"==b.message?(a.active=!1,Pk(a.j,!1,!0)):(b=new mE(0,null,b),a.g.R(b))};
k.Dj=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=this.g[d.S.p];(d=Tq(d,"oc"))&&b[d]?(d=new mE(0,b[d],null),e.g.K(d)):(d=new mE(0,null,Error("unknown")),e.g.R(d))}};k.fk=function(a){for(var b in this.g){var c=this.g[b];a.g?c.active||Pk(c.j,!0,!1):c.j.stop()}};function pE(a,b){this.g=a;this.j=b;this.active=!1};function qE(a){if(m.JSON)try{return m.JSON.stringify(a)}catch(b){}return vc(a)};function rE(a,b,c){a={protocolVersion:"0.8",createSessionRequest:{fields:[{external:{name:"file",filename:a}}]}};var d=a.createSessionRequest.fields,e=d[0].external;null!=b&&(e.size=b);Hb(c,function(a,b){d.push({inlined:{name:b,content:a,contentType:"text/plain"}})});return qE(a)}
function sE(a){var b=a;if("string"==typeof a)a:{if(m.JSON)try{var c=m.JSON.parse(a),b=c;break a}catch(d){}b=c=tc(a)}try{return b.sessionStatus?b=b.sessionStatus:b.errorMessage&&(b=b.errorMessage),b.additionalInfo["uploader_service.GoogleRupioAdditionalInfo"].completionInfo}catch(d){}};function tE(a,b,c){E.call(this);this.D=a;this.A=b;this.H=c;this.j={};this.g=[];this.o=null;this.v=new W(this);this.B=new Hm(new Im(2E3))}v(tE,E);tE.prototype.upload=function(a,b){var c=new T;a=new uE(a,b,c);this.o?this.g.push(a):vE(this,a);return c};
function vE(a,b){a.o=b;var c=a.B,d=new $l(b.j,b.fileName);d.o=!0;d=Am(c.g.g,d);d=new Bm(0,0,d);c.dispatchEvent(new Gm(0,null));yi(yi(a.v,d,"u",a.C),d,"v",a.G);c=Ck.ua().g.g;c=Ta(ib(c))?a.A:Qd(a.A,{authuser:c});d.C=c;d.B="POST";var c=b.j,e=b.fileName,f={};f.containingCosmoId=a.D;a.H&&(f.parentCosmoId=a.H);c=rE(e,c.size,f);d.A=c;d.D=!0;a.j[d.I]=b;d.start()}
tE.prototype.C=function(a,b){var c=a.item,d=c.I,e=this.j[d];if(!e)throw Error("No internal representation found for uploaded file.");var f=c.sa(),g;g=(g=sE(f))?g.status:"UNKNOWN";f=(f=sE(f))?f.customerSpecificInfo:void 0;if(a instanceof Em&&a.Je)e.g.R(Error("connectionError"));else if(f)if(b||"SUCCESS"!=g){var l;switch(g){case "FAILURE":l="scottyError";break;case "REJECTED":l=f&&"anonymous_user"==f.type?"invalidAuth":"scottyReject";break;case "UNKNOWN":case "QUEUED":case "CANCELLED":case "SUCCESS":l=
"unknown"}e.g.R(Error(l))}else e.g.K(f);else e.g.R(Error("invalidResponse"));G(c);delete this.j[d];this.o=null;this.g&&0!=this.g.length&&vE(this,this.g.shift())};tE.prototype.G=function(a){this.C(a,!0)};tE.prototype.F=function(){tE.J.F.call(this);qe(this.v,this.B)};function uE(a,b,c){this.j=a;this.fileName=b;this.g=c};function wE(a,b,c,d,e,f,g){oE.call(this,b,c,d,e,f);this.M=a;this.H=g}v(wE,oE);wE.prototype.D=function(a,b){return this.M.upload(b,a).Wb().V(this.G,this)};wE.prototype.I=function(){return Error("fileNotFound")};wE.prototype.G=function(a){return a.id};function xE(a){I.call(this);this.j=new W(this);this.g=a;this.j.listen(a,"H",this.o)}v(xE,I);xE.prototype.o=function(a){1==a.j.g!=(1==a.g.g)&&this.dispatchEvent(new nE(1==a.g.g))};xE.prototype.F=function(){G(this.j);xE.J.F.call(this)};function yE(a,b){this.g=p(a)?a:0;this.j=p(b)?b:""};function zE(){H.call(this,"V")}v(zE,H);function AE(){H.call(this,"Y")}v(AE,H);function BE(){H.call(this,"Z")}v(BE,H);function CE(){I.call(this)}v(CE,I);function DE(){H.call(this,"W")}v(DE,H);function EE(a,b){H.call(this,"ba");this.g=a;this.message=b}v(EE,H);function FE(){H.call(this,"$")}v(FE,H);function GE(a,b,c,d,e,f,g,l,n,u){I.call(this);this.C=a;this.O=b;this.g=c;this.G=d||null;this.D=e||null;this.U=f||{};this.A=0;this.B=this.o=null;this.M=!!g;this.T=!!l;this.j=n||null;this.I=u||null}v(GE,CE);
function HE(a,b){if(!a.j||!a.j.pg())if(b)if(0==a.A&&!a.o||!a.M&&a.A!=a.o.M)a.dispatchEvent(new EE(1,"Missing chunks"));else if(a.g){b=a.g;var c=a.o.H;if(b.g&&b.U){if(b.v)throw Error("Cannot process startup hints twice for the same document.");b.v=VD(b.U,b.g,c);b.H=null}else if(b.U){if(b.H)throw Error("Startup hints were already set.");b.H=c}if((b=a.o.D)&&a.D&&a.G){var c=a.D,d=a.C,e={},f=[],g;for(g in b)c.g(d,g,b[g],e,f);a.g.Ra=f;g=Rb(e);Ub(g,a.U);b=r(a.P,a);a.G.g.g(g,["documents",a.C],!0,b)}else a.dispatchEvent("X")}else a.dispatchEvent("X");
else a.dispatchEvent(new EE(3,"Document not accessible"))}GE.prototype.P=function(a){0<a.cd||0<a.Kc?this.dispatchEvent(new EE(2,"File sync failed")):this.dispatchEvent("X")};function IE(a,b,c,d,e){this.A=a;this.N=b;this.j=c;this.v=d;this.B=e;this.g=0;this.o=null}
function JE(a,b){for(var c=a.A();;){if(0==a.g)if(c&&5<=c.length)if(Ra(c,")]}'\n"))a.g+=5;else{a.j("Safety prefix not present.");break}else break;if(5==a.g)if(c.length>=a.g+2)if("0&"==c.substring(a.g,a.g+2))a.g+=2;else{a.j("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.g);if(0>d){b&&(a.v(),gj(a.o));break}var e=+c.substring(a.g,d);if(isNaN(e)){a.j("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.g=e;d=c.substring(d+1,e);try{var f=gl(d)}catch(g){a.j("Error parsing chunk.");
break}if(f)a.N(f);else{a.j("Received a blank chunk.");break}if(!a.B){gj(a.o);a.o=fj(r(a.C,a,b));break}}}IE.prototype.C=function(a){this.o=null;JE(this,a)};function KE(a,b,c){this.g=a;this.j=b;this.o=c};function LE(a,b,c,d,e,f,g,l,n,u,y,D,U,Q,ha){this.N=a;this.C=b;this.B=c;this.o=d;this.g=e;this.j=f;this.H=g;this.D=l;this.W=n;this.v=u;this.A=y;this.I=D;this.G=U;this.M=p(ha)?ha:null;this.O=Q}LE.prototype.$a=h("W");function ME(a,b,c,d,e,f,g){this.W=a;this.v=b;this.H=e;this.C=f;this.j=this.A=0;this.B=new IE(this.W,r(this.D,this),r(this.N,this),r(this.G,this),d);this.g=!1;this.o=g||null}
ME.prototype.D=function(a){if(0==this.A){this.o&&Ws(this.o,"mmr",this.j);var b=a.me,c=b.rat,d=this.v,e=new LE(a.r,c?new ls(c):null,a.mv,a.fv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,a.slm||null,a.mc);d.o=e;b=e.N;d.B=b;var c=e.C,f=e.B,g=e.o;d.dispatchEvent(new AE);if(!d.j||!d.j.pg()){var l=e.g;a=e.j;d.dispatchEvent(new zE);d.dispatchEvent(new FE);d.dispatchEvent(new DE);if(d.I){var n=e.O;n&&Xs(d.I,n)}if(d.g){var u=e.$a(),y=e.v,D=e.A,n=e.I,e=e.G,U=d.g;U.g?(Z(U.g,"title",u),U.Y=null):U.Y=u;u=
d.g;u.g?(Vq(u.g,"isFastTrack",y),u.M=null):u.M=y;y=d.g;(u=y.g)?(Vq(u,"ind",!e),y.$=null):y.$=e;D&&(e=d.g,e.g?(Z(e.g,"jobset",D),e.O=null):e.O=D);n&&(D=d.g,null!=n&&(D.g?(vs(D.g,n),D.pa=0):D.pa=n));n=d.g;n.g?(xs(n.g,f),n.P=null):n.P=f;f=d.g;f.g?(ys(f.g,g),f.G=null):f.G=g;g=d.g;g.kb&&NE(g,b,c);g.T=b;g.tg=c;d.T||OE(d.g);b=Number(l);isNaN(b)||(c=d.g,(l=c.g)?Xq(l,"acl",c.ac,b):c.Qa=b);a&&(d=d.g,d.g?(ws(d.g,a),d.B=null):d.B=a)}}}else if(1==this.A&&this.o&&Ws(this.o,"fmpdr",this.j),d=this.v,l=new KE(a.si,
a.sci,a.sc),!d.j||!d.j.pg()){if(null==d.B)throw Error("Revision was not defined");g=d.O;c=d.B;a=d.g||void 0;f=l.g;f=(b=""==f)?g.g:g.j+f;g=l.j;t();l=Qs(l.o);t();if(a)if(c=new os(c,0,null,l,f,g),b=b&&0==g,a.Pa)!a.o||a.A.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(c.g!=a.T)throw Error("Expected batch revision of "+a.T+", but got "+c.g);a=a.o;b&&(a.g=[],a.j=!0);a.g.push(c)}d.dispatchEvent(new BE);d.A++}this.A++};ME.prototype.N=function(){this.g=!0;this.H()};
ME.prototype.G=function(){this.g||(HE(this.v,!0),this.C())};function PE(a,b,c){H.call(this,"Q");this.g=a;this.B=!!c;a=QE;switch(this.g){case a.Sd:this.message="Request returns too much data";break;case a.Kh:this.message="Missing chunks";break;default:this.message="Unknown Server Error"}b&&(this.message+=": "+b)}v(PE,H);by(PE);var QE={kf:1,Kh:2,Sd:3};PE.prototype.j=h("B");function RE(a,b,c,d,e,f,g,l,n,u,y,D,U,Q,ha,la){E.call(this);this.T=a;this.M=b;this.A=d;this.o=new W(this);this.v=p(D)?D:null;this.C=l;this.P=n;this.B=u;this.H=U||null;if(null!=this.v&&!this.H)throw Error("Must supply revision HMAC when fetching at revision.");this.D=Q||null;this.O=g;this.I=Ym();a=Da(ha)?ha:6E4;this.g=y?y():new Sj;this.j="";0<a&&Xj(this.g,a);this.U=e;this.o.listen(this.g,"readystatechange",this.Ql);this.o.listen(this.g,"complete",this.Pl);e=r(this.sj,this);y=r(this.cj,this);a=r(this.Z,
this);this.G=new ME(e,c,0,f,y,a,la)}v(RE,E);k=RE.prototype;k.fetch=function(){this.isDisposed();var a=m.location.href.match(Ed),b={};b.reason=this.O;b.smv=this.P;null!==this.B&&(b.fcs=this.B);this.D&&(b.sid=this.D);null!=this.v&&(b.osr=this.v,b.rhmac=this.H);Ub(b,this.I.g);b=Od(b);this.g.send(Dd(a[1],void 0,a[3],a[4],this.T+this.M,b))};
k.Ql=function(){if(!this.isDisposed())if(null!==this.C&&this.g.sa().length>this.C)G(this.g),this.A(new PE(QE.Sd,void 0,!0)),this.Z();else if(this.U&&3==xj(this.g)&&this.g.Db()&&200==this.g.ba()){this.j=this.g.sa();var a=this.G;a.j=t();a.g||JE(a.B,!1)}};k.Pl=function(){if(!this.isDisposed()){this.j=this.g.sa();var a=this.G,b=this.g.ba();a.g||(404==b||410==b||403==b?(HE(a.v,!1),a.C()):200!=b?a.N():(a.j=t(),a.g||JE(a.B,!0)))}};
k.cj=function(){var a=this.g.ba(),b=this.g.o,c;a:{if(6==b){if(202==a||401==a||403==a||409==a||421==a||429==a||500<=a&&599>=a&&503!=a&&550!=a||0>=a||405==a||503==a){c=!1;break a}if(400<=a&&499>=a||550==a){c=!0;break a}}c=!1}var d=QE,e=new PE(d.kf,void 0,c);if(6==b&&a)switch(a){case 413:e=new PE(d.Sd,a.toString(),!0);break;default:e=new PE(d.kf,a.toString(),c)}this.A(e);this.Z()};k.sj=h("j");k.F=function(){delete this.j;G(this.o);G(this.g);RE.J.F.call(this)};function SE(a,b,c,d,e,f){E.call(this);this.Sc=new T;this.I=null;this.xl=b;this.O=Vf(J(),"jobset");this.M=Tf(J(),"fatra");this.la=null;this.ma=void 0;this.ac=this.G=this.P=this.$b=this.Xb=this.Zb=null;this.Bg=c||null;this.U=d||null;this.Y=this.Dg=this.Ra=this.H=this.v=null;this.pa=0;this.B=null;this.sg=!1;this.j=this.C=this.g=this.mb=this.Tc=this.ea=null;this.kb=this.Pa=!1;this.ia=new T;b=(e||[]).concat();b.push(this.Sc);for(c=0;c<b.length;c++)Nh(this.ia,b[c]);this.ia.V(r(this.Dl,this));this.A=a;this.o=
new ps;this.zd=f||null;this.D=this.nb=this.qc=this.Uc=this.$=this.tg=this.T=this.Qa=null;this.Gl=!1}v(SE,E);
function TE(a,b){var c=new T;if(!a.g)return c.K(!0),c;if(a.Pa)return a.df(c,!!b,!0),c;a.Y&&(Z(a.g,"title",a.Y),a.Y=null);0<a.pa&&(vs(a.g,a.pa),a.pa=0);a.O&&(Z(a.g,"jobset",a.O),a.O=null);null!=a.M&&(Vq(a.g,"isFastTrack",a.M),a.M=null);var d=a.g;if(d.ib()){var e=t();Z(d,"lastSyncedTimestamp",e)}a.B&&(ws(a.g,a.B),a.B=null);null!=a.ea&&(Vq(a.g,"inc",!a.ea),a.ea=null);null!=a.Tc&&(Vq(a.g,"pendingCreation",a.Tc),a.Tc=null);null!=a.la&&(Vq(a.g,"ips",a.la),a.la=null);p(a.ma)&&(br(a.g,a.ma),a.ma=void 0);
null!==a.P&&(xs(a.g,a.P),a.P=null);null!==a.G&&(ys(a.g,a.G),a.G=null);(d=a.g)&&Uq(d,"inc")&&a.I?(Z(d,"ic",a.I),a.I=null):d&&(a.I=null);null!==a.$&&(Vq(a.g,"ind",!a.$),a.$=null);null!==a.Zb&&(Z(a.g,"lsst",a.Zb),a.Zb=null);null!==a.Xb&&(a.g.yc(a.Xb),a.Xb=null);null!==a.$b&&(a.g.zc(a.$b),a.$b=null);null!=a.mb&&(Vq(a.g,"hpmdo",a.mb),a.mb=null);null!=a.D&&(Cs(a.g,a.D),a.D=null);a.kb&&(null!==a.Uc&&(Vq(a.g,"modelNeedsResync",a.Uc),a.Uc=null),null!=a.qc&&(Bs(a.g,a.qc),a.qc=null),null!=a.nb&&(As(a.g,a.nb),
a.nb=null));d=a.v&&a.v.g;a.df(c,!!b);a.U&&a.H&&!a.v&&(a.v=VD(a.U,a.g,a.H),a.H=null);a.v&&!d&&(d=new T,Nh(c,d),Kh(a.v,Cd(r(a.df,a,d,!!b))));a.sg&&((b=a.C.g.ld())&&$v(b.g,a.xl),a.sg=!1);return c}k=SE.prototype;
k.df=function(a,b,c){var d=[];c||d.push(this.g);this.j&&(Bv(this.j),d.push(this.j));var e=null,f=null,g=!1;this.j&&(e=this.j.ca(),f=tv(this.j),g=!!this.j.C.revision);if(!e){var e=null,l=!1;this.g&&(e=Sq(this.g,"rev"),l=!!this.g.C.rev);var n={};n.writePendingQueueOnly=!!c;n.hasSwitchedToLocalStorage=this.kb;this.j?(n.pendingQueue_isAvailable=!0,n.pendingQueue_revisionModified=g):n.pendingQueue_isAvailable=!1;this.g?(n.localDocument_isAvailable=!0,n.localDocument_revision=e,n.localDocument_revisionModified=
l,n.localDocument_commandQueueModified=!this.g.j.ca()):n.localDocument_isAvailable=!1;g=Tf(J(),"docs-offline-edrr2");if(this.j){var u=this.g,u=u?Ds(u):null;if(null!==u){var y=rv(this.j);this.j.ca()!=(1==u)?bo(this.A,Error("pendingQueueState "+u+" does not match the pending queue record state: empty")):null===y||!Fv(this.j)||Ev(this.j)||3==u?ov(this.j)!=(0==u)&&bo(this.A,Error("pendingQueueState "+u+" does not match the pending queue record state: undeliverable")):bo(this.A,Error("pendingQueueState "+
u+" does not match the pending queue record state: saved to server"))}}!c&&g&&l&&e!=f&&bo(this.A,Error("Local document revision write is out of sync with the pending queue revision."),n)}b=b?r(a.R,a):this.Dg||void 0;a=c?r(a.K,a):r(this.Hk,this,a,b);this.C.write(d,a,b)};k.Hk=function(a,b){if(this.Ra){var c=this.Ra;this.Ra=null;this.C.write(c,r(a.K,a,!0),b)}else a.K(!0)};
k.Dl=function(){this.g?Vq(this.g,"hpmdo",!1):this.mb=!1;var a=this.g;qs(this.o,a.j);G(this.o);this.o=a.j;null!==this.Qa&&(Xq(a,"acl",this.ac,this.Qa),this.Qa=null);null===this.T||NE(this,this.T,this.tg);if(this.zd){var b=this.zd;b.C=this.C;b.g=a;b.ac=void 0}this.Bg&&this.Bg.wu(!0);this.j&&(this.j.W=!1);this.kb=!0;return TE(this)};function UE(a){a.Pa=!0;a.B=null;a.g||G(a.o);a.I=null;a.o=null}function OE(a){a.g?(Vq(a.g,"inc",!1),a.ea=null):a.ea=!0}
function NE(a,b,c){a=a.g;Tf(J(),"docs-offline-edrr2")?us(a,b,c):us(a,null,null)}function VE(a,b){a.g?(Vq(a.g,"ips",b),a.la=null):a.la=b}function WE(a){var b=t();a.g?Z(a.g,"lsst",b):a.Zb=b}k.zc=function(a){this.g?this.g.zc(a):this.$b=a};k.yc=function(a){this.g?this.g.yc(a):this.Xb=a};function XE(a){a.g?(a=a.g,Bs(a,1),As(a,t())):(a.nb=t(),a.qc=1)}
function YE(a,b,c){a.g?(Cs(a.g,b),a.D=null):c?a.g?(Cs(a.g,b),a.D=null):$n(a.A,Error("Force persisting pending queue state without a document record.")):a.D=b}k.F=function(){this.g||G(this.o);SE.J.F.call(this)};function ZE(a){this.j=a;this.g=new wl};function bF(a,b,c){H.call(this,a,c);this.g=b}v(bF,H);function cF(a,b,c){bF.call(this,"ea",a,c)}v(cF,bF);function dF(){I.call(this)}v(dF,I);function eF(a,b,c){H.call(this,"fa",c);this.g=a}v(eF,H);function fF(a,b,c,d,e,f,g,l,n){I.call(this);this.G=a;this.B=b;this.C=c;this.A=f;this.D=p(g)?g:3;this.o=n;this.O=l||Ao}v(fF,dF);fF.prototype.j=!1;fF.prototype.g=!0;fF.prototype.I=function(a){this.g=this.j=!1;this.dispatchEvent(new cF(a))};
fF.prototype.M=function(a){a=a.La();this.j=!1;if(a&&!Qb(a)){this.g=!1;a=a.revisionRanges;if(!a||!Ba(a)||0>=a.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+a);for(var b=[],c=-1,d=0;d<a.length;d++){var e=a[d];if(!e||2!=e.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+e);var f=e[0],e=e[1];if(null==f)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");
if(null==e)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(e<f)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+e+") < expected range start ("+f+")");if(f<=c||e<=c)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+a);c=e;b.push(new em(f,e))}this.dispatchEvent(new eF(b))}else{if(this.g)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");
this.dispatchEvent("fa")}};function gF(a){this.cb=a}gF.prototype.ka=function(a){for(var b={},c=this.cb,d=a.Aa(),e=[],f=0;f<d.length;f++)e.push(c.ka(d[f]));b.commands=e;b.sid=a.fa;b.reqId=a.fb();return b};Ma(aa().prototype,we.prototype);function hF(a,b,c,d){I.call(this);this.o=a;this.A=b;this.B=c;this.j=d||null;this.g=0}v(hF,I);hF.prototype.C=function(){this.g--;0==this.g&&this.dispatchEvent("writesComplete")};function iF(a){H.call(this,a)}v(iF,H);Ma(aa().prototype,we.prototype);function jF(a,b){I.call(this);this.C=b;this.j={};this.o={};this.A={};this.g={};this.B={};for(b=0;b<a.length;b++){var c=a[b],d=c.S.p,e=c.ue(),f=Tq(c,"oc");if(this.g[d]||e&&this.g[e]||f&&this.g[f])throw Error("Adding existing blob metadata.");this.g[d]=c;e&&(this.g[e]=c);f&&(this.g[f]=c);switch(c.ba()){case "pending":this.j[d]=c;break;case "saved":this.A[d]=c;this.B[d]=e;break;case "failed":this.A[d]=c;this.B[d]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+c.ba());}}a=
new W(this);F(this,a);a.listen(this.C,"writesComplete",this.D)}v(jF,I);function kF(a){return!Qb(a.j)||!Qb(a.o)||0<a.C.g}function lF(a,b,c){var d=b.S.p;a.A[d]=b;a.B[d]=c;delete a.o[d];c=a.C;b=[b];c.g++;c.A.write(b,r(c.C,c),c.j||void 0);kF(a)||a.dispatchEvent("ga")}jF.prototype.D=function(){kF(this)||this.dispatchEvent("ga")};function mF(a){if(kF(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return Rb(a.B)}
function nF(a){var b=[];Bb(b,Kb(a.j));Bb(b,Kb(a.o));Bb(b,Kb(a.A));return b};function oF(a,b,c){a.K(new jF(c,b))};function pF(a,b,c){this.g=a;this.j=b;this.o=c}pF.prototype.v=function(a,b){b?a(b):a(new mv(this.g,this.j,!0,-1,[],[]))};function qF(a,b,c){this.j=a;this.g=b;this.o=c}qF.prototype.getSelection=h("o");function rF(a,b){I.call(this);this.O=a;this.j=b;this.A=null;this.G=-1}v(rF,I);k=rF.prototype;k.Tf=!1;k.Od=!1;function sF(a){var b=[];a=Cv(a.g);for(var c=0;c<a.length;c++)b.push(a[c].Aa().length)}function tF(a){a.A=null;uv(a.g,null)}k.Aa=function(){for(var a=Cv(this.g),b=[],c=0;c<a.length;c++)Bb(b,a[c].Aa());Bb(b,Dv(this.g));return b};
k.replace=function(a,b,c,d){var e=Cv(this.g),f=uF(this);if(a.length!=e.length+f.length)$n(this.j,Error("ReplaceCommands(): invalid replacement count "+a.length+" (expected "+(e.length+f.length)+")"));else{for(var g=vF(this),l=[],n=0;n<e.length;n++)l.push(new lv(a[n].concat(),e[n].fb(),e[n].fa));for(var u=[],n=0;n<f.length;n++)u.push(new lv(a[n+e.length].concat(),f[n].fb(),f[n].fa));this.g.replace(l,u);sv(this.g,b,c);uv(this.g,null);sF(this);a=[];b=uF(this);for(c=0;c<b.length;c++)a.push(b[c].Aa().length);
this.A=d;g&&wF(this);this.ca()&&this.dispatchEvent("oa")}};k.ca=function(){return!xF(this)&&!(Fv(this.g)&&this.B)};function yF(a){zF(a);return tv(a.g)}k.Si=function(a){for(var b=a.j,c=a.g,d=[],e=0;e<c.length;e++){var f=c[e],g=this.O.eu(f.Aa());d[e]=g?new lv(g,f.fb(),f.fa):f}return new qF(b,d,a.getSelection())};function AF(a){a.Od||(a.Od=!0,a.dispatchEvent("ua"))}k.Rg=function(){this.dispatchEvent("ma")};function wF(a){vF(a)||a.dispatchEvent("ka")}
function zF(a){if(!a.Tf)throw Error("Attempting to use an uninitialized queue.");}k.Xd=h("Od");function BF(a){var b=new T;CF(a)?b.K(void 0):(pv(a.g,!0),YE(a.o,0,!0),Mh(DF(a),b));a.dispatchEvent("na");return b}k.Kk=function(){this.dispatchEvent("ta")};function EF(a,b,c,d,e,f,g,l,n,u,y,D){rF.call(this,g,e);this.o=a;this.U=c;this.P=f;this.D=new T;this.g=b;this.C=l;this.B=!1;this.M={};this.T=D;this.I=!1;this.g?(this.o.j=this.g,Tf(J(),"icso"),this.D.K(this)):(a=new pF(n,u,d),b=r(this.$,this),c=r(this.Y,this),Uv(a.o.g.B,a.g,r(a.v,a,b),c));this.o.ia.V(r(this.Rg,this))}v(EF,rF);EF.prototype.$=function(a){this.g=a;this.o.j=a;Tf(J(),"icso");this.D.K(this)};EF.prototype.Y=function(a){this.D.R(a);this.P(a)};
function DF(a){var b=TE(a.o,!0);return V(b,null,a.P,void 0)}
function FF(a,b,c){if(Ev(a.g)){if(Fv(a.g)&&a.B&&null===rv(a.g))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=Dv(a.g);if(b==d.length)yv(a.g);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.B=!0;b=Cv(a.g).concat();Ev(a.g)&&(sF(a),b[b.length-1].Aa());AF(a);d=null;Ev(a.g)||(d=a.A,tF(a));var e=new qF(yF(a),b,d);V(DF(a),function(){c.K(e)},r(c.R,
c))}EF.prototype.Xd=function(){return EF.J.Xd.call(this)||!this.g.ca()};function xF(a){return Ev(a.g)||!a.B&&Fv(a.g)}function vF(a){var b=a.C,c;!(c=a.G>tv(a.g))&&(c=null!==b)&&(a=Sq(a.g,"accessLevel"),a=null===a?3:a,b=Zw(b),a=Zw(a),c=b!=a);return c}function CF(a){var b=a.o.g,b=b?Ds(b):null;return null!==b&&Tf(J(),"docs-localstore-epqs")?0==b:ov(a.g)}function uF(a){a=a.g;return a.o?[]:a.j}
function GF(a){var b=a.j;b.g.pendingQueue_startedEmpty=a.I.toString();Zn(b,"pendingQueue_startedAnachronistic",vF(a).toString());b.g.pendingQueue_initialRevision=tv(a.g).toString();b.g.pendingQueue_initialModelRevision=a.G.toString();Zn(b,"pendingQueue_initialBundleInfo",HF(a));var c=a.o.g,c=c?Ds(c):null,d=rv(a.g);b.g.pendingQueue_initialState=null===c?"null":c.toString();Zn(b,"docs-localstore-epqs",Tf(J(),"docs-localstore-epqs").toString());b.g.pendingQueue_initialSavedRevision=null===d?"null":d.toString();
Yn(b,"pendingQueue_isEmpty",function(){return this.g.ca().toString()}.bind(a));Yn(b,"pendingQueue_revision",function(){return tv(this.g).toString()}.bind(a));Yn(b,"pendingQueue_hasDequeued",function(){return this.B.toString()}.bind(a));Yn(b,"pendingQueue_hasEnqueued",function(){return(!1).toString()}.bind(a));Yn(b,"pendingQueue_bundleInfo",function(){return HF(this)}.bind(a));Yn(b,"pendingQueue_isPersistent",function(){return(!0).toString()}.bind(a));Yn(b,"pendingQueue_isAnachronistic",function(){return vF(this).toString()}.bind(a))}
function HF(a){var b="",c=Cv(a.g);a=c.concat(uF(a));for(var d=0;d<a.length;d++)var e=d<c.length?"sent":"unsent",e={sid:a[d].fa,rid:a[d].fb(),type:e},b=b+(JSON.stringify(e)+"\n");return b};function IF(a,b,c,d,e,f,g){return c.g.B?(new EF(a,null,b,c,d,e,null,null,f,g,0,null)).D:null};function JF(a){H.call(this,"O");this.Df=a}v(JF,H);function KF(a){I.call(this);this.B=a;this.ia=!1}v(KF,I);KF.prototype.Ia=function(){if(this.ia)throw Error("The sync() method can be called only once");dw(this.o.jc(),r(this.El,this));this.ia=!0};KF.prototype.P=function(){this.dispatchEvent(new JF(this.B))};function LF(a,b,c){E.call(this);this.g=a;this.o=b;this.v=c;this.j=new W(this);F(this,this.j)}v(LF,E);
LF.prototype.send=function(){var a;if(kF(this.g)){a=this.g;var b=Kb(a.j);Ub(a.o,a.j);a.j={};a=this.o;for(var c=[],d=0;d<b.length;d++){var e=b[d];Tq(e,"oc")&&c.push(e)}for(var f=new Ok(r(a.Ml,a,c),1E3,9E5,a.o),d=[],g=0;g<b.length;g++){var e=b[g],l=e.S.p;if(a.g[l])throw Error("Attempted to re-transport blob");var n=new T;if(Tq(e,"oc"))e=new pE(n,f);else{var u=new Ok(r(a.Ll,a,e),1E3,9E5,a.o),e=new pE(n,u);1==a.v.g.g.g&&u.start()}a.g[l]=e;Kh(n,Cd(r(a.kj,a,l)));d.push(n)}0<c.length&&1==a.v.g.g.g&&f.start();
a=new T;(new Gn(d)).V(r(this.A,this,b,a))}else a=Rh();return a};
LF.prototype.A=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].S.p,f=c[d][1];if(c[d][0]){var g=this.g,f=f.ue(),e=g.o[e];if(!e)throw Error("markAsSaved for blob that was not sending.");Z(e,"c",f);Aw(e,"saved");g.g[f]=e;lF(g,e,f);g.dispatchEvent(new iF("ja"))}else{g=this.g;e=g.o[e];if(!e)throw Error("markAsFailed for blob that was not sending.");Aw(e,"failed");lF(g,e,"FAILED_IMAGE_UPLOAD");g.dispatchEvent(new iF("ia"));e=f.getError().message;f={};a:switch(e){case "createPhoto":g="image_upload_other_error";
break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosClipboardOtherSession":g="image_upload_pre_upload_error";break a;default:g="image_upload_scotty_error"}f[g]=e;this.v.log(Error("Failed to sync blob with error"),f)}}kF(this.g)?yi(this.j,this.g,"ga",r(b.K,b)):b.K()};function MF(a,b,c,d){E.call(this);this.j=a;this.A=b;this.o=c;this.B=d;this.g=new T;this.v=new W(this)}v(MF,E);k=MF.prototype;k.Vc=-1;k.send=function(){this.Vc=-1;var a=this.j;if(xF(a)&&!CF(a)){a=this.j;zF(a);var b=Dv(a.g).length,c=p(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=new T;xF(a)?(a.O&&b.V(r(a.Si,a)),FF(a,c,b)):(b.K(new qF(yF(a),[],a.A)),a.A=null);V(b,this.Jj,this.Ij,this)}else this.g.K(this);return this.g};
function NF(a){if(!CF(a.j)&&0<=a.Vc){var b=a.j,c=a.Vc;zF(b);if(!b.Xd())throw Error("removeSent called when not waiting for ack");a=vF(b);var d=b.g;if(null!=Sq(d,"snapshotBundleIndex")){var e=Sq(d,"snapshotBundleIndex")-d.v.length;xv(d,0>e?null:e)}d.v=[];Av(d,3);sv(b.g,c,null);b.g.ca()&&(vv(b.g,!1),c=b.o,c.g?(br(c.g,null),c.ma=void 0):c.ma=null,null!==b.C&&Z(b.g,"accessLevel",b.C),YE(b.o,1));b.Rg();Fv(b.g)&&b.B||(b.Od=!1,b.dispatchEvent("sa"));a&&wF(b);b.ca()&&b.dispatchEvent("oa")}}
k.Jj=function(a){var b=a.j,c;c=this.o;a=a.g;var d=this.A?mF(this.A):{},e=this.B;if(c.j)c=!1;else{c.j=!0;c.g=0<a.length;var f=c.A;if(0==a.length)throw Error("Cannot send an empty message to the server.");if(!Da(b)||0>b)throw Error("Cannot send an invalid revision number to the server: "+b);b=["rev",b];if(0<a.length){for(var g=[],l=0;l<a.length;l++)g.push(f.j.ka(a[l]));b.push("bundles");b.push(f.g.stringify(g))}Qb(d)||(b.push("blobIdMap"),b.push(f.g.stringify(d)));e&&(b.push("syncReason"),b.push(e));
a=c.g?zd(c.O):Bd;d=pl(tl(nl(Do(c.C,"/save").o("id",c.B),b),c.M,c),c.I,c);d.B=r(a,void 0);d.Y=!0;a=sl(d,c.D);a.v=!0;c.G&&ml(a);p(c.o)&&a.setTimeout(c.o);ul(a);c=!0}c?this.v.listen(this.o,"fa",this.tk).listen(this.o,"ea",this.sk):this.g.R(new OF(!1,void 0))};k.Ij=function(a){this.g.R(new OF(!1,a))};k.tk=function(a){a=a.g;this.Vc=a[a.length-1].g;a=this.j;var b;b=this.Vc;Fv(a.g)?(qv(a.g,b),Ev(a.g)||YE(a.o,3,!a.I),b=DF(a)):b=Rh();b.Wb().V(r(a.Kk,a));this.g.K(this)};
k.sk=function(a){a=a.g;"e"!=a.type||a.j&&"e"!=a.j?this.g.R(new OF(!1,void 0)):Kh(BF(this.j),function(){this.g.R(new OF(!0,void 0))}.bind(this))};k.F=function(){G(this.v);MF.J.F.call(this)};function OF(a,b){this.j=a;this.g=b};function PF(a,b,c,d,e,f,g,l,n,u,y,D,U,Q,ha,la,Y,$a,$E,aF,dG,eG,zz,fG,gG){KF.call(this,l.getId());this.Tc=a;this.qc=b;if(null==d)throw Error("Must specify a session ID in order to save changes.");this.Y=c;this.fa=d;this.kb=new Ls;this.Ra=new ZE(new gF(this.kb));this.C=e;this.ac=f;this.o=g;this.j=l;this.la=new T;this.g=new SE(e,l.getId(),void 0,gG,[this.la]);this.g.Gl=!0;a=r(this.Ac,this);this.g.Dg=a;this.Uc=Y;this.nb=$a||null;this.T=$E||null;this.Pa=Tf(J(),"docos-eos");this.mb=aF||null;this.O=!!dG;
this.U=new W(this);this.G=this.D=null;if(!zz)throw Error("We can't deliver local changes without a blob transporter");this.Qa=zz||null;this.A=null;this.I=n;this.ea=u;if(null!=this.I&&!this.ea)throw Error("Must supply revision HMAC when syncing at revision.");this.pa=y;this.ma=D;this.$=U;this.zd=eG;this.$b=fG||null;this.M=!1;this.Sc=ha;this.Zb=la}v(PF,KF);k=PF.prototype;
k.El=function(a){if(0>=a.length)this.Ja(8,"Could not read local store: No opted in user.");else{var b=this.g,c=this.j;a=a[0].getId();b.C=this.o;b.g=c;b.ac=a;b=this.g;b.Pa||b.ia.K(!0);b=this.g;b.Sc.g||(b.j&&(c=b.j,a=b.A,c.o&&(c.o=!1,bo(a,Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:rv(c),queueRevision:tv(c)}),pv(c,!1),vv(c,!1),qv(c,null),uv(c,null),xv(c,null),c.v=[],c.j=[],Av(c,2)),b.j.ca()&&YE(b,1)),b.Sc.K(!0));TE(this.g);b=this.B;null!=this.I?this.ig(1):this.o.g.A.Wd(b,
r(this.ig,this),r(this.Ac,this))}};
k.ig=function(a){if(1!=a)this.Ja(3,"Unable to acquire the storage lock");else{var b=this.j,c=this.Y,d=this.C;a=new T;if(Uq(b,"inc"))if(null===b.$a())b.getId(),c={},c.docId=b.getId(),bo(d,Error("Not creating document without title"),c),a.R(void 0);else{b.getId();var d={newDocId:b.getId(),title:b.$a()},e=Wq(b,"ic");e&&(d.initialCommands=vc(e));(e=Tq(b,"fact"))&&(d.folder=e);(b=Tq(b,"odocid"))&&(d.sourceDocId=b);b=Do(c,"/create");b.T=!0;b=pl(tl(ol(b,d),a.K,a),a.R,a);p(2)&&sl(b,2);ul(b)}else b.getId(),
a.K(void 0);V(a,r(this.Ej,this),r(this.Mj,this))}};k.Mj=function(){this.Ja(7,"Could not create document.")};k.Ej=function(){var a=r(this.ql,this);Uq(this.j,"inc")?(OE(this.g),TE(this.g).V(a)):a()};k.ql=function(){var a=this.B,b=this.o,c=r(this.Ac,this),d=new T,e;(e=(e=b.g.le())?new hF(a,b,e,c):null)?(b=b.g.le(),e=La(oF,d,e),c=Qt(b.g,["BlobMetadata"],"Reading all blob metadata",c),Cn(c,"BlobMetadata",r(b.o,b),e,[a],[a,[]],void 0,void 0,void 0,!0)):d.K(null);d.V(this.hk,this)};
k.hk=function(a){var b=r(this.rl,this,r(this.Wi,this),r(this.Le,this));a?(this.A=a,(new LF(this.A,this.Qa,this.C)).send().V(b)):b()};k.rl=function(a,b){var c=IF(this.g,this.fa,this.o,this.C,r(this.ik,this),this.j.getId(),this.j.L());c?V(c,function(b){this.D=b;a()},this.jk,this):b&&b()};k.ik=aa();
k.Le=function(){var a=this.B,b=new GE(a,this.ac,this.g,this.nb||void 0,this.mb||void 0,QF(this));this.U.listen(b,"X",this.ck).listen(b,"ba",this.uk);var c=new RE(this.Tc+"/d/"+a,this.qc,b,r(this.kg,this),!1,!0,this.$,this.$b,this.Sc,this.Zb,this.Uc,null==this.I?void 0:this.I,this.ea||void 0,void 0,this.zd);this.M=!0;WE(this.g);TE(this.g).V(function(){c.fetch()})};
function QF(a){if(!a.A)return{};var b=mF(a.A),c={},d;for(d in b)b=a.A,(b.j[d]||b.o[d]||b.A[d]||null).getUrl()&&(c[d]=new OC(d,null,"image"));return c}
k.Wi=function(){var a=this.D;if(CF(a))this.Ja(5,"pending command queue is undeliverable.");else if(xF(a)&&!CF(a)){a.g||$n(a.j,Error("Cannot initialize queue without a record"));var b=tv(a.g);0>b&&$n(a.j,Error("Cannot initialize queue without a real pending queue revison."));var c=Pq(a.g,"revisionAccessInfo"),d=ns(c);a.Tf=!0;a.G=b;a.g||$n(a.j,Error("Cannot initialize queue without a record"));c=tv(a.g);a.I=a.g.ca();GF(a);if(c==b){var e=Pq(a.g,"selection");if(e&&a.T){e=a.T.g(new Ks(e));if(a.A)throw Error("Selection is already set in #initializeSelection");
a.A=e}}else uv(a.g,null);b<c&&!a.g.ca()&&$n(a.j,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));var e=!1,f;var g=rv(a.g);f=Tf(J(),"icso");Tf(J(),"docs-localstore-epqs")?(g=Ds(a.o.g),g=null!==g&&3==g,f=!f&&!a.g.ca()&&g):null!==g&&Fv(a.g)&&!Ev(a.g)&&b>=g?(f&&bo(a.j,Error("Model revision ahead of sentBundlesSavedRevision while cold starting",{pendingQueue_sentBundlesSavedRevision:g})),f=!0):f=!1;f&&(b>c?e=a.g.o=!0:b==c&&bo(a.j,
Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.j.g.pendingQueue_forcedEmptyInMemory=e.toString();a.g.ca()&&(sv(a.g,b,d),null!==a.C&&Z(a.g,"accessLevel",a.C));d=Tf(J(),"icso");b>c&&d&&!a.g.ca()&&(c=Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"),CF(a)?bo(a.j,c):$n(a.j,c));c=!1;e=rv(a.g);d=Tf(J(),"icso");Tf(J(),"docs-localstore-epqs")?(b=Ds(a.o.g),b=null!==b&&3==b,b=d&&!a.g.ca()&&b):null!==e&&Fv(a.g)&&
!Ev(a.g)&&b<e?(d||bo(a.j,Error("Model revision less than sentBundlesSavedRevision while warm starting",{pendingQueue_sentBundlesSavedRevision:e})),b=!0):b=!1;b&&(c=!0,AF(a));a.j.g.pendingQueue_setWaitingForAck=c.toString();a.M[a.U]=!0;b=Cv(a.g).concat(uF(a));for(c=0;c<b.length;c++)a.M[b[c].fa]=!0;a.dispatchEvent("pa");wF(a);a=new fF(!1,this.j.getId(),this.Y,0,0,this.Ra,2,Bo);this.G=new MF(this.D,this.A,a,this.$);V(this.G.send(),r(this.Le,this),r(this.kk,this))}else this.Le()};
k.jk=function(a){a?this.Ac(a):this.Ja(9,"Could not retrieve pending command queue.")};k.kk=function(a){this.O&&!CF(this.D)?Kh(BF(this.D),function(){RF(this,a)}.bind(this)):RF(this,a)};function RF(a,b){b.j?a.Ja(dy.gf,"Permanent failure while delivering the pending command queue"):b.g?a.Ac(b.g):a.Ja(6,"Temporary failure while delivering the pending command queue")}
k.ck=function(){var a=[];this.G&&NF(this.G);VE(this.g,!0);XE(this.g);this.la.K();a.push(this.g.ia);a.push(SF(this));(new Gn(a)).V(r(this.Wj,this));(a=this.o.g.Pf())&&qu(a,[this.B],r(aa(),this),r(function(a){this.C.log(a)},this))};function SF(a){if(!a.A||!nF(a.A).length)return Rh();var b=new T,c=nF(a.A),d=a.A;a=r(a.vl,a,b,c);d.j={};d.o={};d.A={};d.B={};d.g={};c=d.C;d=c.o;c=Qt(c.B.g,["BlobMetadata"],"Clearing all blob metadata",c.j||void 0,!0);Jt(c,a);zn(X(c,"BlobMetadata"),[d],[d,[]]);return b}
k.vl=function(a,b){for(var c=[],d=0;d<b.length;d++)Tq(b[d],"ou")&&c.push(Rh());Mh(new Gn(c),a)};k.uk=function(a){switch(a.g){case 1:this.kg(new PE(2));break;case 2:this.Ja(2,"Entity sync failed");break;case 3:this.ma?(UE(this.g),TF(this,!1)):this.Ja(7,"Server model fetch failed");break;default:this.Ja(7,"Unknown server document loader error")}};k.kg=function(a){this.O?(UE(this.g),TF(this,!0)):a.j()?this.Ja(12,a.message):this.Ja(7,a.message)};
function TF(a,b){b=b?r(a.Ja,a,7,"Server model fetch failed"):r(a.dd,a);a.j.H?b():(Oq(a.j),a.o.write([a.j],b,r(a.Ac,a)))}k.Wj=function(){var a=this.o.g.ld();if(a)if(UF(this)){var b;b=this.Pa&&this.T&&this.pa?(b=Wq(this.j,"docosKeyData"))&&0!=b.length&&UF(this)?!!this.fa:!1:!1;if(b){b=new Gz(35E3);b.V(r(this.Zi,this));var c=r(this.Yi,this);V(b.g,null,c,void 0);this.T.Ia(this.B,a,this.o,Wq(this.j,"docosKeyData"),r(b.K,b),r(b.v,b))}else this.dd()}else th(VF(this),this.dd.bind(this));else this.dd()};
function VF(a){return new S(function(a,c){ku(this.o.g.ld(),[this.B],function(){a()}.bind(this),function(a){this.C.log(a);c()}.bind(this))}.bind(a))}function UF(a){var b;a=Qq(a.j,"acl");var c=0,d=0;if(a)for(b in a)c=a[b],d++;b=1==d?c:0;return ts.indexOf(b)>=ts.indexOf(2)||ts.indexOf(b)>=ts.indexOf(4)}k.Zi=function(){th(VF(this),this.dd.bind(this))};k.Yi=function(){th(VF(this),function(){this.Ja(1,"Docos sync failed")}.bind(this))};
k.Ac=function(a){th(WF(this),function(){if(2==a.type)this.dispatchEvent(new cy(this.B,3,"Write failed due to lock steal: "+a.message));else{var b=tn(a);(b=!!b&&"QuotaExceededError"==b.name)||(b=tn(a),b=1==a.type&&!!b&&"UnknownError"==b.name);this.dispatchEvent(new cy(this.B,b?dy.pi:dy.ri,"Could not write document to local store: "+a.message))}}.bind(this))};k.Ja=function(a,b){th(WF(this),function(){this.dispatchEvent(new cy(this.B,a,b))}.bind(this))};
function WF(a){return a.M?new S(r(function(a,c){yu(this.o.g.g,this.j.getId(),r(function(b){b?(b.zc(!1),b.yc(t()),this.o.write([b],a,c)):a()},this),c)},a)):kh()}k.dd=function(){this.g.g.N?this.P():(VE(this.g,!1),this.M&&(this.g.zc(!0),this.g.yc(t())),TE(this.g).V(r(this.P,this)))};k.F=function(){G(this.U);G(this.G);PF.J.F.call(this)};function XF(a,b,c,d){this.j=a;this.o=b;this.v=c;this.g=d};function YF(a){this.g=a};function ZF(a){if(1>=a.length)return a;for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d],f=d<a.length-1?a[d+1]:null,g;if(g=null!=f){g=e;var l=f;g=Oc(B(g,tB,2),B(l,tB,2))&&z(B(g,EA,3),6)==z(B(l,EA,3),6)}g&&5E3>=c.length+Gc(e,nB,1).length+Gc(f,nB,1).length?Bb(c,Gc(e,nB,1)):0==c.length?b.push(e):(Bb(c,Gc(e,nB,1)),e=new uB(Hc(e).slice()),Ic(e,1,c),b.push(e),c=[])}return b};function iA(a,b,c){this.j=a;this.v=b;this.o=c;this.g=!1}function uy(a,b,c){a.g?c("Impression delivery already in progress."):(a.g=!0,Uu(a.j,r(a.A,a,b),r(function(a){this.g=!1;c(sn(a))},a)))}iA.prototype.A=function(a,b){var c=[];b=$F(b);for(var d in b){var e=b[d],f;for(f in e){for(var g=e[f],l=g[g.length-1].S.ibt,n=[],u=0;u<g.length;u++)n.push(new uB(Sb(g[u].S.iba)));g=ZF(n);c.push(aG(this,f,d||null,g,l))}}ph(c).then(function(){this.g=!1;a()},void 0,this)};
function $F(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=Tq(d,"di")||"",f=d.S.dt,g=b[e];g||(g={},b[e]=g);e=g[f];e||(e=[],g[f]=e);e.push(d)}return b}
function aG(a,b,c,d,e){var f=[],g=a.v[b];if(!g)return d="Could not find an impression sender for target "+b,Nn(a.o,Error(d)),lh(d);for(b=0;b<d.length;b++)f.push(g.g(d[b],c));return ph(f).then(function(a){if(!a.every(function(a){return a.qd})&&!a.some(function(a){return!a.qd&&a.reason instanceof SA&&a.reason.g}))throw Error("Impression batch sending failed from non-permanent errors.");}).then(function(){return new S(function(a,b){b=X(Qt(this.j.g,["Impressions"],"Error deleting impressions.",b,!0),
"Impressions");zn(b,[c||"",0],[c||"",e],a)},this)},void 0,a)};function bG(){this.j=!1}v(bG,AD);bG.prototype.g=function(a,b,c,d,e){"labelpath"==c.entityType?(c=uc(c.path),a=new Ou(b,a,"labelPath",c,!0),e.push(a)):bG.J.g.call(this,a,b,c,d,e)};function cG(a,b,c,d,e,f,g,l,n){this.o=a;this.g=c;this.A=f;this.j=g;this.v=l;this.B=n}cG.prototype.Ta=h("o");function hG(a,b,c,d,e){E.call(this);this.Sa=a;this.o=b;this.g=c;this.v=e;this.j=new W(this);F(this,this.j)}v(hG,E);hG.prototype.A=function(a,b){bo(this.g,Error(sn(b)));a()};
hG.prototype.B=function(a,b,c,d){var e;try{e=d.La()}catch(n){bo(this.g,Error("Could not interpret result of /getappmetadata "+(d.g||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Qs(f.newModelCommands);e=f.jobset;var g=f.docosKeyData,f=f.version,l=new Ut(this.Sa,!0);Z(l,"jobset",e);l.o=d.concat();l.j=!0;g&&Z(l,"docosKeyData",g);p(f)&&Z(l,"version",f);d=l}else d=null;d?a.write([d],b,r(this.A,this,c)):b()};hG.prototype.F=function(){hG.J.F.call(this);delete this.j;delete this.g};function iG(a,b,c){E.call(this);this.Sa=a;this.o=b;this.g=c}v(iG,E);iG.prototype.j=function(a,b){bo(this.g,Error(sn(b)));a()};iG.prototype.v=function(a,b,c,d){var e=Uf(J(),"docs-offline-nnodi");d<.9*e?(d=e-d,a=ul(sl(pl(tl(Do(this.o,"/getids").o("num",d),r(this.A,this,a,b,c)),c),2)),F(this,a)):b(0)};
iG.prototype.A=function(a,b,c,d){var e;try{e=d.La()}catch(f){bo(this.g,Error("Could not interpret result of /getids: "+(d.g||"")));c();return}e&&0!=e.length?(a=a.g.Yb())?Mu(a,this.Sa,e,La(b,e.length),r(this.j,this,c)):b(e.length):b(0)};function jG(a,b,c,d,e){E.call(this);this.Sa=a;this.re=new iG(a,b,c);this.g=new hG(a,b,c,0,e)}v(jG,E);jG.prototype.Uf=function(a,b,c,d){var e=La(b,d);b=this.g;d=La(e,!0);e=La(e,!1);a=sl(pl(tl(Do(b.o,"/getappmetadata").o("smv",b.v),r(b.B,b,a,d,e)),e),2);c&&a.o("forcehl","1","hl",c);c=ul(a);F(b,c)};jG.prototype.toString=function(){return"EditorMetadataFetcher for "+this.Sa};jG.prototype.F=function(){G(this.re);delete this.re;G(this.g);delete this.g;jG.J.F.call(this)};function kG(a,b,c,d,e,f){this.g=a;this.B=b;this.v=c;this.A=d;this.o=e;this.j=f?f:null}function lG(a,b,c,d,e,f,g,l){var n=a.B,u=eA(a),y=a.v,D=a.A,U=a.o,Q=a.g.j,ha=a.g.B;a=n.g?n.g():new jE;var la=new xE(new mo),Y=c.getId(),ha=new wE(new tE(Y,ha),la,new kE(Y,u,la),Y,u,U);return new PF(Q,"/model",u,wi(),U,new yE(n.o,n.v),b,c,d,e,f,g,l,0,-1,null,void 0,y,a,D,!1,void 0,ha,Uf(J(),"docs-offline-desktop-mms")||void 0,n.j)}function mG(a){return a.g.g?new jG(a.g.Ta(),eA(a),a.o,0,-1):null}
function eA(a){a.j||(a.j=nG(a.g));return a.j}function nG(a){var b=new Co(new Wm(a.v));b.j.o=a.j;b.B=zo;return b};function oG(a,b,c){this.g=a;this.v=null;this.M=b;this.o=new Uw(this.g,this.M);F(this,this.o);this.B=this.G=this.D=this.C=this.A=this.H=null;pG(this,c)}v(oG,E);
function pG(a,b){var c=Sf.ua(),d=new cG("drawing",0,!0,0,0,!0,Vf(c,"ddsup"),Vf(c,"ddscu"),Vf(c,"ddsci")),e=new cG("kix",0,!0,0,0,!0,Vf(c,"dksup"),Vf(c,"dkscu"),Vf(c,"dksci")),f=new cG("punch",0,!0,0,0,!0,Vf(c,"dpsup"),Vf(c,"dpscu"),Vf(c,"dpsci")),c=new cG("ritz",0,!0,0,0,!0,Vf(c,"drsup"),Vf(c,"drscu"),Vf(c,"drsci")),g=nG(e),l=[];l.push(qG(a,g));var n=new XF(new UD(l)),l=new XF(new UD(l),void 0,void 0,function(){return b(g)}),u=new XF(new UD([new TD(["docLocale","ritzChunkSize"])]),"top","chunk"),
y=rG(a);mA(a);var D=new bG;a.j={drawing:new kG(d,n,y,D,a.g),kix:new kG(e,l,y,new AD,a.g,g),punch:new kG(f,n,y,D,a.g,void 0),ritz:new kG(c,u,y,new AD(!0),a.g,void 0)}}function qG(a,b){b=new kA(b,a.g,{});var c=new T;b=new nA(new oA([pA(c),b]),c,0,!0);b=new qA(new rA(jA(),new sA,null,!1),b,new tA);sG(a,r(function(a){var b=a.Lb();a=b?new lA(b,a,mA(this),this.g):null;c.K(a)},a),r(c.R,c,null));return new SD(b)}
function sy(a,b,c,d,e,f,g,l,n,u){var y=c.L();a=a.j[y];if(!a)return null;var D=lG(a,b,c,f,g,l,n,u);if(!D)return null;b=new W;b.listen(D,"O",function(a){D.Z();d(a.Df)}).listen(D,"Q",function(a){D.Z();e(a)});F(D,b);return D}function uA(a){if(!a.A){var b=new T;a.A=b;var c=new DD(a.g);ED(c,r(b.K,b,c),r(b.R,b))}return a.A.Wb()}function mA(a){if(!a.H){var b=new RD;a.H=b;V(uA(a),function(a){for(b.j=new LD(a);0<b.o.length;)b.o.shift()()},function(a){throw a;})}return a.H}
function vA(a){if(!a.B){var b=uA(a);a.B=new MD(b)}return a.B}function rG(a){a.C||(a.C=new QD(mA(a)));return a.C}function sG(a,b,c){cA(a).then(b,c)}function cA(a){return a.o.get().then(function(a){return this.v=a}.bind(a))}function aA(a){var b=[];Hb(a.j,function(a){a.g.g&&b.push(mG(a))});return new YF(b)}
oG.prototype.I=function(a,b,c){var d=this.D,e=this.G,f=new sD(a,c),g;g=Sf.ua();g=Kb(Wf(g,"dffd"));m.console.log("Default font families: "+g);var l=new gE(this.g),n=a?a.g.Qf():null;if(a&&n)if(l.o=new fE(a,n,l.B),l.A){var u=l.o,y=r(l.C,l),D=r(l.g.R,l.g),n=u.o,u=La(u.v,y),D=Qt(n.o,["SyncObjects"],"Error reading SyncObjects.",D);Cn(D,"SyncObjects",r(n.g,n),u,void 0,void 0,void 0,void 0,void 0,!0)}else(n=l.j.ga())&&l.o&&l.o.write(n,La(ya,n));else l.A&&l.g.K();return new CC(new zD(b,f,e,d,g,c,this.g,l),
f,a,this.g)};oG.prototype.F=function(){qe(Kb(this.j));oG.J.F.call(this)};(function(){var a=self,b=CA();co(b,function(){function c(a){return new cr(a)}var d=new hr(a,3E4),e=new wA(d),d=new js(e),f=new Hr(e),g=new hr(a,9E4),l=new Er(new wA(g));ks(d).then(function(a){var d=new oG(b,a,c),g=d.o,n=gA(),g=new VA(new hA(n),null,oc?new UA(g,"offline"):new XA),U=new RA(n),Q=wi(),n=new GB;n.o=g;n.v=U;n.j=!0;g=n.g;z(g.g,1);A(g.g,1,Q);g=n.g;z(g.g,6);A(g.g,6,84);BB(n.g);g=new DB;g.j=n.g;null==g.g&&(g.g=new eB);Q=g.g;U=new CB;zB.getId();Q.g[zB.getId()]=U;Q=g.g;U=g.j;if(null==z(FB(U),
1)){var ha=FB(U),la=new qB;C(ha,1,la)}U=B(FB(U),qB,1);Q.nf=U;U=Kb(Q.Ii);for(ha=0;ha<U.length;ha++)U[ha].cu(Q.nf);g=new AB(g.j,g.g);n=new ZA(g,n.o,0,n.j);n=new dB(g,n);g=n.j.A;Q=1E3*t();z(g.g,2);A(g.g,2,Q);Q=(new HA).get();g.o=Q;g=n.j;Q=Pz(g,716);cB(g,Q);Q=Rz(Q);g.g.g.push(Q);g=n.g;YA(6E4,g.j.Mb,g.j);YA(36E5,g.A,g);n.g.j.Mb();g=new BA(b,n,e);F(g,d);a=new Yz(b,a,d,e,f,l,n);g.start(a)})},{},!0)()})();}).call(this);
