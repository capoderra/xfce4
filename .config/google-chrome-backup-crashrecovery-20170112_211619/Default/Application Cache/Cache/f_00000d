(function() { function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function h(a){return function(){return this[a]}}function ca(a){return function(){return a}}var k,ea="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},fa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ga(a,b){if(b){var c=fa;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ea(c,a,{configurable:!0,writable:!0,value:b})}}
ga("String.prototype.repeat",function(a){return a?a:function(a){var b;if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");b=this+"";if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});function ha(){ha=aa();fa.Symbol||(fa.Symbol=ia)}var ja=0;function ia(a){return"jscomp_symbol_"+(a||"")+ja++}
function ka(){ha();var a=fa.Symbol.iterator;a||(a=fa.Symbol.iterator=fa.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ea(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ka=aa()}function la(a){var b=0;return ma(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ma(a){ka();a={next:a};a[fa.Symbol.iterator]=function(){return this};return a}function oa(a){ka();var b=a[Symbol.iterator];return b?b.call(a):la(a)}
ga("Promise",function(a){function b(a){this.g=0;this.v=void 0;this.j=[];var b=this.A();try{a(b.resolve,b.reject)}catch(l){b.reject(l)}}function c(){this.g=null}if(a)return a;c.prototype.j=function(a){null==this.g&&(this.g=[],this.v());this.g.push(a)};c.prototype.v=function(){var a=this;this.o(function(){a.B()})};var d=fa.setTimeout;c.prototype.o=function(a){d(a,0)};c.prototype.B=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(p){this.A(p)}}}this.g=
null};c.prototype.A=function(a){this.o(function(){throw a;})};b.prototype.A=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.W),reject:a(this.B)}};b.prototype.W=function(a){if(a===this)this.B(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.H(a);else{var c;a:switch(typeof a){case "object":c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.D(a):this.C(a)}};b.prototype.D=function(a){var b=void 0;
try{b=a.then}catch(l){this.B(l);return}"function"==typeof b?this.I(b,a):this.C(a)};b.prototype.B=function(a){this.F(2,a)};b.prototype.C=function(a){this.F(1,a)};b.prototype.F=function(a,b){if(0!=this.g)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.g);this.g=a;this.v=b;this.S()};b.prototype.S=function(){if(null!=this.j){for(var a=this.j,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.j=null}};var e=new c;b.prototype.H=function(a){var b=this.A();a.o(b.resolve,b.reject)};
b.prototype.I=function(a,b){var c=this.A();try{a.call(b,c.resolve,c.reject)}catch(p){c.reject(p)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(na){f(na)}}:b}var e,f,g=new b(function(a,b){e=a;f=b});this.o(d(a,e),d(c,f));return g};b.prototype.o=function(a,b){function c(){switch(d.g){case 1:a(d.v);break;case 2:b(d.v);break;default:throw Error("Unexpected state: "+d.g);}}var d=this;null==this.j?e.j(c):this.j.push(function(){e.j(c)})};b.resolve=
function(a){return a instanceof b?a:new b(function(b){b(a)})};b.reject=function(a){return new b(function(b,c){c(a)})};b.j=function(a){return new b(function(c,d){for(var e=oa(a),f=e.next();!f.done;f=e.next())b.resolve(f.value).o(c,d)})};b.g=function(a){var c=oa(a),d=c.next();return d.done?b.resolve([]):new b(function(a,e){function f(b){return function(c){g[b]=c;l--;0==l&&a(g)}}var g=[],l=0;do g.push(void 0),l++,b.resolve(d.value).o(f(g.length-1),e),d=c.next();while(!d.done)})};b.$jscomp$new$AsyncExecutor=
function(){return new c};return b});var pa=pa||{},m=this;function n(a){return void 0!==a}function qa(a,b,c){a=a.split(".");c=c||m;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}}function sa(a,b){a=a.split(".");b=b||m;for(var c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ta(){}function ua(a){a.Fa=function(){return a.Zf?a.Zf:a.Zf=new a}}
function va(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function wa(a){return"array"==va(a)}function xa(a){var b=va(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function ya(a){return"number"==typeof a}function za(a){return"function"==va(a)}function Aa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function Ba(a){return a[Ca]||(a[Ca]=++Da)}var Ca="closure_uid_"+(1E9*Math.random()>>>0),Da=0;
function Ea(a,b,c){return a.call.apply(a.bind,arguments)}function Fa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ea:Fa;return r.apply(null,arguments)}
function Ga(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Ha(a,b){for(var c in b)a[c]=b[c]}var t=Date.now||function(){return+new Date};
function Ia(a){if(m.execScript)m.execScript(a,"JavaScript");else if(m.eval){if(null==Ja)if(m.eval("var _evalTest_ = 1;"),"undefined"!=typeof m._evalTest_){try{delete m._evalTest_}catch(d){}Ja=!0}else Ja=!1;if(Ja)m.eval(a);else{var b=m.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");}var Ja=null;
function v(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.bt=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ka(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ka);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(Ka,Error);Ka.prototype.name="CustomError";var La;function Ma(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Na(a){return/^[\s\xa0]*$/.test(a)}var Oa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Pa(a){return decodeURIComponent(a.replace(/\+/g," "))}var Qa=/&/g,Ra=/</g,Sa=/>/g,Ta=/"/g,Va=/'/g,Wa=/\x00/g,Xa=/[\x00&<>"']/;
function Ya(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=m.document.createElement("div");return a.replace(Za,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})}
function $a(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Za=/&([^;\s<&]+);?/g,ab=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
function bb(a){a=n(void 0)?a.toFixed(void 0):String(a);var b=a.indexOf(".");-1==b&&(b=a.length);return ab("0",Math.max(0,2-b))+a}function cb(a){return null==a?"":String(a)}function db(a){return Array.prototype.join.call(arguments,"")}function eb(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)}function fb(a,b){return a<b?-1:a>b?1:0}var gb=2147483648*Math.random()|0;function hb(a,b){return Array.prototype.indexOf.call(a,b,void 0)}function ib(a,b,c){Array.prototype.forEach.call(a,b,c)}function jb(a,b){for(var c=q(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}function kb(a,b){return Array.prototype.map.call(a,b,void 0)}function lb(a,b){return Array.prototype.some.call(a,b,void 0)}
function mb(a,b){a:{for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:q(a)?a.charAt(b):a[b]}function nb(a,b){return 0<=hb(a,b)}function ob(a,b){nb(a,b)||a.push(b)}function pb(a,b){b=hb(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function qb(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function rb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function sb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(xa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function tb(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function ub(a,b,c){function d(a){return Aa(a)?"o"+Ba(a):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,g=0;g<a.length;){var l=a[g++],p=c(l);Object.prototype.hasOwnProperty.call(e,p)||(e[p]=!0,b[f++]=l)}b.length=f}function vb(a,b,c){if(!xa(a)||!xa(b)||a.length!=b.length)return!1;var d=a.length;c=c||wb;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function wb(a,b){return a===b}
function xb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(wa(d))for(var e=0;e<d.length;e+=8192)for(var f=xb.apply(null,tb(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};function yb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function zb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Ab(a){var b=0,c;for(c in a)b++;return b}function Bb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Db(a,b){return null!==a&&b in a}function Eb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Fb(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}
function Gb(a,b){return(b=Fb(a,b,void 0))&&a[b]}function Hb(a){for(var b in a)return!1;return!0}function Ib(a){var b={},c;for(c in a)b[c]=a[c];return b}function Jb(a){var b=va(a);if("object"==b||"array"==b){if(za(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=Jb(a[c]);return b}return a}var Kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Lb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Kb.length;f++)c=Kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Mb(a){var b=arguments.length;if(1==b&&wa(arguments[0]))return Mb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Nb;a:{var Ob=m.navigator;if(Ob){var Pb=Ob.userAgent;if(Pb){Nb=Pb;break a}}Nb=""}function x(a){return-1!=Nb.indexOf(a)};function Qb(){return(x("Chrome")||x("CriOS"))&&!x("Edge")};function Rb(){return x("iPhone")&&!x("iPod")&&!x("iPad")}function Sb(){return Rb()||x("iPad")||x("iPod")};function Tb(a,b){var c=Ub;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Vb="",Wb=/WebKit\/(\S+)/.exec(Nb);Wb&&(Vb=Wb?Wb[1]:"");var Xb=Vb,Ub={};
function Yb(a){return Tb(a,function(){for(var b=0,c=Oa(String(Xb)).split("."),d=Oa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==g[0].length&&0==l[0].length)break;b=fb(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||fb(0==g[2].length,0==l[2].length)||fb(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})};var Zb=x("Firefox"),$b=Rb()||x("iPod"),ac=x("iPad"),bc=x("Android")&&!(Qb()||x("Firefox")||x("Opera")||x("Silk")),cc=Qb(),dc=x("Safari")&&!(Qb()||x("Coast")||x("Opera")||x("Edge")||x("Silk")||x("Android"))&&!Sb();function ec(a){return kb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var fc=null;function gc(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function hc(a){a=String(a);if(gc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function ic(a){return eval("("+a+")")}function jc(a,b){return(new kc(b)).ia(a)}
function kc(a){this.g=a}kc.prototype.ia=function(a){var b=[];lc(this,a,b);return b.join("")};
function lc(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(wa(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],lc(a,a.g?a.g.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),mc(d,c),c.push(":"),lc(a,a.g?a.g.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":mc(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var nc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},oc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function mc(a,b){b.push('"',a.replace(oc,function(a){var b=nc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),nc[a]=b);return b}),'"')};function pc(a,b,c,d){this.g=a;this.Hf=b;this.j=c;this.Ne=d;this.gk=0}function y(){}var qc="function"==typeof Uint8Array;function A(a,b,c,d,e){a.g=null;b||(b=c?[c]:[]);a.C=c?String(c):void 0;a.A=0===c?-1:0;a.o=b;a:{if(a.o.length&&(b=a.o.length-1,(c=a.o[b])&&"object"==typeof c&&!wa(c)&&!(qc&&c instanceof Uint8Array))){a.v=b-a.A;a.j=c;break a}-1<d?(a.v=d,a.j=null):a.v=Number.MAX_VALUE}a.B={};if(e)for(d=0;d<e.length;d++)b=e[d],b<a.v?(b+=a.A,a.o[b]=a.o[b]||rc):a.j[b]=a.j[b]||rc}var rc=[];
function sc(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function B(a,b){if(b<a.v){b+=a.A;var c=a.o[b];return c===rc?a.o[b]=[]:c}c=a.j[b];return c===rc?a.j[b]=[]:c}function tc(a,b){a=B(a,b);return null==a?!0:a}function C(a,b,c){b<a.v?a.o[b+a.A]=c:a.j[b]=c}function D(a,b,c){a.g||(a.g={});if(!a.g[c]){var d=B(a,c);d&&(a.g[c]=new b(d))}return a.g[c]}
function uc(a,b,c){a.g||(a.g={});if(!a.g[c]){for(var d=B(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.g[c]=e}b=a.g[c];b==rc&&(b=a.g[c]=[]);return b}function E(a,b,c){a.g||(a.g={});var d=c?vc(c):c;a.g[b]=c;C(a,b,d)}function wc(a,b,c){a.g||(a.g={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=vc(c[e]);a.g[b]=c;C(a,b,d)}function xc(a){if(a.g)for(var b in a.g){var c=a.g[b];if(wa(c))for(var d=0;d<c.length;d++)c[d]&&vc(c[d]);else c&&vc(c)}}function vc(a){xc(a);return a.o}
var yc=m.JSON&&m.JSON.stringify||"object"===typeof JSON&&JSON.stringify;k=y.prototype;
k.ia=qc?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){xa(this);if(!fc){fc={};for(var a=0;65>a;a++)fc[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)}for(var a=fc,b=[],e=0;e<this.length;e+=3){var f=this[e],g=e+1<this.length,l=g?this[e+1]:0,p=e+2<this.length,u=p?this[e+2]:0,w=f>>2,f=(f&3)<<4|l>>4,l=(l&15)<<2|u>>6,u=u&63;p||(u=64,g||(l=64));b.push(a[w],a[f],a[l],a[u])}return b.join("")};try{var b=yc.call(null,vc(this),zc)}finally{Uint8Array.prototype.toJSON=
a}return b}:yc?function(){return yc.call(null,vc(this),zc)}:function(){return jc(vc(this),zc)};function zc(a,b){if(ya(b)){if(isNaN(b))return"NaN";if(Infinity===b)return"Infinity";if(-Infinity===b)return"-Infinity"}return b}function Ac(a){var b=Bc[a[0]];if(!b)throw Error("Unknown JsPb message type: "+a[0]);return new b(a)}k.toString=function(){xc(this);return this.o.toString()};
k.Ae=function(a){if(this.j){this.g||(this.g={});var b=a.g;return a.j?(!this.g[b]&&this.j[b]&&(this.g[b]=new a.j(this.j[b])),this.g[b]):this.j[b]}};k.Ed=function(a,b){this.g||(this.g={});var c=this.v+this.A;this.o[c]||(this.j=this.o[c]={});c=a.g;a.j?(this.g[c]=b,this.j[c]=b?vc(b):b):this.j[c]=b};function Cc(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&Dc(vc(a),vc(b))}
function Ec(a,b){a=a||{};b=b||{};var c={},d;for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!Dc(a[d],b[d]))return!1;return!0}
function Dc(a,b){if(a==b)return!0;if(!Aa(a)||!Aa(b)||a.constructor!=b.constructor)return!1;if(qc&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){for(var d=void 0,e=void 0,f=Math.max(a.length,b.length),c=0;c<f;c++){var g=a[c],l=b[c];g&&g.constructor==Object&&(d=g,g=void 0);l&&l.constructor==Object&&(e=l,l=void 0);if(!Dc(g,l))return!1}return d||e?(d=d||{},e=e||{},Ec(d,e)):!0}if(a.constructor===Object)return Ec(a,
b);throw Error("Invalid type in JSPB array");}k.clone=function(){return Fc(this)};function Fc(a){return new a.constructor(Gc(vc(a)))}function Gc(a){var b;if(wa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Gc(b):b);return c}if(qc&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Gc(b):b);return c}function Hc(a,b){Bc[a]=b;b.pt=a}var Bc={};function Ic(a){A(this,a,0,-1,null)}v(Ic,y);Ic.prototype.getUrl=function(){return B(this,2)};Ic.prototype.getId=function(){return B(this,9)};function Jc(a){A(this,a,0,-1,null)}v(Jc,y);Jc.prototype.getUrl=function(){return B(this,1)};function Kc(a){A(this,a,0,-1,null)}v(Kc,y);function Lc(a){A(this,a,0,1,null)}v(Lc,y);function Mc(a){A(this,a,0,-1,null)}v(Mc,y);Mc.prototype.L=function(){return B(this,1)};function Nc(a){A(this,a,0,-1,null)}v(Nc,y);Nc.prototype.L=function(){return B(this,1)};function Oc(a){A(this,a,0,-1,null)}v(Oc,y);Oc.prototype.getId=function(){return B(this,4)};function Pc(a){A(this,a,0,-1,null)}v(Pc,y);function Qc(a){A(this,a,0,-1,Rc)}v(Qc,y);var Rc=[8];Qc.prototype.getId=function(){return B(this,1)};function Sc(a){return uc(a,Qc,8)}function Tc(a){A(this,a,0,-1,null)}v(Tc,y);
Tc.prototype.getId=function(){return B(this,1)};function Uc(a){return D(a,Qc,2)}function Vc(a){A(this,a,0,-1,null)}v(Vc,y);Vc.prototype.getId=function(){return B(this,1)};Vc.prototype.Xa=function(){return D(this,Mc,2)};function Wc(a){A(this,a,0,-1,null)}v(Wc,y);function Xc(a){A(this,a,0,-1,Yc)}v(Xc,y);var Yc=[5];function Zc(a){A(this,a,0,-1,null)}v(Zc,y);k=Zc.prototype;k.ac=function(){return tc(this,2)};k.Vc=function(a){C(this,2,a)};k.Zb=function(){return B(this,3)};k.dc=function(){return tc(this,4)};k.ec=function(){return tc(this,5)};function $c(a){A(this,a,0,-1,null)}v($c,y);function ad(a){A(this,a,"uc",-1,null)}v(ad,y);Hc("uc",ad);function bd(a){A(this,a,"rjse",-1,null)}v(bd,y);Hc("rjse",bd);function cd(a){A(this,a,"u",-1,dd)}v(cd,y);var dd=[1,2];Hc("u",cd);function ed(a){A(this,a,"kd",-1,null)}v(ed,y);Hc("kd",ed);ed.prototype.le=function(){return D(this,Zc,7)};function fd(a){A(this,a,"tf",-1,null)}v(fd,y);Hc("tf",fd);function gd(a){A(this,a,0,-1,hd)}v(gd,y);var hd=[1];function id(a){A(this,a,"sr",-1,jd)}v(id,y);var jd=[1];
Hc("sr",id);function kd(a,b,c){function d(a){return c?rb(a):a}var e=null;a&&wa(a)&&(e=d(a),wa(e[0])&&b==e[0][0]&&(e=d(e[0]),e.shift()));return e};function ld(a){return function(){return a}}var md=ld(null);function nd(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function od(a,b,c,d,e,f,g){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);g&&(l+="#"+g);return l}var pd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qd(a){a=a.match(pd);return od(a[1],a[2],a[3],a[4])}
function rd(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?Pa(f):"")}}}function sd(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}
function td(a,b,c){if(wa(b))for(var d=0;d<b.length;d++)td(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function ud(a,b,c){for(c=c||0;c<b.length;c+=2)td(b[c],b[c+1],a);return a}function vd(a){a=ud([],a,void 0);a[0]="";return a.join("")}function wd(a,b){for(var c in b)td(c,b[c],a);return a}function xd(a){a=wd([],a);a[0]="";return a.join("")}function yd(a,b){return sd(2==arguments.length?ud([a],arguments[1],0):ud([a],arguments,1))}
function zd(a,b){return sd(wd([a],b))}function Ad(a,b,c){a=[a,"&",b];null!=c&&a.push("=",encodeURIComponent(String(c)));return sd(a)}function Bd(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(38==f||63==f)if(f=a.charCodeAt(b+e),!f||61==f||38==f||35==f)return b;b+=e+1}return-1}var Cd=/#|$/;function Dd(a,b){var c=a.search(Cd),d=Bd(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return Pa(a.substr(d,e-d))}var Ed=/[?&]($|#)/;
function Fd(a,b){var c=a.length-1;0<=c&&a.indexOf("/",c)==c&&(a=a.substr(0,a.length-1));0==b.lastIndexOf("/",0)&&(b=b.substr(1));return db(a,"/",b)};function Gd(a,b,c,d,e){b&&!Na(b)&&Oa(b.toLowerCase());this.g=e}Gd.prototype.getId=h("g");function Hd(){};function Id(a,b){if(n(b.getId())){var c=b.getId();C(a,1,c)}c=Uc(b);if(n(c)){var d=Uc(a);c?d?Jd(d,c):E(a,2,c):E(a,2,void 0)}n(B(b,3))&&(c=B(b,3),C(a,3,c));n(B(b,4))&&(c=B(b,4),C(a,4,c));d=D(b,Vc,5);if(n(d))if(c=D(a,Vc,5),d)if(c){if(n(d.getId())){var e=d.getId();C(c,1,e)}e=d.Xa();if(n(e)){var f=c.Xa();e?f?Kd(f,e):E(c,2,e):E(c,2,void 0)}d=D(d,Tc,3);n(d)&&(e=D(c,Tc,3),d?e?Id(e,d):E(c,3,d):E(c,3,void 0))}else E(a,5,d);else E(a,5,void 0);n(B(b,6))&&(c=B(b,6),C(a,6,c));n(B(b,7))&&(c=B(b,7),C(a,7,c));n(B(b,
8))&&(c=B(b,8),C(a,8,c));n(B(b,9))&&(b=B(b,9),C(a,9,b))}
function Jd(a,b){if(n(b.getId())){var c=b.getId();C(a,1,c)}n(B(b,2))&&(c=B(b,2),C(a,2,c));c=D(b,Mc,3);if(n(c)){var d=D(a,Mc,3);c?d?Kd(d,c):E(a,3,c):E(a,3,void 0)}c=D(b,Mc,4);n(c)&&(d=D(a,Mc,4),c?d?Kd(d,c):E(a,4,c):E(a,4,void 0));c=D(b,Oc,5);n(c)&&(d=D(a,Oc,5),c?d?Ld(d,c):E(a,5,c):E(a,5,void 0));d=D(b,Ic,14);if(n(d))if(c=D(a,Ic,14),d)if(c){if(n(B(d,1))){var e=B(d,1);C(c,1,e)}n(d.getUrl())&&(e=d.getUrl(),C(c,2,e));var f=D(d,Jc,3);if(n(f))if(e=D(c,Jc,3),f)if(e){if(n(f.getUrl())){var g=f.getUrl();C(e,
1,g)}n(B(f,2))&&(g=B(f,2),C(e,2,g));n(B(f,3))&&(f=B(f,3),C(e,3,f))}else E(c,3,f);else E(c,3,void 0);n(B(d,4))&&(e=B(d,4),C(c,4,e));n(B(d,5))&&(e=B(d,5),C(c,5,e));n(B(d,6))&&(e=B(d,6),C(c,6,e));f=D(d,Kc,7);n(f)&&(e=D(c,Kc,7),f?e?(n(B(f,1))&&(g=B(f,1),C(e,1,g)),n(B(f,2))&&(g=B(f,2),C(e,2,g)),n(B(f,3))&&(g=B(f,3),C(e,3,g)),n(B(f,4))&&(f=B(f,4),C(e,4,f))):E(c,7,f):E(c,7,void 0));n(B(d,8))&&(d=B(d,8),C(c,8,d))}else E(a,14,d);else E(a,14,void 0);n(B(b,6))&&(c=B(b,6),C(a,6,c));n(B(b,7))&&(c=B(b,7),C(a,7,
c));Sc(b)&&(c=qb(Sc(a),Sc(b)),wc(a,8,c));d=D(b,Nc,9);n(d)&&(c=D(a,Nc,9),d?c?(n(d.L())&&(e=d.L(),C(c,1,e)),n(B(d,2))&&(e=B(d,2),C(c,2,e)),n(D(d,Lc,3))&&(e=D(d,Lc,3),E(c,3,e)),n(B(d,4))&&(d=B(d,4),C(c,4,d))):E(a,9,d):E(a,9,void 0));n(B(b,10))&&(c=B(b,10),C(a,10,c));n(B(b,11))&&(c=B(b,11),C(a,11,c));n(B(b,12))&&(c=B(b,12),C(a,12,c));n(B(b,13))&&(c=B(b,13),C(a,13,c));n(B(b,15))&&(c=B(b,15),C(a,15,c));n(B(b,16))&&(c=B(b,16),C(a,16,c));n(B(b,17))&&(c=B(b,17),C(a,17,c));n(B(b,20))&&(c=B(b,20),C(a,20,c));
d=D(b,Pc,18);n(d)&&(c=D(a,Pc,18),d?c?(d=D(d,Oc,1),n(d)&&(e=D(c,Oc,1),d?e?Ld(e,d):E(c,1,d):E(c,1,void 0))):E(a,18,d):E(a,18,void 0));c=D(b,Xc,19);n(c)&&(b=D(a,Xc,19),c?b?(n(B(c,1))&&(a=B(c,1),C(b,1,a)),n(B(c,3))&&(a=B(c,3),C(b,3,a)),n(B(c,2))&&(a=B(c,2),C(b,2,a)),n(B(c,4))&&(a=B(c,4),C(b,4,a)),n(uc(c,Wc,5))&&(a=uc(c,Wc,5),wc(b,5,a))):E(a,19,c):E(a,19,void 0))}function Kd(a,b){if(n(b.L())){var c=b.L();C(a,1,c)}n(B(b,2))&&(b=B(b,2),C(a,2,b))}
function Ld(a,b){if(n(B(b,1))){var c=B(b,1);C(a,1,c)}n(B(b,2))&&(c=B(b,2),C(a,2,c));n(B(b,3))&&(c=B(b,3),C(a,3,c));n(b.getId())&&(c=b.getId(),C(a,4,c));n(B(b,5))&&(c=B(b,5),C(a,5,c));n(B(b,6))&&(c=B(b,6),C(a,6,c));n(B(b,7))&&(c=B(b,7),C(a,7,c));n(B(b,8))&&(b=B(b,8),C(a,8,b))};var Md={Tm:["BC","AD"],Sm:["Before Christ","Anno Domini"],vp:"JFMAMJJASOND".split(""),Tr:"JFMAMJJASOND".split(""),rp:"January February March April May June July August September October November December".split(" "),Sr:"January February March April May June July August September October November December".split(" "),Fr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vs:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Xr:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Hr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Wr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),wp:"SMTWTFS".split(""),Ur:"SMTWTFS".split(""),Gr:["Q1","Q2","Q3","Q4"],jq:["1st quarter","2nd quarter","3rd quarter","4th quarter"],xl:["AM","PM"],Zl:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],us:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],$l:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],fh:6,Ws:[5,6],gh:5},Nd=Md,
Nd=Md;function Od(a,b,c){ya(a)?(this.g=Pd(a,b||0,c||1),Qd(this,c||1)):Aa(a)?(this.g=Pd(a.getFullYear(),a.getMonth(),a.getDate()),Qd(this,a.getDate())):(this.g=new Date(t()),a=this.g.getDate(),this.g.setHours(0),this.g.setMinutes(0),this.g.setSeconds(0),this.g.setMilliseconds(0),Qd(this,a))}function Pd(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}k=Od.prototype;k.If=Nd.fh;k.Jf=Nd.gh;k.clone=function(){var a=new Od(this.g);a.If=this.If;a.Jf=this.Jf;return a};
k.getFullYear=function(){return this.g.getFullYear()};k.getMonth=function(){return this.g.getMonth()};k.getDate=function(){return this.g.getDate()};k.getTime=function(){return this.g.getTime()};k.set=function(a){this.g=new Date(a.getFullYear(),a.getMonth(),a.getDate())};function Rd(a){return[a.getFullYear(),bb(a.getMonth()+1),bb(a.getDate())].join("")+""}k.yb=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};k.toString=function(){return Rd(this)};
function Qd(a,b){a.getDate()!=b&&a.g.setUTCHours(a.g.getUTCHours()+(a.getDate()<b?1:-1))}k.valueOf=function(){return this.g.valueOf()};function Sd(a){D(a,Oc,1);this.g=a}Sd.prototype.yb=function(a){return Cc(this.g,a.g)};function Td(a){a.getId()||B(a,11);this.g=a;0==B(this.g,13)&&(C(this.g,13,void 0),C(this.g,15,void 0))}k=Td.prototype;k.update=function(a){n(B(a,13))&&0!=B(a,13)&&(E(a,3,void 0),E(a,4,void 0),E(a,9,void 0));Jd(this.g,a);0==B(this.g,13)&&(C(this.g,13,void 0),C(this.g,15,void 0))};k.yb=function(a){return Cc(this.g,a.g)};k.getId=function(){return this.g.getId()||B(this.g,11)||""};k.cb=function(){return!!B(this.g,12)};k.Ba=function(){return!!B(this.g,13)};function F(){this.W=this.W;this.S=this.S}F.prototype.W=!1;F.prototype.isDisposed=h("W");F.prototype.X=function(){this.W||(this.W=!0,this.G())};function G(a,b){b=Ga(H,b);a.W?n(void 0)?b.call(void 0):b():(a.S||(a.S=[]),a.S.push(n(void 0)?r(b,void 0):b))}F.prototype.G=function(){if(this.S)for(;this.S.length;)this.S.shift()()};function H(a){a&&"function"==typeof a.X&&a.X()}function Ud(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];xa(d)?Ud.apply(null,d):H(d)}};function I(a,b){this.type=a;this.o=this.target=b;this.v=!1;this.vg=!0}I.prototype.stopPropagation=function(){this.v=!0};I.prototype.A=function(){this.vg=!1};var Vd=[],Wd=[],Xd=!1;function Yd(a){Vd[Vd.length]=a;if(Xd)for(var b=0;b<Wd.length;b++)a(r(Wd[b].g,Wd[b]))};Yb("528");Yb("528");function Zd(a,b){I.call(this,a?a.type:"");this.o=this.target=null;this.screenY=this.screenX=this.clientY=this.clientX=0;this.g=this.state=null;a&&this.init(a,b)}v(Zd,I);
Zd.prototype.init=function(a,b){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.o=b;null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0);this.state=a.state;this.g=a;a.defaultPrevented&&
this.A()};Zd.prototype.stopPropagation=function(){Zd.J.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};Zd.prototype.A=function(){Zd.J.A.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};function $d(){}var ae="closure_listenable_"+(1E6*Math.random()|0);function be(a){return!(!a||!a[ae])}var ce=0;function de(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.capture=!!d;this.pd=e;this.key=++ce;this.Tc=this.tb=!1}function ee(a){a.Tc=!0;a.listener=null;a.g=null;a.src=null;a.pd=null};function fe(a){this.src=a;this.g={};this.j=0}function ge(a,b,c,d,e,f){var g=b.toString();b=a.g[g];b||(b=a.g[g]=[],a.j++);var l=he(b,c,e,f);-1<l?(a=b[l],d||(a.tb=!1)):(a=new de(c,a.src,g,!!e,f),a.tb=d,b.push(a));return a}function ie(a,b){var c=b.type;c in a.g&&pb(a.g[c],b)&&(ee(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function je(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=he(a,c,d,e));return-1<b?a[b]:null}
function he(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Tc&&f.listener==b&&f.capture==!!c&&f.pd==d)return e}return-1};var ke="closure_lm_"+(1E6*Math.random()|0),le={},me=0;function ne(a,b,c,d,e){if(wa(b)){for(var f=0;f<b.length;f++)ne(a,b[f],c,d,e);return null}c=oe(c);return be(a)?a.listen(b,c,d,e):pe(a,b,c,!1,d,e)}
function pe(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,l=qe(a);l||(a[ke]=l=new fe(a));c=ge(l,b,c,d,e,f);if(c.g)return c;d=re();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(se(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");me++;return c}function re(){function a(c){return b.call(a.src,a.listener,c)}var b=te;return a}
function ue(a,b,c,d,e){if(wa(b)){for(var f=0;f<b.length;f++)ue(a,b[f],c,d,e);return null}c=oe(c);return be(a)?ge(a.v,String(b),c,!0,d,e):pe(a,b,c,!0,d,e)}function ve(a,b,c,d,e){if(wa(b))for(var f=0;f<b.length;f++)ve(a,b[f],c,d,e);else c=oe(c),be(a)?a.Zc(b,c,d,e):a&&(a=qe(a))&&(b=je(a,b,c,!!d,e))&&we(b)}
function we(a){if(!ya(a)&&a&&!a.Tc){var b=a.src;if(be(b))ie(b.v,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(se(c),d);me--;(c=qe(b))?(ie(c,a),0==c.j&&(c.src=null,b[ke]=null)):ee(a)}}}function xe(a,b,c,d,e){c=oe(c);d=!!d;return be(a)?je(a.v,String(b),c,d,e):a?(a=qe(a))?je(a,b,c,d,e):null:null}function se(a){return a in le?le[a]:le[a]="on"+a}
function te(a,b){if(a.Tc)a=!0;else{b=new Zd(b,this);var c=a.listener,d=a.pd||a.src;a.tb&&we(a);a=c.call(d,b)}return a}function qe(a){a=a[ke];return a instanceof fe?a:null}var ye="__closure_events_fn_"+(1E9*Math.random()>>>0);function oe(a){if(za(a))return a;a[ye]||(a[ye]=function(b){return a.handleEvent(b)});return a[ye]}Yd(function(a){te=a(te)});function J(){F.call(this);this.v=new fe(this);this.Ub=this;this.F=null}v(J,F);J.prototype[ae]=!0;k=J.prototype;k.addEventListener=function(a,b,c,d){ne(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){ve(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.F;if(c){b=[];for(var d=1;c;c=c.F)b.push(c),++d}c=this.Ub;d=a.type||a;if(q(a))a=new I(a,c);else if(a instanceof I)a.target=a.target||c;else{var e=a;a=new I(d,c);Lb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.v&&0<=g;g--)f=a.o=b[g],e=ze(f,d,!0,a)&&e;a.v||(f=a.o=c,e=ze(f,d,!0,a)&&e,a.v||(e=ze(f,d,!1,a)&&e));if(b)for(g=0;!a.v&&g<b.length;g++)f=a.o=b[g],e=ze(f,d,!1,a)&&e;return e};
k.G=function(){J.J.G.call(this);if(this.v){var a=this.v,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,ee(d[e]);delete a.g[c];a.j--}}this.F=null};k.listen=function(a,b,c,d){return ge(this.v,String(a),b,!1,c,d)};k.Zc=function(a,b,c,d){var e;e=this.v;a=String(a).toString();if(a in e.g){var f=e.g[a];b=he(f,b,c,d);-1<b?(ee(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.g[a],e.j--),e=!0):e=!1}else e=!1;return e};
function ze(a,b,c,d){b=a.v.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Tc&&g.capture==c){var l=g.listener,p=g.pd||g.src;g.tb&&ie(a.v,g);e=!1!==l.call(p,d)&&e}}return e&&0!=d.vg};function Ae(a){J.call(this);this.ae(a)}v(Ae,J);k=Ae.prototype;
k.ae=function(a){var b=a.kd;if(!n(D(b,Oc,9)))throw Error("Invalid or missing user.");var c=D(b,Oc,9),d=new Hd,e=B(c,1);d.v=e;e=B(c,8);d.g=e&&!Na(e)?Oa(e.toLowerCase()):null;e=B(c,2);d.B=e;e=B(c,3);d.A=e;e=c.getId()||"";d.j=e;c=!!B(c,5);d.o=c;this.Lg=new Gd(0,d.g,0,0,d.j);this.ye=!!B(b,40);this.vf=!B(b,20);this.Zd=B(b,11);this.Kf=!!B(b,12);B(b,6);this.wf=n(a.l)?!!a.l:!!B(b,25);this.og=B(b,21);this.xf=B(b,23);this.Og=B(b,24);this.$f=B(b,31);n(a.i)?this.$d=a.i:this.$d=void 0;if(a=D(b,fd,44))this.be=
B(a,1);this.dispatchEvent("r")};k.$f=null;k.$d=void 0;k.Zd=null;k.wf=!1;k.ye=!1;k.og=null;k.xf=null;k.Og=null;k.vf=!0;k.Kf=!1;k.Lg=null;k.be=null;function Be(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.v=d;this.Kd=e}k=Be.prototype;k.ac=h("j");k.Zb=h("g");k.dc=h("o");k.ec=h("v");k.yb=function(a){return a instanceof Be?this.ac()==a.ac()&&this.Zb()==a.Zb()&&this.dc()==a.dc()&&this.ec()==a.ec()&&this.Kd==a.Kd:!1};function Ce(a,b){this.width=a;this.height=b}k=Ce.prototype;k.clone=function(){return new Ce(this.width,this.height)};k.gi=function(){return this.width*this.height};k.aa=function(){return!this.gi()};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function De(a){return a?new Ee(9==a.nodeType?a:a.ownerDocument||a.document):La||(La=new Ee)}function Fe(a){return a.parentWindow||a.defaultView}function Ge(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ee(a){this.g=a||m.document||document}Ee.prototype.createElement=function(a){return this.g.createElement(String(a))};Ee.prototype.appendChild=function(a,b){a.appendChild(b)};Ee.prototype.j=Ge;
Ee.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function He(a){var b=a.kd;q(b)&&(b=ic(b));wa(b)&&(b=kd(b,"kd",!0),b.unshift("kd"),a.kd=new ed(b));Ae.call(this,a)}v(He,Ae);
He.prototype.ae=function(a){He.J.ae.call(this,a);this.g=a.kd;var b;if(!(b=this.A))if(q(document.URL)){var c=document.URL,d=c.search(Cd),e=0,f;for(b=[];0<=(f=Bd(c,e,"disco",d));){e=c.indexOf("&",f);if(0>e||e>d)e=d;f+=6;b.push(Pa(c.substr(f,e-f)))}if(1<b.length)throw Error("Only one docoid can be specified in the url query parameter");if(m.history&&m.history.replaceState){for(var c=document.URL,d=c.search(Cd),e=0,g=[];0<=(f=Bd(c,e,"disco",d));)g.push(c.substring(e,f)),e=Math.min(c.indexOf("&",f)+1||
d,d);g.push(c.substr(e));c=g.join("").replace(Ed,"$1");try{m.history.replaceState(null,document.title||"",c)}catch(l){}}b=0<b.length?b[0]:null}else b=null;this.A=b;this.o=a.storage||null;this.C=!!a["storage-ro"];this.D=!!a.so;this.B=a.listeners||{};a.readonly||a["fatal-readonly"]||B(this.g,8);B(this.g,3);Ie(this);this.j=!!a["defer-first-sync"];this.dispatchEvent("r")};He.prototype.le=function(){var a=this.g.le();return new Be(!!a&&!!a.ac(),!!a&&!!a.Zb(),!!a&&!!a.dc(),!!a&&!!a.ec(),!!a&&!!tc(a,6))};
function Ie(a){return a.g&&!!B(a.g,18)};function Je(a){this.g=a}Je.prototype.toString=h("g");var Ke=new Je("visibility"),Le=new Je("selection"),Me=new Je("value"),Ne=new Je("enabled"),Oe=new Je("change"),Pe=new Je("action");var Qe=x("Macintosh")||Sb();function Re(a){m.setTimeout(function(){throw a;},0)}var Se;
function Te(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!x("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!x("Trident")&&!x("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.df;c.df=null;a()}};return function(a){d.next={df:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}}function Ue(a){return a}Yd(function(a){Ue=a});function Ve(a,b,c){this.v=c;this.o=a;this.A=b;this.j=0;this.g=null}Ve.prototype.get=function(){var a;0<this.j?(this.j--,a=this.g,this.g=a.next,a.next=null):a=this.o();return a};function We(a,b){a.A(b);a.j<a.v&&(a.j++,b.next=a.g,a.g=b)};var Ye=new Ve(function(){return new Xe},function(a){a.reset()},100);function Ze(){var a=$e,b=null;a.g&&(b=a.g,a.g=a.g.next,a.g||(a.j=null),b.next=null);return b}function Xe(){this.next=this.scope=this.g=null}Xe.prototype.set=function(a,b){this.g=a;this.scope=b;this.next=null};Xe.prototype.reset=function(){this.next=this.scope=this.g=null};function af(a,b){bf||cf();df||(bf(),df=!0);var c=$e,d=Ye.get();d.set(a,b);c.j?c.j.next=d:c.g=d;c.j=d}var bf;function cf(){var a=m.Promise;if(-1!=String(a).indexOf("[native code]")){var b=a.resolve(void 0);bf=function(){b.then(ef)}}else bf=function(){var a=ef,a=Ue(a);!za(m.setImmediate)||m.Window&&m.Window.prototype&&!x("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(Se||(Se=Te()),Se(a)):m.setImmediate(a)}}var df=!1,$e=new function(){this.j=this.g=null};
function ef(){for(var a;a=Ze();){try{a.g.call(a.scope)}catch(b){Re(b)}We(Ye,a)}df=!1};function ff(a){F.call(this);this.B=1;this.o=[];this.v=0;this.g=[];this.j={};this.C=!!a}v(ff,F);function gf(a,b,c,d){var e=a.j[b];e||(e=a.j[b]=[]);var f=a.B;a.g[f]=b;a.g[f+1]=c;a.g[f+2]=d;a.B=f+3;e.push(f);return f}function hf(a,b,c,d){if(b=a.j[b]){var e=a.g;if(b=mb(b,function(a){return e[a+1]==c&&e[a+2]==d}))return a.rb(b)}return!1}
ff.prototype.rb=function(a){var b=this.g[a];if(b){var c=this.j[b];0!=this.v?(this.o.push(a),this.g[a+1]=ta):(c&&pb(c,a),delete this.g[a],delete this.g[a+1],delete this.g[a+2])}return!!b};
ff.prototype.A=function(a,b){var c=this.j[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.C)for(e=0;e<c.length;e++){var g=c[e];jf(this.g[g+1],this.g[g+2],d)}else{this.v++;try{for(e=0,f=c.length;e<f;e++)g=c[e],this.g[g+1].apply(this.g[g+2],d)}finally{if(this.v--,0<this.o.length&&0==this.v)for(;c=this.o.pop();)this.rb(c)}}}};function jf(a,b,c){af(function(){a.apply(b,c)})}
function kf(a,b){if(b){var c=a.j[b];c&&(ib(c,a.rb,a),delete a.j[b])}else a.g.length=0,a.j={}}ff.prototype.ba=function(a){if(a){var b=this.j[a];return b?b.length:0}a=0;for(b in this.j)a+=this.ba(b);return a};ff.prototype.G=function(){ff.J.G.call(this);kf(this);this.o.length=0};function lf(a){F.call(this);this.g=new ff(a);G(this,this.g)}v(lf,F);lf.prototype.rb=function(a){return this.g.rb(a)};lf.prototype.ba=function(a){return this.g.ba(n(a)?a.toString():void 0)};function mf(a){this.g=a};function nf(a,b){F.call(this);this.A=a;this.o={};this.g=b?Ib(b):{};this.B=Ib(this.g);of(this);this.v=new ff;this.j=new lf}v(nf,F);function of(a){n(a.g["keys-enabled"])||(a.g["keys-enabled"]=!0);a.g.enabled||(a.o["default"]=!0)}k=nf.prototype;k.G=function(){nf.J.G.call(this);this.v.X();this.j.X();delete this.v;delete this.j;delete this.g};k.getId=h("A");k.Vc=function(a,b){b=b||"default";var c=!0;if(a){delete this.o[b];for(var d in this.o){c=!1;break}}else this.o[b]=!0,c=!1;pf(this,"enabled",c)};
function qf(a){pf(a,"visible",!1)}function rf(a){pf(a,"selected",!1)}k.ta=function(){return this.g.keys};function pf(a,b,c){c!==a.g[b]&&(a.g[b]=c,a.j.g.A(Oe.toString(),new mf(b)),(c=sf(b))&&a.j.g.A(c.toString(),new mf(b)))}k.rb=function(a){return 1E6<a?this.j.rb(a-1E6):this.v.rb(a)};k.reset=function(){kf(this.v);kf(this.j.g,n(void 0)?(void 0).toString():void 0);this.g=Ib(this.B);this.o={};of(this)};
function sf(a){switch(a){case "visible":return Ke;case "selected":return Le;case "value":return Me;case "enabled":return Ne;default:return null}};function tf(a){this.g={};a=a||m._docs_flag_initialData;var b=m.WIZ_global_data;!a&&b&&(a=b.nWIH1e);a&&Lb(this.g,a)}ua(tf);tf.prototype.get=function(a){return this.g[a]};function uf(a,b){a=a.get(b);return q(a)?"true"==a||"1"==a:!!a}function vf(a,b){return Number(a.get(b))}function wf(a,b){a=a.get(b);return null!=a?String(a):""}function xf(a,b){a=a.get(b);return null!=a?Object(a):{}};function K(){return tf.Fa()};function yf(a){A(this,a,0,-1,null)}v(yf,y);yf.prototype.na=function(){return B(this,12)};function zf(a){A(this,a,0,-1,null)}v(zf,y);function Af(a,b){var c=a.ta();wa(c)||(c=[c]);c.push(b);pf(a,"keys",c)}function Bf(a){var b="Ctrl+"+(Qe?"Meta+":"Alt+");q(void 0)&&(b+="undefined+");for(var c="",d=0;d<a.length;d++)c+=b+a[d]+(d<a.length-1?" ":"");return c}function Cf(a,b){return"docs-icon-img docs-icon-"+a+(b?"-rtl":"")}function Df(){return null};function Ef(a,b,c){this.v=a;this.o=b||null;this.j={};this.A=!!c}Ef.prototype.g=function(a,b){this.j[a]=b;return this};function L(a){var b;b=a.j;"label"in b||(b.label="");b=a.j;"hint"in b||(b.hint=a.j.label);b=a.j;"visible"in b||(b.visible=!0);b=new nf(a.v,a.j);a.o&&a.o(b);return b}function Ff(a,b){return a.g("docs-action-data-extractor",b).g("docs-action-data-extractor-requires-data",void 0)}Ef.prototype.enabled=function(a){return this.g("enabled",a)};function Gf(a,b){return a.g("hint",b)}
function M(a,b){b=Cf(b,a.A&&void 0);return a.g("icon",b)}function N(a,b){return a.g("docs-impression-code",b)}Ef.prototype.keys=function(a){return this.g("keys",a)};function O(a,b){return a.g("label",b)}function Hf(a,b){return a.g("long-label",b)}function P(a,b){return a.g("synonyms",b)}function Q(a,b){return a.g("category",b)}Ef.prototype.value=function(a){return this.g("value",a)};function If(a){return a.g("force-ctrl-key",!0)};var Jf=!1;
function Kf(){function a(a,c,d,e,f){return L(Q(N(If(O(new Ef(a),c).value(e)).keys((Qe?"Ctrl+Alt+":"Alt+Shift+")+d),f),"Menus"))}Lf=a("docs-menubar-file-focus","File menu","F",R.eh.getId(),307);Mf=a("docs-menubar-edit-focus","Edit menu","E",R.$g.getId(),306);Nf=a("docs-menubar-view-focus","View menu","V",R.ei.getId(),314);Of=a("docs-menubar-insert-focus","Insert menu","I",R.kh.getId(),310);Pf=a("docs-menubar-help-focus","Help menu","H",R.ih.getId(),309);Qf=a("docs-menubar-screenreader-focus","Accessibility menu",
"A",R.Ue.getId(),1279);Rf=a("docs-menubar-tools-focus","Tools menu","T",R.Yh.getId(),313);Sf=a("docs-menubar-table-focus","Table menu","B",R.Vh.getId(),312);Tf=a("docs-menubar-format-focus","Format menu","O",R.hh.getId(),308);Uf=a("docs-menubar-extensions-focus","Add-ons menu","N",R.oh.getId(),1058);cc&&!Qe&&(Af(Lf,"Alt+F"),Af(Mf,"Alt+E"),Af(Nf,"Alt+V"),Af(Of,"Alt+I"),Af(Pf,"Alt+H"),Af(Rf,"Alt+T"),Af(Sf,"Alt+B"),Af(Tf,"Alt+O"),Af(Uf,"Alt+N"),Af(Qf,"Alt+A"))}var R={},Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf;
(function(){function a(a){return new Ef(a)}function b(a){var b=new yf;q(a)&&C(b,11,a);return b}function c(a,b,c,d,e){a=N(O(new Ef(a),b),c);null!=d&&a.keys(d);null!=e&&M(a,e);return L(a)}var d=Qe?"Ctrl+Alt+Z":cc?"Alt+Z":"Alt+Shift+Z";R.Il=L(Q(Hf(N(O(a("docs-chrome-focus"),"Move to top of application"),668),"Move focus out of editing area").keys(["Ctrl+Alt+Shift+M"]),"Navigation"));R.ap=c("docs-menu-bar","",59);R.zs=c("docs-tool-bar","",347);R.Rl=c("docs-context-menu","",172);R.Sl=L(Q(N(O(a("docs-context-menu-shortcut"),
"Context menu"),173).keys(["Ctrl+Shift+\\","Ctrl+Shift+X"]),"Menus"));R.Ep=c("docs-new-menu","New",65);R.Ap=L(P(Hf(M(N(O(a("docs-document"),"Document"),61),"document"),"New document"),"create | write | word | pages |"));R.Fp=L(P(Hf(M(N(O(a("docs-presentation"),"Presentation"),66),"punch"),"New presentation"),"create | new slides | powerpoint | keynote |"));R.Ip=L(P(Hf(M(N(O(a("docs-spreadsheet"),"Spreadsheet"),68),"spreadsheet"),"New spreadsheet"),"create | new workbook | excel | numbers |"));R.Cp=
L(P(Hf(M(N(O(a("docs-form"),"Form"),63),"form"),"New form"),"create | new survey | poll | question |"));R.Bp=L(P(Hf(M(N(O(a("docs-drawing"),"Drawing"),62),"drawing"),"New drawing"),"create new picture | new image | visio | diagram | chart"));R.Hp=L(P(Hf(M(N(O(a("docs-script"),"Script"),690),"script"),"New script"),"create | automate | macro | extension | plugin"));R.xp=L(P(Hf(M(N(O(a("docs-atari"),"Site"),2351),"site"),"New Site"),"create | website | url | web page | site"));R.Dp=L(P(Hf(N(O(a("docs-template"),
"From template..."),64),"New document from template..."),"create | template | resume | letter |"));R.yp=c("docs-new-custom","",60);R.Km=c("docs-download-menu","Download as",18);R.eh=c("docs-file-menu","",24);R.dh=L(N(M(O(a("docs-export-disabled"),"Export options disabled..."),"help"),2188));R.hn=c("docs-file-custom","",373);R.OPEN=L(Q(P(N(O(a("docs-open"),"Open..."),73).keys("Ctrl+O"),"find | document | search ||"),"File commands"));R.Wp=c("docs-open-custom","",344);R.Fs=c("docs-upload-custom","",
115);R.Es=c("docs-upload","Upload...",114);R.Kq=c("docs-revisions-custom","",90);R.qq=L(P(N(O(a("docs-rename"),"Rename..."),84),"save as | save a copy | save | title |"));R.Zg=L(Q(P(N(O(a("docs-edit-description"),"Edit description..."),20).keys("Ctrl+Shift+E"),"change | describe |||"),"Editing"));R.$o=L(P(N(O(a("docs-make-copy"),"Make a copy..."),58),"save as | save | save a copy | copy to |"));R.Zh=L(P(M(N(O(a("docs-trash"),"Move to trash"),765),"trash"),"trash | delete | remove ||"));R.ir=L(Q(M(N(O(a("docs-save"),
"Save"),97).keys("Ctrl+S"),"save"),"File commands"));R.Oh=L(N(Gf(O(a("docs-show-new-changes"),"See new changes"),"See changes since you last viewed this document"),1885));R.Ph=L(N(a("docs-show-new-changes-sidebar"),2223));R.Rh=L(N(Gf(O(a("docs-show-unseen-new-changes"),"See new changes"),"See changes since you last viewed this document"),2109));R.vh=L(N(a("docs-new-changes-mode"),2194));R.Ql=L(N(a("docs-close-new-changes"),2193));R.Sh=L(N(Gf(O(a("docs-show-v0"),"View original document"),"View original document"),
2561));R.Lm=L(N(Gf(O(a("docs-download-v0"),"Download original document"),"Download original document"),29240).g("docs-diagnostics-data-translator",Df));R.Ir=c("docs-speak-copy-selection","",663);R.eq=c("docs-custom-inline","",79);R.fq=L(P(N(O(a("docs-print-preview"),"Print preview"),80),"printer ||||"));R.hq=L(N(a("docs-print-preview-mode"),2254));R.Bh=L(N(a("docs-print-preview-sidebar"),2224));R.gq=c("docs-print-preview-close","",81);R.cq=L(Q(P(M(N(O(a("docs-print"),"Print"),78).keys("Ctrl+P"),"print"),
"printer ||||"),"File commands"));R.Ve=L(P(M(N(O(a("docs-star"),"Star"),102),"star"),"favorite ||||"));R.We=c("docs-subscribe","Subscribe",104,null,"subscribe");R.Mh=L(P(N(O(a("docs-share"),"Share..."),101),"people ||||"));R.Rg=c("docs-collections","Move to folder...",11,null,"folder-solid");R.xh=L(P(M(N(O(a("docs-organize"),"Move to..."),74),"folder-solid"),"organize | folders | Drive | move to | collection"));R.Ch=L(P(N(O(a("docs-publish"),"Publish to the web..."),82),"send | webpage |||"));R.iq=
c("docs-publish-custom","",571);R.Gh=L(P(N(O(a("docs-report-abuse"),"Report abuse/copyright "),87),"Report issue | error |||"));R.$p=L(P(N(O(a("docs-page-setup"),"Page setup..."),267),"orientation | landscape | portrait | margins | letter"));R.Gm=L(P(N(O(a("docs-doc-details"),"Document details..."),2532),"details | information | info | about |"));R.$g=c("docs-edit-menu","Edit",22);R.Sg=L(Q(P(M(N(O(a("docs-copy"),"Copy"),12).keys("Ctrl+C"),"copy"),"Copy selection ||||"),"Editing"));R.Ul=c("docs-copypaste-custom",
"",13);R.Tg=L(Q(P(M(N(O(a("docs-cut"),"Cut"),14).keys("Ctrl+X"),"cut"),"Cut selection ||||"),"Editing"));R.Mm=c("docs-edit-custom","",19);R.yh=L(Q(P(M(N(O(a("docs-paste"),"Paste"),76).keys("Ctrl+V"),"paste"),"Paste selection ||||"),"Editing"));R.zh=L(Q(M(N(O(a("docs-paste-without-formatting"),"Paste without formatting"),2462).keys("Ctrl+Shift+V"),"paste-without-formatting"),"Editing"));R.Dh=L(Q(P(M(N(O(a("docs-redo"),"Redo"),83).keys(["Ctrl+Y","Ctrl+Shift+Z"]),"redo"),"redo edit ||||"),"Editing"));
R.Er=L(Q(P(N(O(a("docs-select-all"),"Select all"),99).keys("Ctrl+A"),"select everything ||||"),"Selection"));R.Kh=L(Q(P(N(O(a("docs-select-none"),"Select none"),100).keys("Ctrl+Shift+A"),"deselect || unselect ||"),"Selection"));R.ai=L(Q(P(M(N(O(a("docs-undo"),"Undo"),113).keys("Ctrl+Z"),"undo"),"undo edit ||||"),"Editing"));R.nn=c("docs-find-next","",29,["Ctrl+G","F3"]);R.on=c("docs-find-previous","",30,["Ctrl+Shift+G","Shift+F3"]);R.pn=L(Q(P(N(O(a("docs-find-start"),"Find..."),31).keys("Ctrl+F"),
"search | locate |||"),"Editing"));R.kn=c("docs-find","",26);R.ln=L(Q(P(N(O(a("docs-find-and-replace-start"),"Find and replace..."),27).keys((Qe?"Meta+Shift":"Ctrl")+"+H"),"search | locate |||"),"Editing"));R.mn=c("docs-find-and-replace-stop","",28);R.REPLACE=c("docs-replace","",85);R.rq=c("docs-replace-all","",86);R.Mp=L(Q(N(O(a("docs-nudge-image-down"),"Nudge image down"),1114).keys("Down"),"With objects"));R.Np=L(Q(N(O(a("docs-nudge-image-left"),"Nudge image left"),1115).keys("Left"),"With objects"));
R.Sp=L(Q(N(O(a("docs-nudge-image-right"),"Nudge image right"),1120).keys("Right"),"With objects"));R.Tp=L(Q(N(O(a("docs-nudge-image-up"),"Nudge image up"),1121).keys("Up"),"With objects"));R.Op=L(Q(N(O(a("docs-nudge-image-pixel-down"),"Nudge image down by a pixel"),1116).keys("Shift+Down"),"With objects"));R.Pp=L(Q(N(O(a("docs-nudge-image-pixel-left"),"Nudge image left by a pixel"),1117).keys("Shift+Left"),"With objects"));R.Qp=L(Q(N(O(a("docs-nudge-image-pixel-right"),"Nudge image right by a pixel"),
1118).keys("Shift+Right"),"With objects"));R.Rp=L(Q(N(O(a("docs-nudge-image-pixel-up"),"Nudge image up by a pixel"),1119).keys("Shift+Up"),"With objects"));R.Wq=c("docs-rotate","",1136);R.hr=c("docs-rotate-menu","Rotate",535);R.$q=L(Q(N(O(a("docs-rotate-cw"),"Rotate clockwise by 15\u00b0"),1077).keys("Alt+Right"),"With objects"));R.br=L(Q(N(O(a("docs-rotate-cw-1"),"Rotate clockwise by 1\u00b0"),1078).keys("Alt+Shift+Right"),"With objects"));R.cr=L(P(N(O(a("docs-rotate-cw-90"),"Rotate clockwise 90\u00b0"),
537),"turn | pivot | clockwise | spin |"));R.Xq=L(Q(N(O(a("docs-rotate-ccw"),"Rotate counter-clockwise by 15\u00b0"),1079).keys("Alt+Left"),"With objects"));R.Yq=L(Q(N(O(a("docs-rotate-ccw-1"),"Rotate counter-clockwise by 1\u00b0"),1080).keys("Alt+Shift+Left"),"With objects"));R.Zq=L(P(N(O(a("docs-rotate-ccw-90"),"Rotate counter-clockwise 90\u00b0"),536),"turn | pivot | counterclockwise | spin |"));R.fr=L(Q(N(O(a("docs-rotate-image-cw"),"Rotate image clockwise by 15\u00b0"),1130).keys("Alt+Right"),
"With objects"));R.gr=L(Q(N(O(a("docs-rotate-image-cw-1"),"Rotate image clockwise by 1\u00b0"),1131).keys("Alt+Shift+Right"),"With objects"));R.dr=L(Q(N(O(a("docs-rotate-image-ccw"),"Rotate image counter-clockwise by 15\u00b0"),1132).keys("Alt+Left"),"With objects"));R.er=L(Q(N(O(a("docs-rotate-image-ccw-1"),"Rotate image counter-clockwise by 1\u00b0"),1133).keys("Alt+Shift+Left"),"With objects"));R.kh=c("docs-insert-menu","Insert",46);R.Vn=L(N(a("docs-insert-date-and-time"),1038));R.Wn=L(P(Gf(N(O(a("docs-insert-date-and-time-dialog"),
"Date & time"),1037),"Insert date and time"),"insert date and time | insert date | insert time | insert day |"));R.Yn=L(P(Hf(M(N(O(a("docs-image"),"Image..."),43),"image-type"),"Insert image..."),"photo | picture | add a photo | add a picture | add an image"));R.Zn=L(N(a("docs-insert-image-blob"),1704));R.fo=L(P(M(N(O(a("docs-shape"),"Shape"),47),"shapes"),"drawing | diagram |||"));R.ho=L(P(Hf(M(N(O(a("docs-special-character"),"Special characters..."),48),"special-character"),"Insert special characters..."),
"symbol | add a symbol | add symbols ||"));R.io=L(P(Hf(M(N(O(a("docs-text-box"),"Text box"),49),"textbox"),"Insert text box"),"area | add |||"));R.wo=L(P(Hf(M(N(O(a("docs-video"),"Video..."),50),"video"),"Insert video..."),"movie | youtube | add ||"));R.Tn=L(M(N(O(a("docs-insert-chart-menu"),"Chart"),29191),"chart"));R.Sn=L(M(N(O(a("docs-insert-chart"),"From Sheets..."),29151),"spreadsheet"));R.Rn=L(M(N(O(a("docs-insert-bar-chart"),"Bar"),29187),"bar-chart"));R.Un=L(M(N(O(a("docs-insert-column-chart"),
"Column"),29188),"column-chart"));R.$n=L(M(N(O(a("docs-insert-line-chart"),"Line"),29189),"line-chart"));R.co=L(M(N(O(a("docs-insert-pie-chart"),"Pie"),29190),"pie-chart"));R.Vl=L(Q(M(N(O(a("docs-copy-format"),"Copy formatting"),174).keys("Ctrl+Alt+C"),"textbox"),"Editing"));R.bq=L(Q(N(O(a("docs-paste-format"),"Paste formatting"),271).keys("Ctrl+Alt+V"),"Editing"));R.hh=c("docs-format-menu","Format",34);R.Pg=L(Q(P(M(N(O(a("docs-bold"),"Bold"),2).keys("Ctrl+B"),"bold"),"strong | dark |||"),"Text formatting"));
R.$c=L(Ff(N(O(a("docs-font-family"),"Font"),32),function(a){var b=new yf;q(a)&&C(b,12,a);return b}));R.Pm=L(P(N(O(a("docs-edit-font-family"),"Get fonts..."),21),"Get fonts ||||"));R.tn=L(P(Ff(N(O(a("docs-font-size"),"Font size"),33),function(a){var b=new yf;ya(a)&&C(b,9,a);return b}),"point | px | pt | change font size | set font size"));R.wn=L(N(O(a("docs-font-size-menu"),"Font size"),2235));R.vn=L(P(N(O(a("docs-font-size-increment"),"Increase font size"),2236).keys("Ctrl+Shift+."),"bigger | make the font bigger | make bigger | make it bigger |"));
R.un=L(P(N(O(a("docs-font-size-decrement"),"Decrease font size"),2237).keys("Ctrl+Shift+,"),"smaller | make the font smaller | make smaller | make it smaller |"));R.lh=L(Q(P(M(N(O(a("docs-italic"),"Italic"),51).keys("Ctrl+I"),"italic"),"emphasis | emphasized | italicize ||"),"Text formatting"));R.Yr=L(Q(P(M(N(O(a("docs-strikethrough"),"Strikethrough"),103).keys("Alt+Shift+5"),"strikethrough"),"strike-through | strikethrough |||"),"Text formatting"));R.Zr=L(Q(P(M(N(O(a("docs-subscript"),"Subscript"),
105).keys("Ctrl+,"),"subscript"),"sub script | sub-script | apply subscript ||"),"Text formatting"));R.$r=L(Q(P(M(N(O(a("docs-superscript"),"Superscript"),106).keys("Ctrl+."),"superscript"),"super script | super-script | exponent | apply superscript |"),"Text formatting"));R.El=c("docs-border-color","Border color",363);R.Fl=c("docs-border-style","Border style",372);R.rs=L(P(Ff(M(N(O(a("docs-text-bgcolor"),"Text background color"),108),"text-bgcolor"),function(a){var b=new yf;q(a)&&(a=new zf([a]),
E(b,3,a));return b}),"highlight | background color |||"));R.Lp=c("docs-no-text-bgcolor","Transparent",680,null,"no-color");R.ss=c("docs-text-color","Text color",374);R.ts=L(Ff(M(N(P(O(a("docs-text-fgcolor"),"Text color"),"Font color ||||"),109),"text-color"),function(a){var b=new yf;q(a)&&(a=new zf([a]),E(b,4,a));return b}));R.$h=L(Q(M(N(O(a("docs-underline"),"Underline"),112).keys("Ctrl+U"),"underline"),"Text formatting"));R.Jp=c("docs-no-fill","Transparent",69,null,"no-color");R.Kp=c("docs-no-line",
"Transparent",70,null,"no-color");R.jn=c("docs-fill-color","Fill color",25,null,"fill-color");R.yo=c("docs-line-color","Line color",52,null,"line-color");R.Ao=c("docs-line-menu","Lines",1171);R.LINE_WIDTH=L(P(M(N(O(a("docs-line-width"),"Line weight"),53),"line-width"),"thickness | width |||"));R.zo=L(P(M(N(O(a("docs-line-dashing"),"Line dash"),508),"line-type"),"border style | line style | dotted line | stroke style |"));R.aq=L(M(N(O(a("docs-paint-format"),"Paint format"),75),"paint-format"));R.Jl=
L(Q(P(M(Gf(N(O(a("docs-clear-formatting"),"Clear formatting"),5),"Clear formatting").keys(["Ctrl+\\","Ctrl+Space"]),"clear-formatting"),"remove formatting ||||"),"Text formatting"));R.Xp=L(Q(N(O(a("docs-open-link"),"Open link"),356).keys("Alt+Enter"),"Editing"));R.dm=L(N(P(O(a("docs-delete-link"),"Remove link"),"delete link ||||"),15));R.ao=L(P(Hf(N(a("docs-insert-link"),44),"Insert link..."),"url | web site | address | web page | add a hyperlink"));R.bo=L(Q(P(Hf(M(Gf(N(O(a("docs-insert-link-dialog"),
"Link..."),45),"Insert link...").keys("Ctrl+K"),"link"),"Insert link..."),"url | web site | address | web page | add a hyperlink"),"Editing"));R.Wl=L(N(P(O(a("docs-copy-link"),"Copy link URL"),"copy link ||||"),362));R.qn=L(If(N(a("docs-focus-bubble"),659).keys(Bf(["E","P"]))));R.ei=c("docs-view-menu","",118);R.Gs=c("docs-view-custom","",117);R.Ys=L(Q(P(N(O(a("docs-zoom-in"),"Zoom in"),119).keys(["Ctrl+Alt+Num-Plus","Ctrl+Alt+Equals"]),"increase | bigger | enlarge | magnify |"),"Navigation"));R.Zs=
L(Q(P(N(O(a("docs-zoom-out"),"Zoom out"),120).keys(["Ctrl+Alt+Num-Minus","Ctrl+Alt+Dash"]),"decrease | smaller |||"),"Navigation"));R.ci=L(Q(If(P(N(O(a("docs-view-compact"),"Compact controls"),116).keys("Ctrl+Shift+F"),"exit | leave |||")),"Navigation"));R.jh=L(P(N(O(a("docs-hide-controls"),"Full screen"),42),"exit | leave |||"));R.vs=L(Q(N(O(a("docs-toggle-screenreader"),"Toggle screen reader support"),23).keys(["Ctrl+Alt+Z","Alt+Shift+`"]),"Screen reader support"));R.Rm=c("docs-enable-braille",
"Enable Braille support",1271);R.up=L(P(N(O(a("docs-mute_collaborators"),"Turn off collaborator announcements"),29251),"silence collaborators | mute collaborators |||").g("selected",!1));var e=Qe?"Meta":"Alt";R.Lr=L(Q(If(N(O(a("docs-speak-selection"),"Speak selection"),338).keys("Ctrl+"+e+"+X")),"Screen reader support"));R.Mr=L(Q(If(N(P(O(a("docs-speak-selection-formatting"),"Speak selection formatting"),"speak formatting ||||"),660).keys(Bf(["A","F"]))),"Screen reader support"));R.Kr=L(Q(If(N(P(O(a("docs-speak-remaining-section"),
"Speak from cursor location"),"speak from here | speak from location |||"),1218).keys(e+"+Ctrl+R")),"Screen reader support"));R.Yh=c("docs-tools-menu","",111);R.ws=c("docs-tools-custom","",110);R.xs=c("docs-macros-extensions","",775);R.ys=c("docs-tools-top-custom","",721);R.Ah=L(P(N(O(a("docs-preferences"),"Preferences..."),77),"options | settings | configurations ||"));var f=Q(P(Hf(Gf(N(O(a("docs-tools-define"),"Define"),290),"Define word"),"Define word"),"dictionary | look up | lookup | |"),"Editing"),
g=uf(K(),"docs-explore");g||f.keys("Ctrl+Shift+Y");R.Xh=L(f);f=Q(P(N(O(a("docs-reference-menu"),"Research"),315),"reference | search | lookup | look up |"),"Navigation");g||f.keys("Ctrl+Alt+Shift+I");R.Eh=L(f);R.Fh=c("docs-reference-sidebar","",316);R.nq=c("docs-reference-insert-text","",318);R.kq=c("docs-reference-insert-image","",317);R.lq=c("docs-reference-insert-image-placeholder","",350);R.mq=c("docs-reference-insert-link","",339);R.Xg=c("docs-dictionary-sidebar","",29211);f=Q(P(Hf(Gf(N(O(a("docs-dictionary-sidebar-focus"),
"Define"),29212),"Define word"),"Define word"),"dictionary | look up | lookup | |"),"Editing");g&&f.keys("Ctrl+Shift+Y");R.im=L(f);R.hm=c("docs-dictionary-close","",29214);R.bh=c("docs-explore-sidebar","",2558);f=Q(P(N(M(O(a("docs-explore-menu"),"Explore"),"explore-black-padded"),2557),"explore | search | lookup | look up |"),"Navigation");g&&f.keys("Ctrl+Alt+Shift+I");R.dn=L(f);R.gn=c("docs-explore-widget","",29275);R.Um=c("docs-explore-close","",2609);R.$m=c("docs-explore-refresh-nuggets","",2612);
R.an=c("docs-explore-search","",2613);R.Wm=c("docs-explore-preview-image","",29205);R.bn=c("docs-explore-show-more","",2610);R.en=c("docs-explore-suggested-content-available","",29201);R.fn=c("docs-explore-suggested-content-not-available","",29202);R.Vm=c("docs-explore-feedback","",29224);R.Zm=c("docs-explore-promo-show","",29281);R.Xm=c("docs-explore-promo-continue","",29279);R.Ym=c("docs-explore-promo-dismiss","",29280);R.pr=c("docs-scratchpad-sidebar","",29215);R.mr=c("docs-scratchpad-open","Keep notepad",
29216);R.jr=c("docs-scratchpad-close","",29217);R.kr=c("docs-scratchpad-focus","",29218);R.nr=c("docs-scratchpad-save","Save to Keep notepad",29219);R.or=c("docs-scratchpad-save-link","Save to Keep notepad",29308);R.lr=c("docs-scratchpad-insert","",29241);R.qo=L(N(O(a("docs-insert-tool-open"),"Research"),1899));R.ro=L(N(a("docs-insert-tool-open-image-search"),2211));R.to=L(N(a("docs-insert-tool-open-web"),2191));R.lo=c("docs-insert-tool-insert-citation","",29298);R.po=L(N(a("docs-insert-tool-insert-text"),
1943));R.mo=c("docs-insert-tool-insert-image","",2200);R.oo=c("docs-insert-tool-insert-image-placeholder","",29270);R.no=L(N(a("docs-insert-tool-insert-image-blob"),29262));R.jo=L(N(a("docs-insert-tool-copy"),2598));R.uo=L(N(a("docs-insert-tool-paste"),2599));R.vo=L(N(a("docs-insert-tool-search"),2192));R.bs=L(P(N(O(a("docs-table-delete"),"Delete table"),1258),"remove table ||||"));R.cs=L(P(N(O(a("docs-table-delete-column"),"Delete column"),1259),"remove column ||||"));R.ds=L(P(N(O(a("docs-table-delete-row"),
"Delete row"),1260),"remove row ||||"));R.es=L(P(O(N(a("docs-table-distribute-columns"),717),"Distribute columns"),"even | equal | same size | width |"));R.fs=L(P(O(N(a("docs-table-distribute-rows"),718),"Distribute rows"),"even | equal | same size | height |"));R.Uh=L(Ff(N(O(a("docs-table-insert"),"Insert table"),1261),function(a){var b=new yf;ya(a.width)&&ya(a.height)&&(C(b,13,a.width),C(b,14,a.height));return b}));pf(R.Uh,"value",new Ce(0,0));R.gs=L(P(N(O(a("docs-table-insert-column-left"),"Insert column left"),
1262),"add column left | insert new column left | add new column left ||"));R.hs=L(P(N(O(a("docs-table-insert-column-right"),"Insert column right"),1263),"add column right | insert new column right | add new column right | insert column | insert new column"));R.ks=L(N(O(a("docs-table-insert-menu"),"Table"),1264));R.ls=L(P(N(O(a("docs-table-insert-row-above"),"Insert row above"),1266),"add row above | insert new row above | add new row above ||"));R.ms=L(P(N(O(a("docs-table-insert-row-below"),"Insert row below"),
1267),"add row below | insert new row below | add new row below | insert row | insert new row"));R.bp=L(N(a("docs-mobile-ui-table-insert-column-left"),1946));R.cp=L(N(a("docs-mobile-ui-table-insert-column-right"),1947));R.ep=L(N(a("docs-mobile-ui-table-insert-row-above"),1948));R.fp=L(N(a("docs-mobile-ui-table-insert-row-below"),1949));R.ns=c("docs-table-insert-table-menu","Insert table",1265);R.Vh=c("docs-table-menu","Table",107);R.os=L(P(N(O(a("docs-table-merge-cells"),"Merge cells"),1268),"combine ||||"));
R.qs=L(P(N(O(a("docs-table-unmerge-cells"),"Unmerge cells"),1269),"separate | split |||"));R.ps=L(Q(P(N(O(a("docs-table-select-borders"),"Select table borders"),446),"select borders ||||"),"Selection"));R.ih=c("docs-help-menu","",40);R.zn=L(P(N(O(a("docs-help-center"),"Help Center"),35),"help forum | user forum | discussion forum ||"));R.Dn=L(Q(P(Hf(N(O(a("docs-help-shortcuts"),"Keyboard shortcuts"),41).keys("Ctrl+/"),"See keyboard shortcuts"),"hotkeys ||||"),"Navigation"));R.Bn=L(P(N(O(a("docs-feedback"),
"Report a problem"),37),"Problem | error | feedback ||"));R.xn=L(P(N(O(a("docs-google-help"),"Get help with..."),580),"Problem | help |||"));R.An=c("docs-help-custom","",36);R.Ue=L(N(a("docs-screenreader-menu"),1278));R.Dr=L(N(a("docs-screenreader-menu-toolbar"),2195));R.Br=c("docs-screenreader-speak-menu","Speak",1317);R.qr=c("docs-screenreader-comments-menu","Comments",1368);R.rr=c("docs-screenreader-edits-menu","Edits",2337);R.sr=c("docs-screenreader-footnote-menu","Footnote",1369);R.vr=c("docs-screenreader-headings-menu",
"Headings",1378);R.ur=c("docs-screenreader-graphics-menu","Graphics",1371);R.xr=c("docs-screenreader-list-menu","List",1377);R.wr=c("docs-screenreader-link-menu","Link",1373);R.Cr=c("docs-screenreader-table-menu","Table",1374);R.zr=c("docs-screenreader-misspelling-menu","Misspelling",1375);R.tr=c("docs-screenreader-formatting-menu","Formatting",1376);R.Ar=c("docs-screenreader-settings-menu","Settings",1372);R.yr=c("docs-screenreader-menu-custom-items","",1284);R.Ll=c("docs-clipboard","Web clipboard",
6,null,"clipboard");R.Nl=L(M(N(a("docs-clipboard-copy"),8),"copy"));R.Pl=L(M(N(O(a("docs-clipboard-paste-from-server"),"Paste from server"),10),"paste"));R.Ml=L(P(N(O(a("docs-clipboard-clear-items"),"Clear all items"),7),"remove | delete |||"));R.Ol=L(P(N(O(a("docs-clipboard-help"),"Web clipboard help"),9),"assist | support |||"));R.Uq=c("docs-revisions-zoomin","Zoom in",95);R.Vq=c("docs-revisions-zoomout","Zoom out",96);R.Rq=c("docs-revisions-revert","",92);R.Oq=L(N(a("docs-revisions-mode"),1956));
R.Sq=c("docs-revisions-show","",93);R.Tq=L(N(Gf(a("docs-revisions-show-revert-dialog"),"Revert to this revision"),29319));R.Jq=c("docs-revisions-close","",89);R.Ih=c("docs-revisions-sidebar","",94);R.Lq=c("docs-revisions-diff","",91);R.Nq=c("docs-revisions-load-details","",29299);R.Mq=L(Q(P(N(O(a("docs-revisions-focus"),"See revision history"),346).keys("Ctrl+Alt+Shift+H"),"revisions history | revert old changes | undo previous changes | fix | prior versions"),"Navigation"));R.Pq=L(Q(If(P(N(Gf(O(a("docs-revisions-move-to-change-next"),
"Move to next edit"),"Next edit"),1060).keys(["Ctrl+Alt+K",Bf(["N","R"])]),"move to next edit in revision history | move to next change |||")),"Navigation"));R.Qq=L(Q(If(P(N(Gf(O(a("docs-revisions-move-to-change-previous"),"Move to previous edit"),"Previous edit"),1061).keys(["Ctrl+Alt+J",Bf(["P","R"])]),"move to previous edit in revision history | move to previous change |||")),"Navigation"));R.Qg=c("docs-chat-sidebar","",4);R.Hl=L(Q(P(N(O(a("docs-chat-focus"),"Chat"),3).keys("Shift+Esc"),"Chat ||||"),
"Navigation"));R.fm=c("docs-details-close","",353);R.Wg=c("docs-details-sidebar","",355);R.gm=c("docs-details-focus","",354);R.Up=L(If(Gf(N(a("docs-omnibox"),71),"Search the menus").keys(["Alt+/",d])));R.Cn=c("docs-help-omnibox","",750);R.yn=c("docs-hats-focus","",1007,"Ctrl+Alt+Shift+D");R.um=L(Q(P(Hf(M(Gf(N(O(a("docs-docos-insert-discussion"),"Comment"),17),"Add comment").keys("Ctrl+Alt+M"),"comment"),"Add comment"),"Add comment ||||"),"Comments"));R.wm=L(P(N(O(a("docs-docos-insert-posted-discussion"),
"Comment"),29260),"Add comment | Insert comment |||"));R.rm=c("docs-docos-delete-discussion","Delete",16);R.nm=L(Q(P(Hf(M(Gf(N(O(a("docs-docos-activity-box"),"Open comments thread"),625),"Open comments thread").keys("Ctrl+Alt+Shift+A"),"comment"),"Open comments thread..."),"Open comments thread | Open discussions thread | Open comments activity box ||"),"Comments"));R.mm=c("docs-docos-accept-suggestion","",670);R.tm=c("docos-delete-suggestion","",768);R.xm=L(Q(If(N(O(a("docs-docos-move-into-discussion"),
"Enter current comment"),235).keys(Bf(["E","C"]))),"Comments"));R.Em=L(Q(N(O(a("docs-docos-view-discussion"),"View comment"),2356),"Comments"));R.Dm=L(Q(N(O(a("docs-docos-view-comment"),"View comment"),29257),"Comments"));R.Fm=L(Q(N(O(a("docs-docos-view-suggestion"),"View suggestion"),29258),"Comments"));R.ym=L(Q(If(P(N(O(a("docs-docos-move-to-discussion-next"),"Move to next comment"),238).keys(Bf(["N","C"])),"Go to next comment ||||")),"Comments"));R.zm=L(Q(If(P(N(O(a("docs-docos-move-to-discussion-previous"),
"Move to previous comment"),239).keys(Bf(["P","C"])),"Go to previous comment ||||")),"Comments"));R.Bm=c("docs-docos-reject-suggestion","",671);R.vm=L(Q(N(a("docs-docos-insert-instant-doco"),17),"Comments"));R.pm=L(N(a("docs-docos-convert-smart-todo-to-discussion"),29208));R.qm=L(N(a("docs-docos-convert-smart-todo-to-draft"),29246));R.om=L(N(a("docs-docos-convert-draft-to-discussion"),29245));R.km=L(a("docs-docos-abort-smart-todo"));R.Am=L(N(a("docs-docos-reject-smart-todo"),29210));R.Cm=L(N(a("docs-docos-set-smart-todo-feature-enabled"),
29268));R.sm=L(N(a("docs-docos-delete-draft"),29247));R.sn=c("docs-focus-editor","",192);R.Lo=c("docs-macros-menu","",57);R.Jo=L(M(N(O(a("macros-insert"),"Script..."),55),"insert-script"));R.Ko=L(P(N(O(a("macros-manage"),"Script manager..."),56),"find scripts | browse scripts | load scripts ||"));R.Co=L(P(N(O(a("macros-editor"),"Script editor..."),54),"edit scripts ||||"));R.Io=c("macros-gallery","Script gallery...",349);R.Do=c("macros-exec","",337);R.No=c("macros-resume","",352);R.Fo=c("macros-extension-disabled",
"",992);R.Go=c("macros-extension-help","Help",1081);R.Ho=c("macros-extension-menu-promo","",1145);R.Eo=c("macros-extensions","Get add-ons...",664);R.oh=c("docs-extensions-menu","",1056);R.qh=c("macros-manage-extensions","Manage add-ons...",757);R.Oo=c("macros-toggle-extension-enabled","",778);R.Po=c("macros-toggle-extension-enabled-in-all-docs","",1039);R.Mo=L(N(a("macros-polymorphic-item"),2452));R.Bo=c("macros-application-focus","",692);R.nh=c("macros-application-sidebar","",693);R.Qo=c("macros-trigger-0",
"",731,"Ctrl+Alt+Shift+0");R.Ro=c("macros-trigger-1","",732,"Ctrl+Alt+Shift+1");R.So=c("macros-trigger-2","",733,"Ctrl+Alt+Shift+2");R.To=c("macros-trigger-3","",734,"Ctrl+Alt+Shift+3");R.Uo=c("macros-trigger-4","",735,"Ctrl+Alt+Shift+4");R.Vo=c("macros-trigger-5","",736,"Ctrl+Alt+Shift+5");R.Wo=c("macros-trigger-6","",737,"Ctrl+Alt+Shift+6");R.Xo=c("macros-trigger-7","",738,"Ctrl+Alt+Shift+7");R.Yo=c("macros-trigger-8","",739,"Ctrl+Alt+Shift+8");R.Zo=c("macros-trigger-9","",740,"Ctrl+Alt+Shift+9");
R.Yg=c("language-menu","Language",232);R.yl=L(Ff(N(a("apply-language-settings"),169),b));R.wh=c("docs-online","",348);R.ah=c("embed-parent-focus","",358,"Ctrl+Shift+Esc");R.zl=c("docs-apply-similar-spellcheck-suggestion","",370);R.Al=c("docs-apply-spellcheck-suggestion","",121);R.Bl=c("docs-apply-spellcheck-suggestion-no-focus","",375);R.Gn=c("docs-ignore-word","",130);R.Hn=c("docs-ignore-word-contextual","",371);R.In=c("docs-ignore-word-no-focus","",376);R.Qr=c("docs-spellcheck-move-iterator-to-next",
"Next misspelling",729);R.Rr=c("docs-spellcheck-move-iterator-to-previous","Previous misspelling",730);R.Yp=c("docs-override-spellcheck-suggestion","",148);R.Jr=c("docs-speak-override-spellcheck-suggestion","",1301);R.Zp=c("docs-override-spellcheck-suggestion-no-focus","",377);R.pq=c("docs-remove-overridden-spellcheck-suggestion","",1236);R.Nr=L(Gf(N(a("docs-spellcheck-change-menu"),707),"More change options"));R.Or=L(Gf(N(a("docs-spellcheck-dictionary-menu"),1298),"More dictionary options"));R.Pr=
L(Gf(N(a("docs-spellcheck-ignore-menu"),708),"More ignore options"));R.Qh=L(P(N(O(a("docs-show-spellcheck-tool"),"Spelling..."),368),"misspelled | spellcheck |||"));R.En=L(N(a("docs-highlight-current-misspelled-text"),2637));R.Kl=L(N(a("docs-clear-misspelled-text-highlight"),2636));R.Nh=L(P(Gf(N(O(a("docs-show-dictionary-tool"),"Personal dictionary..."),1255),"Personal dictionary"),"misspelling | dictionary | correction | spellcheck |"));R.sp=c("docs-more-button","More",369);R.gp=L(Gf(N(a("docs-mode-switcher"),
1090),"Mode"));R.lp=c("docs-mode-switcher-contextmenu","",1094);R.rh=c("docs-mode-switcher-viewmenu","Mode",1253);R.mp=L(Hf(M(N(a("docs-mode-switcher-edit"),1091),"mode-edit"),"Editing mode"));R.np=L(M(N(O(a("docs-mode-switcher-edit-contextmenu"),"Return to editing"),1095),"mode-edit"));R.op=L(Q(N(O(a("docs-mode-switcher-edit-shortcut"),"Switch to editing"),1233).keys("Ctrl+Alt+Shift+Z"),"Editing"));R.hp=L(Hf(M(N(a("docs-mode-switcher-comment"),1092),"mode-review"),"Suggesting mode"));R.jp=L(M(N(O(a("docs-mode-switcher-comment-contextmenu"),
"Suggest edits"),1096),"mode-review"));R.kp=L(Q(N(O(a("docs-mode-switcher-comment-shortcut"),"Switch to suggesting"),1232).keys("Ctrl+Alt+Shift+X"),"Editing"));R.pp=L(Hf(M(N(a("docs-mode-switcher-view"),1217),"mode-view"),"Viewing mode"));R.qp=L(Q(N(O(a("docs-mode-switcher-view-shortcut"),"Switch to viewing"),1234).keys("Ctrl+Alt+Shift+C"),"Editing"));R.Wh=L(P(Gf(N(a("docs-toggle-input-tools"),360),"Input tools").keys("Ctrl+Shift+K"),"Toggle input tools ||||"));R.Jh=L(P(Gf(N(a("docs-input-tools-menu"),
359),"Select input tools").keys("Ctrl+Alt+Shift+K"),"Input tool ||||"));R.Rs=L(P(M(Gf(N(O(a("docs-voice-tools-show"),"Voice typing..."),697),"Voice typing"),"mic"),"voice | dictation | speech | speak | microphone"));R.Ps=L(Q(Ff(P(N(O(a("docs-voice-recording"),"Start voice typing"),696).keys("Ctrl+Shift+S"),"voice | dictation | speech | speak | microphone"),b),"Editing"));R.Ns=c("docs-voice-insert-spoken-text","",709);R.Ls=c("docs-voice-display-dotted-span","",710);R.Hs=c("docs-voice-add-corrections-suggestions",
"",711);R.Ks=c("docs-voice-clear-corrections-suggestions","",712);R.Is=L(Ff(N(a("docs-voice-apply-correction"),713),function(){return new yf}));R.Os=L(N(O(a("docs-voice-newline"),"newline"),2483));R.Ss=c("docs-voice-typing-language-menu","",2446);R.Js=L(Ff(N(a("docs-voice-apply-voice-typing-language"),2447),b));R.Ms=L(P(N(O(a("docs-voice-help"),"Voice typing help"),2535),"voice commands help | voice commands list | voice commands | see voice typing help | see all voice commands"));R.Qs=L(P(N(O(a("docs-voice-stop-listening"),
"Stop listening"),29244),"stop dictating | stop voice typing | end listening | end dictating | end voice typing"));R.vl=c("docs-alt-text","",681);R.wl=c("docs-alt-text-dialog","Alt text...",460);R.ul=c("docs-after-zoom","",1003);R.ZOOM=L(Ff(N(O(a("docs-zoom"),"Zoom"),749),function(a){var b=new yf;ya(a)&&C(b,19,a);return b}));R.$s=L(P(N(O(a("docs-zoom-to-fit"),"Fit"),490),"zoom ||||"));R.Xl=L(P(M(N(O(a("docs-crop-mode"),"Crop image"),970),"crop"),"resize | reshape | shrink | obscure |"));R.Yl=c("docs-crop-mode-exit",
"",1055,"Enter");R.wq=L(Q(If(N(O(a("docs-resize-image-larger"),"Resize image larger"),1138).keys("Ctrl+"+e+"+K")),"With objects"));R.xq=L(Q(If(N(O(a("docs-resize-image-larger-x"),"Resize image larger horizontally"),1139).keys("Ctrl+"+e+"+B")),"With objects"));R.yq=L(Q(If(N(O(a("docs-resize-image-larger-y"),"Resize image larger vertically"),1140).keys("Ctrl+"+e+"+I")),"With objects"));R.zq=L(Q(If(N(O(a("docs-resize-image-smaller"),"Resize image smaller"),1141).keys("Ctrl+"+e+"+J")),"With objects"));
R.Aq=L(Q(If(N(O(a("docs-resize-image-smaller-x"),"Resize image smaller horizontally"),1142).keys("Ctrl+"+e+"+W")),"With objects"));R.Bq=L(Q(If(N(O(a("docs-resize-image-smaller-y"),"Resize image smaller vertically"),1143).keys("Ctrl+"+e+"+Q")),"With objects"));R.Cq=L(Q(If(N(O(a("docs-resize-larger"),"Resize larger"),1102).keys("Ctrl+"+e+"+K")),"With objects"));R.Dq=L(Q(If(N(O(a("docs-resize-larger-x"),"Resize larger horizontally"),1101).keys("Ctrl+"+e+"+B")),"With objects"));R.Eq=L(Q(If(N(O(a("docs-resize-larger-y"),
"Resize larger vertically"),1100).keys("Ctrl+"+e+"+I")),"With objects"));R.Fq=L(Q(If(N(O(a("docs-resize-smaller"),"Resize smaller"),1099).keys("Ctrl+"+e+"+J")),"With objects"));R.Gq=L(Q(If(N(O(a("docs-resize-smaller-x"),"Resize smaller horizontally"),1097).keys("Ctrl+"+e+"+W")),"With objects"));R.Hq=L(Q(If(N(O(a("docs-resize-smaller-y"),"Resize smaller vertically"),1098).keys("Ctrl+"+e+"+Q")),"With objects"));R.sq=L(P(N(O(a("docs-replace-image"),"Replace image..."),1216),"photo | picture | change | switch | swap"));
R.tq=L(P(N(a("docs-replace-image-blob"),1868),"photo | picture | change | switch | swap"));R.uq=L(P(N(O(a("docs-replace-image-dialog"),"Replace image..."),1161),"photo | picture | change | switch | swap"));R.vq=L(P(M(N(O(a("docs-reset-image"),"Reset image"),1174),"reset-image"),"photo | picture | remove filters | revert changes |"));R.Qn=L(N(O(a("docs-image-palette"),"Image options..."),29300));R.Jn=c("docs-image-effects-brightness","",1291);R.Kn=c("docs-image-effects-contrast","",1292);R.Ln=c("docs-image-effects-opacity",
"",1293);R.Mn=c("docs-image-effects-recolor","",1294);R.Nn=c("docs-image-effects-reset","",1295);R.On=c("docs-image-effects-sidebar","",1296);R.Pn=c("docs-image-effects-sidebar-focus","Image options...",1297);R.Ug=c("docs-debug-menu","",1882);R.am=c("docs-debug-custom-items","",1883);R.xo=c("docs-js-error","JS Error",504);R.Te=c("docs-no-download","",1863,["Ctrl+P","Ctrl+C","Ctrl+X"]);R.Cs=L(M(N(O(a("docs-update-chart"),"Update chart"),29154),"update-chart"));R.Bs=L(N(O(a("docs-update-all-charts"),
"Update all charts"),29276));R.Vp=L(N(O(a("docs-open-chart-in-sheets"),"Open in Sheets"),29184));R.As=L(N(O(a("docs-unlink-chart"),"Unlink from Sheets"),29186));R.rn=L(If(N(a("docs-focus-chart-controls"),29193).keys(Bf(["E","O"]))));R.Hm=L(N(O(a("docs-domain-template-approve"),"Approve"),29253));R.Jm=L(N(O(a("docs-domain-template-reject"),"Reject"),29254));R.Im=L(N(O(a("docs-domain-template-dismiss-moderation"),"Got it"),29255))})();function Vf(a){I.call(this,"docs-action-registered");this.action=a}v(Vf,I);Ha(aa().prototype,aa().prototype);function Wf(a){J.call(this);this.ad={};if(!Jf){if(Jf)for(var b in R)R[b].reset();Jf=!0;qf(R.Zg);qf(R.Yg);qf(R.Kh);qf(R.Mh);qf(R.Ah);qf(R.Ch);qf(R.Eh);qf(R.Gh);qf(R.ah);qf(R.Nh);qf(R.Oh);qf(R.Sh);qf(R.Rh);qf(R.Qh);qf(R.Xh);qf(R.Zh);qf(R.rh);qf(R.dh);qf(R.zh);rf(R.Pg);rf(R.lh);rf(R.$h);rf(R.ci);rf(R.jh);rf(R.vh);rf(R.Ve);rf(R.We);qf(R.Ve);qf(R.We);qf(R.Rg);qf(R.xh);Qe||(Af(R.Tg,"Shift+Delete"),Af(R.Sg,"Ctrl+Insert"),Af(R.Te,"Shift+Delete"),Af(R.Te,"Ctrl+Insert"),Af(R.yh,"Shift+Insert"));qf(R.Qg);qf(R.Wg);
qf(R.nh);qf(R.Ih);qf(R.Fh);qf(R.Ph);qf(R.Bh);qf(R.bh);qf(R.Xg);qf(R.Wh);qf(R.Jh);qf(R.Ue);qf(R.Ug);R.wh.Vc(!0);R.qh.Vc(!1);Kf();a=!!a;if(!Jf)throw Error("Actions not registered");pf(R.Dh,"icon",Cf("redo",a));pf(R.ai,"icon",Cf("undo",a))}this.hd={}}v(Wf,J);Wf.prototype.G=function(){Wf.J.G.call(this);for(var a in this.ad)a in this.hd||H(this.ad[a])};var Xf={Xn:"docos-insert-discussion",Gl:"docos-cancel-insert-discussion",zp:"docos-new-doco",Gp:"docos-new-reply",bm:"docos-delete-doco",em:"docos-delete-reply",Nm:"docos-edit-doco",Qm:"docos-edit-reply",Om:"docos-edit-draft",Dl:"docos-before-highlight-doco",Fn:"docos-highlight-doco",Iq:"docos-resolve-doco",Ds:"docos-update-notification-settings",Cl:"docos-back-to-document",tl:"docos-accept-suggestion",oq:"docos-reject-suggestion",Tl:"docos-convert-doco",cm:"docos-reject-doco-with-feedback",Xs:"docos-write-feedback",
jm:"docos-disable-smart-todo-feature",Ts:"docos-vote-doco",Us:"docos-vote-reply"};function Yf(){Wf.call(this,!1)}v(Yf,Wf);function Zf(a,b){this.o=a;this.g=b;this.constructor.Ye||(this.constructor.Ye={});this.constructor.Ye[this.toString()]=this}Zf.prototype.ia=function(){return this.toString()};Zf.prototype.toString=function(){this.j||(this.j=this.o.g+":"+this.g);return this.j};Zf.prototype.L=h("g");function $f(a,b){Zf.call(this,a,b)}v($f,Zf);function ag(a){bg.hasOwnProperty(a);this.g=a;bg[a]=this}var bg;bg={};new ag("lib");var cg="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""};function dg(){}dg.prototype.next=function(){throw cg;};dg.prototype.Rb=function(){return this};function eg(a){if(a instanceof dg)return a;if("function"==typeof a.Rb)return a.Rb(!1);if(xa(a)){var b=0,c=new dg;c.next=function(){for(;;){if(b>=a.length)throw cg;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function fg(a,b){if(xa(a))try{ib(a,b,void 0)}catch(c){if(c!==cg)throw c;}else{a=eg(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==cg)throw c;}}};function gg(a,b){this.j={};this.g=[];this.v=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof gg?(c=a.ta(),d=a.fa()):(c=Cb(a),d=Bb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=gg.prototype;k.ba=h("o");k.fa=function(){hg(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.j[this.g[b]]);return a};k.ta=function(){hg(this);return this.g.concat()};
k.xb=function(a){for(var b=0;b<this.g.length;b++){var c=this.g[b];if(ig(this.j,c)&&this.j[c]==a)return!0}return!1};k.yb=function(a,b){if(this===a)return!0;if(this.o!=a.ba())return!1;b=b||jg;hg(this);for(var c,d=0;c=this.g[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function jg(a,b){return a===b}k.aa=function(){return 0==this.o};function kg(a){a.j={};a.g.length=0;a.o=0;a.v=0}function lg(a,b){ig(a.j,b)&&(delete a.j[b],a.o--,a.v++,a.g.length>2*a.o&&hg(a))}
function hg(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];ig(a.j,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],ig(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}k.get=function(a,b){return ig(this.j,a)?this.j[a]:b};k.set=function(a,b){ig(this.j,a)||(this.o++,this.g.push(a),this.v++);this.j[a]=b};k.forEach=function(a,b){for(var c=this.ta(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new gg(this)};
k.Rb=function(a){hg(this);var b=0,c=this.v,d=this,e=new dg;e.next=function(){if(c!=d.v)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw cg;var e=d.g[b++];return a?e:d.j[e]};return e};function ig(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function mg(a){return a.ba&&"function"==typeof a.ba?a.ba():xa(a)||q(a)?a.length:Ab(a)}function ng(a){if(a.fa&&"function"==typeof a.fa)return a.fa();if(q(a))return a.split("");if(xa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Bb(a)}function og(a){if(a.ta&&"function"==typeof a.ta)return a.ta();if(!a.fa||"function"!=typeof a.fa){if(xa(a)||q(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Cb(a)}}
function pg(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(xa(a)||q(a))ib(a,b,void 0);else for(var c=og(a),d=ng(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function qg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(xa(a)||q(a))return Array.prototype.every.call(a,b,void 0);for(var c=og(a),d=ng(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function rg(a){this.g=new gg;if(a){a=ng(a);for(var b=a.length,c=0;c<b;c++)sg(this,a[c])}}function tg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ba(a):b.substr(0,1)+a}k=rg.prototype;k.ba=function(){return this.g.ba()};function sg(a,b){a.g.set(tg(b),b)}k.aa=function(){return this.g.aa()};k.contains=function(a){a=tg(a);return ig(this.g.j,a)};k.fa=function(){return this.g.fa()};k.clone=function(){return new rg(this)};k.yb=function(a){return this.ba()==mg(a)&&ug(this,a)};
function ug(a,b){var c=mg(b);if(a.ba()>c)return!1;!(b instanceof rg)&&5<c&&(b=new rg(b));return qg(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.xb&&"function"==typeof c.xb?c.xb(a):xa(c)||q(c)?nb(c,a):Eb(c,a)})}k.Rb=function(){return this.g.Rb(!1)};function vg(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,vg));a.stack||(a.stack=wg(vg));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}function wg(a){var b;b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||wg),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=xg(a||arguments.callee.caller,[]));return b}
function xg(a,b){var c=[];if(nb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(yg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=yg(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(xg(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function yg(a){if(zg[a])return zg[a];a=String(a);if(!zg[a]){var b=/function ([^\(]+)/.exec(a);zg[a]=b?b[1]:"[Anonymous]"}return zg[a]}var zg={};function Ag(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Bg(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function S(a,b){this.g=0;this.C=void 0;this.v=this.j=this.o=null;this.A=this.B=!1;if(a!=ta)try{var c=this;a.call(b,function(a){Cg(c,2,a)},function(a){Cg(c,3,a)})}catch(d){Cg(this,3,d)}}function Dg(){this.next=this.context=this.j=this.v=this.g=null;this.o=!1}Dg.prototype.reset=function(){this.context=this.j=this.v=this.g=null;this.o=!1};var Eg=new Ve(function(){return new Dg},function(a){a.reset()},100);function Fg(a,b,c){var d=Eg.get();d.v=a;d.j=b;d.context=c;return d}
function Gg(a){if(a instanceof S)return a;var b=new S(ta);Cg(b,2,a);return b}function Hg(a){return new S(function(b,c){c(a)})}function Ig(a,b,c){Jg(a,b,c,null)||af(Ga(b,a))}function Kg(a){return new S(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,p;l<a.length;l++)p=a[l],Ig(p,Ga(f,l),g);else b(e)})}
function Lg(a){return new S(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ld:!0,value:f}:{ld:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],Ig(g,Ga(e,f,!0),Ga(e,f,!1));else b(d)})}function Mg(){var a,b,c=new S(function(c,e){a=c;b=e});return new Ng(c,a,b)}S.prototype.then=function(a,b,c){return Og(this,za(a)?a:null,za(b)?b:null,c)};Ag(S);function Pg(a,b){b=Fg(b,b,void 0);b.o=!0;Qg(a,b);return a}function Rg(a,b){return Og(a,null,b,void 0)}
S.prototype.cancel=function(a){0==this.g&&af(function(){var b=new Sg(a);Tg(this,b)},this)};function Tg(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.o||(d++,g.g==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.g&&1==d?Tg(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):Ug(c),Vg(c,e,3,b)))}a.o=null}else Cg(a,3,b)}function Qg(a,b){a.j||2!=a.g&&3!=a.g||Wg(a);a.v?a.v.next=b:a.j=b;a.v=b}
function Og(a,b,c,d){var e=Fg(null,null,null);e.g=new S(function(a,g){e.v=b?function(c){try{var e=b.call(d,c);a(e)}catch(u){g(u)}}:a;e.j=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof Sg?g(b):a(e)}catch(u){g(u)}}:g});e.g.o=a;Qg(a,e);return e.g}S.prototype.S=function(a){this.g=0;Cg(this,2,a)};S.prototype.D=function(a){this.g=0;Cg(this,3,a)};
function Cg(a,b,c){0==a.g&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.g=1,Jg(c,a.S,a.D,a)||(a.C=c,a.g=b,a.o=null,Wg(a),3!=b||c instanceof Sg||Xg(a,c)))}function Jg(a,b,c,d){if(a instanceof S)return Qg(a,Fg(b||ta,c||null,d)),!0;if(Bg(a))return a.then(b,c,d),!0;if(Aa(a))try{var e=a.then;if(za(e))return Yg(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function Yg(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function g(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,g,f)}catch(p){f(p)}}function Wg(a){a.B||(a.B=!0,af(a.F,a))}function Ug(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b}S.prototype.F=function(){for(var a;a=Ug(this);)Vg(this,a,this.g,this.C);this.B=!1};
function Vg(a,b,c,d){if(3==c&&b.j&&!b.o)for(;a&&a.A;a=a.o)a.A=!1;if(b.g)b.g.o=null,Zg(b,c,d);else try{b.o?b.v.call(b.context):Zg(b,c,d)}catch(e){$g.call(null,e)}We(Eg,b)}function Zg(a,b,c){2==b?a.v.call(a.context,c):a.j&&a.j.call(a.context,c)}function Xg(a,b){a.A=!0;af(function(){a.A&&$g.call(null,b)})}var $g=Re;function Sg(a){Ka.call(this,a)}v(Sg,Ka);Sg.prototype.name="cancel";function Ng(a,b,c){this.g=a;this.resolve=b;this.reject=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.B=[];this.P=a;this.H=b||null;this.v=this.g=!1;this.o=void 0;this.W=this.O=this.F=!1;this.C=0;this.j=null;this.A=0}k=T.prototype;k.cancel=function(a){if(this.g)this.o instanceof T&&this.o.cancel();else{if(this.j){var b=this.j;delete this.j;a?b.cancel(a):(b.A--,0>=b.A&&b.cancel())}this.P?this.P.call(this.H,this):this.W=!0;this.g||this.R(new ah)}};k.mf=function(a,b){this.F=!1;bh(this,a,b)};function bh(a,b,c){a.g=!0;a.o=c;a.v=!b;ch(a)}
function dh(a){if(a.g){if(!a.W)throw new eh;a.W=!1}}k.K=function(a){dh(this);bh(this,!0,a)};k.R=function(a){dh(this);bh(this,!1,a)};k.T=function(a,b){return U(this,a,null,b)};function fh(a,b,c){return U(a,null,b,c)}function gh(a,b){return U(a,b,b,void 0)}function hh(a,b,c){U(a,b,function(c){var d=b.call(a,c);if(!n(d))throw c;return d},c)}function U(a,b,c,d){a.B.push([b,c,d]);a.g&&ch(a);return a}
k.then=function(a,b,c){var d,e,f=new S(function(a,b){d=a;e=b});U(this,d,function(a){a instanceof ah?f.cancel():e(a)});return f.then(a,b,c)};Ag(T);function ih(a,b){U(a,b.K,b.R,b)}function jh(a,b){b instanceof T?a.T(r(b.Tb,b)):a.T(function(){return b})}T.prototype.Tb=function(a){var b=new T;ih(this,b);a&&(b.j=this,this.A++);return b};function kh(a){return lb(a.B,function(a){return za(a[1])})}
function ch(a){if(a.C&&a.g&&kh(a)){var b=a.C,c=lh[b];c&&(m.clearTimeout(c.g),delete lh[b]);a.C=0}a.j&&(a.j.A--,delete a.j);for(var b=a.o,d=c=!1;a.B.length&&!a.F;){var e=a.B.shift(),f=e[0],g=e[1],e=e[2];if(f=a.v?g:f)try{var l=f.call(e||a.H,b);n(l)&&(a.v=a.v&&(l==b||l instanceof Error),a.o=b=l);if(Bg(b)||"function"===typeof m.Promise&&b instanceof m.Promise)d=!0,a.F=!0}catch(p){b=p,a.v=!0,kh(a)||(c=!0)}}a.o=b;d&&(l=r(a.mf,a,!0),d=r(a.mf,a,!1),b instanceof T?(U(b,l,d),b.O=!0):b.then(l,d));c&&(b=new mh(b),
lh[b.g]=b,a.C=b.g)}function nh(a){var b=new T;b.K(a);return b}function oh(a){var b=new T;b.R(a);return b}function eh(){Ka.call(this)}v(eh,Ka);eh.prototype.message="Deferred has already fired";eh.prototype.name="AlreadyCalledError";function ah(){Ka.call(this)}v(ah,Ka);ah.prototype.message="Deferred was canceled";ah.prototype.name="CanceledError";function mh(a){this.g=m.setTimeout(r(this.o,this),0);this.j=a}mh.prototype.o=function(){delete lh[this.g];throw this.j;};var lh={};function ph(a){F.call(this);this.j={};this.B={};this.A={};this.g={};this.C={};this.D={};this.F=a?a.F:new J;this.I=!a;this.o=null;a?(this.o=a,this.A=a.A,this.g=a.g,this.B=a.B,this.C=a.C):t();a=qh(this);this!=a&&(a.v?a.v.push(this):a.v=[this])}v(ph,F);function qh(a){for(;a.o;)a=a.o;return a}ph.prototype.get=function(a){var b=rh(this,a);if(null==b)throw new sh(a);return b};
function rh(a,b){for(var c=a;c;c=c.o){if(c.isDisposed())throw Error("AppContext is disposed.");if(c.j[b])return c.j[b][0];if(c.D[b])break}if(c=a.A[b]){c=c(a);if(null==c)throw Error("Factory method for service "+b+" returned null or undefined.");a.Ma(b,c);return c}return null}ph.prototype.Ma=function(a,b,c){if(this.isDisposed())c||H(b);else{this.j[a]=[b,!c];c=th(this,this,a);for(var d=0;d<c.length;d++)c[d].K(null);delete this.B[a];return b}};
function th(a,b,c){var d=[],e=a.g[c];e&&(jb(e,function(a){var c;a:{for(c=a.fi;c;){if(c==b){c=!0;break a}c=c.o}c=!1}c&&(d.push(a.d),pb(e,a))}),0==e.length&&delete a.g[c]);return d}function uh(a,b){a.g&&pg(a.g,function(a,d,e){jb(a,function(c){c.fi==b&&pb(a,c)});0==a.length&&delete e[d]})}
ph.prototype.G=function(){if(qh(this)==this){var a=this.v;if(a)for(;a.length;)a[0].X()}else for(var a=qh(this).v,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.j)a=this.j[c],a[1]&&a[0].X&&a[0].X();this.j=null;this.I&&this.F.X();uh(this,this);this.g=null;H(this.H);this.D=this.H=null;ph.J.G.call(this)};function sh(a){Ka.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'}v(sh,Ka);var vh=new ag("fva");new $f(vh,1);function wh(){ph.call(this)}v(wh,ph);function xh(a){return a.get("config")}function yh(a){return a.get("stream")};function zh(a,b,c){var d=Uc(a);this.g=a;this.A=b;this.B=c||null;this.v={};this.j={};this.o=new Td(d);b=this.getId();if(a=Uc(a))for(a=Sc(a),c=0;c<a.length;c++)d=new Td(a[c]),n(B(a[c],13))?this.v[d.getId()]=d:(this.j[d.getId()]=d,this.A.bind(b,d.getId()))}zh.prototype.getId=function(){return this.o.getId()};function Ah(a){return B(a.g,8)||""}function Bh(a){return"draft"==a.B||"client-integrated-draft"==a.B||"instant-doco"==a.B||"smart-todo"==a.B}zh.prototype.cb=function(){return!!B(this.g,9)};
zh.prototype.Ba=function(){return this.o.Ba()};function Ch(a,b){this.g=a;this.j=b||null}Ch.prototype.getId=function(){return Uc(this.g).getId()};function Dh(){this.o={};this.g={};this.j=0}function Eh(a,b,c){b="$"+b;return a.g[b]?a.g[b]["$"+(c?c:"")]||null:null}function Fh(a,b,c,d){c="$"+c;a.g[c]||(a.g[c]={});a.o[b]=new Gh;a.g[c]["$"+(d?d:"")]=b}Dh.prototype.bind=function(a,b){if(null!==Eh(this,a,b))return!1;this.j++;Fh(this,this.j,a,b);return!0};function Hh(a,b,c){var d=Eh(a,b,c);null!==d&&(delete a.o[d],delete a.g["$"+b]["$"+(c?c:"")])}
function Ih(a,b,c,d,e){var f=Eh(a,b,c);if(null===f||null!==Eh(a,d,e))return!1;Hh(a,b,c||void 0);Fh(a,f,d,e);return!0}function Jh(a,b,c){return Eh(a,b,c)||0}function Gh(){};function Kh(a){J.call(this);this.H=a;this.g={};this.j={};this.A=[];this.D=[];this.C={};this.B={};this.o=new Dh}v(Kh,J);
function Lh(a,b,c){c=c||"c";var d=Mh(a),e=Nh(a,b.getId(),B(Uc(b.g),11)||"");if(e){var f=e.getId(),g=e.Ba(),l;b=b.g;var p=Fc(e.g);Uc(b);for(var u=Uc(b),w=b.getId(),z=null!=w?w:e.getId(),w=n(B(u,13))&&0!=B(u,13)&&!e.Ba(),da=(!n(B(u,13))||0==B(u,13))&&e.Ba(),Z=Sc(u),na=0;na<Z.length;na++){var ra=Z[na],X=e.j[ra.getId()||""]||e.j[B(ra,11)||""];l=!1;X||(X=e.v[ra.getId()||""]||e.v[B(ra,11)||""],l=!!X);if(X){var Ua=X.getId();X.update(ra);if(Ua!=X.getId()&&(delete e.j[Ua],e.j[X.getId()]=X,Jh(e.A,z,Ua)&&!Ih(e.A,
z,Ua,z,X.getId())))throw Error("Error updating ID from "+z+", "+Ua+" to "+z+", "+X.getId());X.Ba()?(delete e.j[X.getId()],e.v[X.getId()]=X,Hh(e.A,z,X.getId())):l&&!X.Ba()&&(delete e.v[X.getId()],e.j[X.getId()]=X,e.A.bind(z,X.getId()))}else X=new Td(ra),X.Ba()?(e.v[X.getId()]=X,Hh(e.A,z,X.getId())):(e.j[X.getId()]=X,delete e.v[X.getId()],e.A.bind(z,X.getId())),X=Sc(Uc(e.g)),X.push(ra),ra=Uc(e.g),wc(ra,8,X)}z=0;n(B(b,6))&&B(b,6)!=!!B(e.g,6)&&(z=B(b,6)?z|2:z|4);w&&!l?z|=16:da&&(z|=8);wc(u,8,[]);w&&(E(u,
3,void 0),E(u,4,void 0),E(u,9,void 0));Id(e.g,b);e.o.update(u);Cc(e.g,p)||(z|=1);l=z;Oh(a,e);if(f!=e.getId()&&(delete a.g[f],delete a.j[f],b=Jh(a.o,f),delete a.C[b],a.g[e.getId()]=e,b&&!Ih(a.o,f,null,e.getId(),null)))throw Error("Error updating ID from "+f+" to "+e.getId());b=Jh(a.o,e.getId());e.Ba()?(delete a.g[e.getId()],Hh(a.o,e.getId()),a.j[e.getId()]=e,b&&(a.C[b]=e),"n"!=c&&!Bh(e)&&e.cb()&&(ob(a.A,e.getId()),ob(a.D,e.getId())),a.dispatchEvent(new Ph("dd",c,e.getId(),f!=e.getId()?f:void 0,Ah(e)))):
(g&&(delete a.j[e.getId()],delete a.C[b],a.g[e.getId()]=e,Ah(e)&&a.o.bind(e.getId()),e.getId()),0!=l&&("n"!=c&&!Bh(e)&&e.cb()&&ob(a.A,e.getId()),a.dispatchEvent(new Ph("cd",c,e.getId(),f!=e.getId()?f:void 0,Ah(e)))))}else if(e=a.o,f=b.j?b.j:void 0,e=new zh(Fc(b.g),e,f),e.Ba())a.j[e.getId()]=e;else if((f=B(a.H.g,38))||(f=D(e.o.g,Pc,18),f=!(null!=f&&new Sd(f)&&e.o)),f){f=c||"c";if(n(B(e.g,8)))if(g=Ah(e),(l=a.B[g]||null)&&Ah(l)!=g?(delete a.B[g],g=null):g=l,g&&Bh(g)){if(Ih(a.o,g.getId(),null,e.getId(),
null),g=g.getId(),l=f||"c",b=a.g[g])n(B(b.g,8))&&(Ah(b),delete a.B[Ah(b)]),delete a.g[g],Hh(a.o,g),a.dispatchEvent(new Ph("dd",l,g,void 0))}else a.o.bind(e.getId());a.g[e.getId()]=e;Oh(a,e);B(e.g,6);"n"!=f&&!Bh(e)&&e.cb()&&ob(a.A,e.getId());a.dispatchEvent(new Ph("cd",f,e.getId(),void 0,Ah(e),Jh(a.o,e.getId())))}Mh(a)!=d&&(Mh(a),a.dispatchEvent(new Ph("p",c,void 0,void 0)))}
function Qh(a){function b(a){return a.cb()}var c=Array.prototype.filter.call(Bb(a.g),b,void 0);a=Array.prototype.filter.call(Bb(a.j),b,void 0);return c.concat(a)}function Mh(a){function b(a){return a.cb()}return!(!Gb(a.g,b)&&!Gb(a.j,b))}function Rh(a){for(var b=0;b<a.A.length;b++){var c=a.A[b],d=a.g[c];d||(d=a.j[c]);if(d&&d.cb())return!0}return!1}function Nh(a,b,c){return a.g[b]||a.j[b]||a.g[c]||a.j[c]||null}function Oh(a,b){Ah(b)&&(b.Ba()?delete a.B[Ah(b)]:a.B[Ah(b)]=b)}
function Sh(a){a.dispatchEvent(new Ph("f","c",void 0,void 0));a.dispatchEvent(new Ph("af","c"))}function Ph(a,b,c,d){I.call(this,a);this.source=b;this.j=c||null;this.g=d||null}v(Ph,I);function Th(){var a=Math.floor(4294967296*Math.random()).toString(16),a=ab("0",Math.max(0,8-a.length))+a;return Math.floor(2147483648*Math.random()).toString(16)+a};function V(a){F.call(this);this.j=a;this.g={}}v(V,F);var Uh=[];V.prototype.listen=function(a,b,c,d){wa(b)||(b&&(Uh[0]=b.toString()),b=Uh);for(var e=0;e<b.length;e++){var f=ne(a,b[e],c||this.handleEvent,d||!1,this.j||this);if(!f)break;this.g[f.key]=f}return this};function Vh(a,b,c,d){return Wh(a,b,c,d,void 0)}function Wh(a,b,c,d,e,f){if(wa(c))for(var g=0;g<c.length;g++)Wh(a,b,c[g],d,e,f);else{b=ue(b,c,d||a.handleEvent,e,f||a.j||a);if(!b)return a;a.g[b.key]=b}return a}
V.prototype.Zc=function(a,b,c,d,e){if(wa(b))for(var f=0;f<b.length;f++)this.Zc(a,b[f],c,d,e);else if(a=xe(a,b,c||this.handleEvent,d,e||this.j||this))we(a),delete this.g[a.key];return this};function Xh(a){yb(a.g,function(a,c){this.g.hasOwnProperty(c)&&we(a)},a);a.g={}}V.prototype.G=function(){V.J.G.call(this);Xh(this)};V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Yh(){this.g=t()}new Yh;Yh.prototype.set=ba("g");Yh.prototype.reset=function(){this.set(t())};Yh.prototype.get=h("g");function Zh(a,b){this.$a=new kc(a);this.g=b?ic:hc}Zh.prototype.stringify=function(a){return this.$a.ia(a)};Zh.prototype.parse=function(a){return this.g(a)};function $h(a){this.j=0;this.o=a||100;this.g=[]}k=$h.prototype;k.get=function(a){a=ai(this,a);return this.g[a]};k.set=function(a,b){a=ai(this,a);this.g[a]=b};k.ba=function(){return this.g.length};k.aa=function(){return 0==this.g.length};k.fa=function(){for(var a=this.ba(),b=this.ba(),c=[],a=this.ba()-a;a<b;a++)c.push(this.get(a));return c};k.ta=function(){for(var a=[],b=this.ba(),c=0;c<b;c++)a[c]=c;return a};k.xb=function(a){for(var b=this.ba(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};
function bi(a){return 0==a.ba()?null:a.get(a.ba()-1)}function ai(a,b){if(b>=a.g.length)throw Error("Out of bounds exception");return a.g.length<a.o?b:(a.j+Number(b))%a.o};function ci(a,b){this.o=this.F=this.v="";this.C=null;this.A=this.g="";this.B=!1;var c;a instanceof ci?(this.B=n(b)?b:a.B,di(this,a.v),this.F=a.F,ei(this,a.o),fi(this,a.C),this.g=a.g,gi(this,a.j.clone()),this.A=a.A):a&&(c=String(a).match(pd))?(this.B=!!b,di(this,c[1]||"",!0),this.F=hi(c[2]||""),ei(this,c[3]||"",!0),fi(this,c[4]),this.g=hi(c[5]||"",!0),gi(this,c[6]||"",!0),this.A=hi(c[7]||"")):(this.B=!!b,this.j=new ii(null,0,this.B))}
ci.prototype.toString=function(){var a=[],b=this.v;b&&a.push(ji(b,ki,!0),":");var c=this.o;if(c||"file"==b)a.push("//"),(b=this.F)&&a.push(ji(b,ki,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.C,null!=c&&a.push(":",String(c));if(c=this.g)this.o&&"/"!=c.charAt(0)&&a.push("/"),a.push(ji(c,"/"==c.charAt(0)?li:mi,!0));(c=this.j.toString())&&a.push("?",c);(c=this.A)&&a.push("#",ji(c,ni));return a.join("")};
ci.prototype.resolve=function(a){var b=this.clone(),c=!!a.v;c?di(b,a.v):c=!!a.F;c?b.F=a.F:c=!!a.o;c?ei(b,a.o):c=null!=a.C;var d=a.g;if(c)fi(b,a.C);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.o&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var l=e[g++];"."==l?d&&g==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&
""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.j.toString();c?gi(b,a.j.clone()):c=!!a.A;c&&(b.A=a.A);return b};ci.prototype.clone=function(){return new ci(this)};function di(a,b,c){a.v=c?hi(b,!0):b;a.v&&(a.v=a.v.replace(/:$/,""))}function ei(a,b,c){a.o=c?hi(b,!0):b}function fi(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.C=b}else a.C=null}
function gi(a,b,c){b instanceof ii?(a.j=b,oi(a.j,a.B)):(c||(b=ji(b,pi)),a.j=new ii(b,0,a.B))}function qi(a,b,c){a.j.set(b,c);return a}function ri(a,b,c){wa(c)||(c=[String(c)]);si(a.j,b,c)}function ti(a){qi(a,"zx",eb());return a}function ui(a){return a instanceof ci?a.clone():new ci(a,void 0)}function vi(a,b,c,d){var e=new ci(null,void 0);a&&di(e,a);b&&ei(e,b);c&&fi(e,c);d&&(e.g=d);return e}function hi(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function ji(a,b,c){return q(a)?(a=encodeURI(a).replace(b,wi),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wi(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ki=/[#\/\?@]/g,mi=/[\#\?:]/g,li=/[\#\?]/g,pi=/[\#\?@]/g,ni=/#/g;function ii(a,b,c){this.j=this.g=null;this.o=a||null;this.v=!!c}function xi(a){a.g||(a.g=new gg,a.j=0,a.o&&rd(a.o,function(b,c){b=Pa(b);xi(a);a.o=null;b=yi(a,b);var d=a.g.get(b);d||a.g.set(b,d=[]);d.push(c);a.j=a.j+1}))}k=ii.prototype;
k.ba=function(){xi(this);return this.j};function zi(a,b){xi(a);b=yi(a,b);ig(a.g.j,b)&&(a.o=null,a.j=a.j-a.g.get(b).length,lg(a.g,b))}k.aa=function(){xi(this);return 0==this.j};function Ai(a,b){xi(a);b=yi(a,b);return ig(a.g.j,b)}k.xb=function(a){var b=this.fa();return nb(b,a)};k.ta=function(){xi(this);for(var a=this.g.fa(),b=this.g.ta(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.fa=function(a){xi(this);var b=[];if(q(a))Ai(this,a)&&(b=qb(b,this.g.get(yi(this,a))));else{a=this.g.fa();for(var c=0;c<a.length;c++)b=qb(b,a[c])}return b};k.set=function(a,b){xi(this);this.o=null;a=yi(this,a);Ai(this,a)&&(this.j=this.j-this.g.get(a).length);this.g.set(a,[b]);this.j=this.j+1;return this};k.get=function(a,b){a=a?this.fa(a):[];return 0<a.length?String(a[0]):b};function si(a,b,c){zi(a,b);0<c.length&&(a.o=null,a.g.set(yi(a,b),rb(c)),a.j=a.j+c.length)}
k.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.ta(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.fa(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.o=a.join("&")};k.clone=function(){var a=new ii;a.o=this.o;this.g&&(a.g=this.g.clone(),a.j=this.j);return a};function yi(a,b){b=String(b);a.v&&(b=b.toLowerCase());return b}
function oi(a,b){b&&!a.v&&(xi(a),a.o=null,a.g.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(zi(this,b),si(this,c,a))},a));a.v=b};function Bi(a,b){J.call(this);this.j=a||1;this.g=b||m;this.o=r(this.ml,this);this.A=t()}v(Bi,J);k=Bi.prototype;k.enabled=!1;k.Ra=null;k.setInterval=function(a){this.j=a;this.Ra&&this.enabled?(this.stop(),this.start()):this.Ra&&this.stop()};k.ml=function(){if(this.enabled){var a=t()-this.A;0<a&&a<.8*this.j?this.Ra=this.g.setTimeout(this.o,this.j-a):(this.Ra&&(this.g.clearTimeout(this.Ra),this.Ra=null),this.dispatchEvent("tick"),this.enabled&&(this.Ra=this.g.setTimeout(this.o,this.j),this.A=t()))}};
k.start=function(){this.enabled=!0;this.Ra||(this.Ra=this.g.setTimeout(this.o,this.j),this.A=t())};k.stop=function(){this.enabled=!1;this.Ra&&(this.g.clearTimeout(this.Ra),this.Ra=null)};k.G=function(){Bi.J.G.call(this);this.stop();delete this.g};function Ci(a,b,c){if(za(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)}function Di(a){m.clearTimeout(a)}
function Ei(){var a=null;return Rg(new S(function(b,c){a=Ci(function(){b(void 0)},3E5);-1==a&&c(Error("Failed to schedule timer."))}),function(b){Di(a);throw b;})};function Fi(a,b,c){F.call(this);this.v=null!=c?r(a,c):a;this.o=b;this.j=r(this.Bk,this);this.g=[]}v(Fi,F);k=Fi.prototype;k.Fd=!1;k.gc=null;k.oe=function(a){this.g=arguments;this.gc?this.Fd=!0:Gi(this)};k.stop=function(){this.gc&&(Di(this.gc),this.gc=null,this.Fd=!1,this.g=[])};k.G=function(){Fi.J.G.call(this);this.stop()};k.Bk=function(){this.gc=null;this.Fd&&(this.Fd=!1,Gi(this))};function Gi(a){a.gc=Ci(a.j,a.o);a.v.apply(null,a.g)};function Hi(){}Hi.prototype.g=null;function Ii(a){var b;(b=a.g)||(b={},Ji(a)&&(b[0]=!0,b[1]=!0),b=a.g=b);return b};var Ki;function Li(){}v(Li,Hi);function Mi(a){return(a=Ji(a))?new ActiveXObject(a):new XMLHttpRequest}function Ji(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j}Ki=new Li;function Ni(a,b,c,d,e){this.g=a;this.ca=c;this.C=d;this.B=e||1;this.j=45E3;this.v=new V(this);this.A=new Bi;this.A.setInterval(250)}k=Ni.prototype;k.Kb=null;k.Fb=!1;k.wc=null;k.Re=null;k.zd=null;k.nd=null;k.xc=null;k.Ad=null;k.Nb=null;k.Da=null;k.Ld=0;k.Jg=null;k.Id=null;k.hc=null;k.Jc=-1;k.zc=!1;k.te=0;k.xd=null;var Oi={},Pi={};k=Ni.prototype;k.setTimeout=ba("j");function Qi(a,b,c){a.nd=1;a.xc=ti(b.clone());a.Nb=c;a.o=!0;Ri(a,null)}
function Si(a,b,c,d){a.nd=1;a.xc=ti(b.clone());a.Nb=null;a.o=c;Ri(a,d)}function Ri(a,b){a.zd=t();Ti(a);a.Ad=a.xc.clone();ri(a.Ad,"t",a.B);a.Ld=0;a.Da=a.g.Xd(a.g.Wc()?b:null);0<a.te&&(a.xd=new Fi(r(a.Ng,a,a.Da),a.te));a.v.listen(a.Da,"readystatechange",a.Uk);b=a.Kb?Ib(a.Kb):{};a.Nb?(a.Id="POST",b["Content-Type"]="application/x-www-form-urlencoded",a.Da.send(a.Ad,a.Id,a.Nb,b)):(a.Id="GET",a.Da.send(a.Ad,a.Id,null,b));a.g.pb(1)}k.Uk=function(a){a=a.target;var b=this.xd;b&&3==Ui(a)?b.oe():this.Ng(a)};
k.Ng=function(a){try{if(a==this.Da)a:{var b=Ui(this.Da),c=this.Da.o,d=this.Da.Z();if(!Yb("420+")){if(4>b)break a}else if(3>b||3==b&&!this.Da.qa())break a;this.zc||4!=b||7==c||(8==c||0>=d?this.g.pb(3):this.g.pb(2));Vi(this);var e=this.Da.Z();this.Jc=e;var f=this.Da.qa();if(this.Fb=200==e){4==b&&Wi(this);if(this.o){for(a=!0;!this.zc&&this.Ld<f.length;){var g=Xi(this,f);if(g==Pi){4==b&&(this.hc=4,Yi(),a=!1);Zi(null);break}else if(g==Oi){this.hc=4;Yi();Zi(f);a=!1;break}else Zi(g),$i(this,g)}4==b&&0==
f.length&&(this.hc=1,Yi(),a=!1);this.Fb=this.Fb&&a;a||(Zi(f),Wi(this),aj(this))}else Zi(f),$i(this,f);this.Fb&&!this.zc&&(4==b?this.g.De(this):(this.Fb=!1,Ti(this)))}else this.hc=400==e&&0<f.indexOf("Unknown SID")?3:0,Yi(),Wi(this),aj(this)}}catch(l){}finally{}};function Xi(a,b){var c=a.Ld,d=b.indexOf("\n",c);if(-1==d)return Pi;c=Number(b.substring(c,d));if(isNaN(c))return Oi;d+=1;if(d+c>b.length)return Pi;b=b.substr(d,c);a.Ld=d+c;return b}k.cancel=function(){this.zc=!0;Wi(this)};
function Ti(a){a.Re=t()+a.j;bj(a,a.j)}function bj(a,b){if(null!=a.wc)throw Error("WatchDog timer not null");a.wc=cj(r(a.Jk,a),b)}function Vi(a){a.wc&&(m.clearTimeout(a.wc),a.wc=null)}k.Jk=function(){this.wc=null;var a=t();0<=a-this.Re?(2!=this.nd&&this.g.pb(3),Wi(this),this.hc=2,Yi(),aj(this)):bj(this,this.Re-a)};function aj(a){a.g.ag()||a.zc||a.g.De(a)}function Wi(a){Vi(a);H(a.xd);a.xd=null;a.A.stop();Xh(a.v);if(a.Da){var b=a.Da;a.Da=null;b.abort();b.X()}a.Jg&&(a.Jg=null)}k.mb=h("ca");k.bb=h("C");
function $i(a,b){try{a.g.kg(a,b),a.g.pb(4)}catch(c){}};function Zi(a){if(a&&"y2f%"!=a)try{var b=ic(a);if(b)for(a=0;a<b.length;a++)if(wa(b[a])){var c=b[a];if(!(2>c.length)){var d=c[1];if(wa(d)&&!(1>d.length)){var e=d[0];if("noop"!=e&&"stop"!=e)for(var f=1;f<d.length;f++)d[f]=""}}}jc(b)}catch(g){}};function dj(a,b,c,d,e){if(0==d)c(!1);else{var f=e||0;d--;ej(a,b,function(e){e?c(!0):m.setTimeout(function(){dj(a,b,c,d,f)},f)})}}function ej(a,b,c){var d=new Image;d.onload=function(){try{fj(d),c(!0)}catch(e){}};d.onerror=function(){try{fj(d),c(!1)}catch(e){}};d.onabort=function(){try{fj(d),c(!1)}catch(e){}};d.ontimeout=function(){try{fj(d),c(!1)}catch(e){}};m.setTimeout(function(){if(d.ontimeout)d.ontimeout()},b);d.src=a}
function fj(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};function gj(a){this.g=a;this.j=new Zh(null,!0)}k=gj.prototype;k.re=null;k.Sa=null;k.yd=!1;k.se=null;k.Ta=null;k.ob=-1;k.md=null;k.yc=null;k.connect=function(a){this.se=a;a=hj(this.g,null,this.se);Yi();t();var b=this.g.F;null!=b?(this.md=ij(this.g,b[0]),(this.yc=b[1])?(this.Ta=1,jj(this)):(this.Ta=2,kj(this))):(ri(a,"MODE","init"),this.Sa=new Ni(this,0,void 0,void 0,void 0),this.Sa.Kb=this.re,Si(this.Sa,a,!1,null),this.Ta=0)};
function jj(a){var b=hj(a.g,a.yc,"/mail/images/cleardot.gif");ti(b);dj(b.toString(),5E3,r(a.ji,a),3,2E3);a.pb(1)}k.ji=function(a){if(a)this.Ta=2,kj(this);else{Yi();var b=this.g;b.Ya=b.wb.ob;lj(b,9)}a&&this.pb(2)};function kj(a){var b=a.g.S;null!=b?(Yi(),b?(Yi(),mj(a.g,a,!1)):(Yi(),mj(a.g,a,!0))):(a.Sa=new Ni(a,0,void 0,void 0,void 0),a.Sa.Kb=a.re,b=a.g,b=hj(b,b.Wc()?a.md:null,a.se),Yi(),ri(b,"TYPE","xmlhttp"),Si(a.Sa,b,!1,a.md))}k.Xd=function(a){return this.g.Xd(a)};
k.abort=function(){this.Sa&&(this.Sa.cancel(),this.Sa=null);this.ob=-1};k.ag=ca(!1);k.kg=function(a,b){this.ob=a.Jc;if(0==this.Ta)if(b){try{var c=this.j.parse(b)}catch(d){a=this.g;a.Ya=this.ob;lj(a,2);return}this.md=ij(this.g,c[0]);this.yc=c[1]}else a=this.g,a.Ya=this.ob,lj(a,2);else 2==this.Ta&&(this.yd?(Yi(),t()):"11111"==b?(Yi(),this.yd=!0,t(),this.ob=200,this.Sa.cancel(),Yi(),mj(this.g,this,!0)):(Yi(),t(),this.yd=!1))};
k.De=function(){this.ob=this.Sa.Jc;if(this.Sa.Fb)0==this.Ta?this.yc?(this.Ta=1,jj(this)):(this.Ta=2,kj(this)):2==this.Ta&&(this.yd?(Yi(),mj(this.g,this,!0)):(Yi(),mj(this.g,this,!1)));else{0==this.Ta?Yi():2==this.Ta&&Yi();var a=this.g;a.Ya=this.ob;lj(a,2)}};k.Wc=function(){return this.g.Wc()};k.pb=function(a){this.g.pb(a)};function nj(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function oj(a){J.call(this);this.headers=new gg;this.P=a||null;this.j=!1;this.N=this.g=null;this.I="";this.o=0;this.A="";this.C=this.U=this.H=this.O=!1;this.D=0;this.M=null;this.B="";this.Y=this.jc=!1}v(oj,J);var pj=/^https?$/i,qj=["POST","PUT"],rj=[];function sj(a,b,c,d,e,f,g){var l=new oj;rj.push(l);b&&l.listen("complete",b);ge(l.v,"ready",l.mi,!0,void 0,void 0);f&&tj(l,f);g&&(l.jc=g);l.send(a,c,d,e)}k=oj.prototype;k.mi=function(){this.X();pb(rj,this)};function tj(a,b){a.D=Math.max(0,b)}
k.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+a);b=b?b.toUpperCase():"GET";this.I=a;this.A="";this.o=0;this.O=!1;this.j=!0;this.g=this.Wd();this.N=this.P?Ii(this.P):Ii(Ki);this.g.onreadystatechange=r(this.jg,this);try{this.Z(),this.U=!0,this.g.open(b,String(a),!0),this.U=!1}catch(f){this.Z();uj(this,f);return}a=c||"";var e=this.headers.clone();d&&pg(d,function(a,b){e.set(b,a)});d=mb(e.ta(),vj);c=m.FormData&&a instanceof
m.FormData;!nb(qj,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.B&&(this.g.responseType=this.B);"withCredentials"in this.g&&this.g.withCredentials!==this.jc&&(this.g.withCredentials=this.jc);try{wj(this),0<this.D&&(this.Y=!1,this.Z(),this.Y?(this.g.timeout=this.D,this.g.ontimeout=r(this.Qf,this)):this.M=Ci(this.Qf,this.D,this)),this.Z(),this.H=!0,this.g.send(a),this.H=!1}catch(f){this.Z(),uj(this,
f)}};function vj(a){return"content-type"==a.toLowerCase()}k.Wd=function(){return this.P?Mi(this.P):Mi(Ki)};k.Qf=function(){"undefined"!=typeof pa&&this.g&&(this.A="Timed out after "+this.D+"ms, aborting",this.o=8,this.Z(),this.dispatchEvent("timeout"),this.abort(8))};function uj(a,b){a.j=!1;a.g&&(a.C=!0,a.g.abort(),a.C=!1);a.A=b;a.o=5;xj(a);yj(a)}function xj(a){a.O||(a.O=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(a){this.g&&this.j&&(this.Z(),this.j=!1,this.C=!0,this.g.abort(),this.C=!1,this.o=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yj(this))};k.G=function(){this.g&&(this.j&&(this.j=!1,this.C=!0,this.g.abort(),this.C=!1),yj(this,!0));oj.J.G.call(this)};k.jg=function(){this.isDisposed()||(this.U||this.H||this.C?zj(this):this.Ce())};k.Ce=function(){zj(this)};
function zj(a){if(a.j&&"undefined"!=typeof pa)if(a.N[1]&&4==Ui(a)&&2==a.Z())a.Z();else if(a.H&&4==Ui(a))Ci(a.jg,0,a);else if(a.dispatchEvent("readystatechange"),4==Ui(a)){a.Z();a.j=!1;try{if(a.Cb())a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.o=6;var b;try{b=2<Ui(a)?a.g.statusText:""}catch(c){b=""}a.A=b+" ["+a.Z()+"]";xj(a)}}finally{yj(a)}}}
function yj(a,b){if(a.g){wj(a);var c=a.g,d=a.N[0]?ta:null;a.g=null;a.N=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function wj(a){a.g&&a.Y&&(a.g.ontimeout=null);ya(a.M)&&(Di(a.M),a.M=null)}k.Cb=function(){var a=this.Z(),b;if(!(b=nj(a))){if(a=0===a)a=String(this.I).match(pd)[1]||null,!a&&m.self&&m.self.location&&(a=m.self.location.protocol,a=a.substr(0,a.length-1)),a=!pj.test(a?a.toLowerCase():"");b=a}return b};function Ui(a){return a.g?a.g.readyState:0}
k.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch(a){return-1}};k.qa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}};function Aj(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.B){case "":case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}k.getAllResponseHeaders=function(){return this.g&&4==Ui(this)?this.g.getAllResponseHeaders():""};
Yd(function(a){oj.prototype.Ce=a(oj.prototype.Ce)});function Bj(a,b,c,d){this.C=a||null;this.g=1;this.j=[];this.o=[];this.v=new Zh(null,!0);this.F=b||null;this.S=null!=c?c:null;this.A=d||!1}k=Bj.prototype;k.Ic=null;k.Fc=null;k.Ia=null;k.pa=null;k.qe=null;k.jd=null;k.cf=null;k.pe=null;k.Of=!0;k.Qc=0;k.oa=null;k.zb=null;k.kb=null;k.Hb=null;k.wb=null;k.Oe=null;k.sd=-1;k.cg=-1;k.Ya=-1;k.Gc=0;k.Sb=0;k.Pf=0;k.Gd=!1;k.Gb=8;var Cj=new J;function Dj(a){I.call(this,"statevent",a)}v(Dj,I);function Ej(a,b){I.call(this,"timingevent",a);this.size=b}v(Ej,I);
function Fj(a){I.call(this,"serverreachability",a)}v(Fj,I);k=Bj.prototype;k.connect=function(a,b,c,d,e){Yi();this.qe=b;this.Fc=c||{};d&&n(e)&&(this.Fc.OSID=d,this.Fc.OAID=e);this.A?(cj(r(this.kf,this,a),100),Gj(this)):this.kf(a)};function Hj(a){Ij(a);if(3==a.g){var b=a.Qc++,c=a.jd.clone();qi(c,"SID",a.ca);qi(c,"RID",b);qi(c,"TYPE","terminate");Jj(a,c);b=new Ni(a,0,a.ca,b,void 0);b.nd=2;b.xc=ti(c.clone());(new Image).src=b.xc;b.zd=t();Ti(b)}Kj(a)}k.mb=h("ca");
k.kf=function(a){Lj(this)&&(this.wb=new gj(this),this.wb.re=this.Ic,this.wb.j=this.v,this.wb.connect(a))};function Gj(a){a.Li(1,0);a.jd=hj(a,null,a.qe);Mj(a)}function Ij(a){a.wb&&(a.wb.abort(),a.wb=null);a.pa&&(a.pa.cancel(),a.pa=null);a.kb&&(m.clearTimeout(a.kb),a.kb=null);Nj(a);a.Ia&&(a.Ia.cancel(),a.Ia=null);a.zb&&(m.clearTimeout(a.zb),a.zb=null)}k.ag=function(){return 0==this.g};function Mj(a){a.Ia||a.zb||(a.zb=cj(r(a.mg,a),0),a.Gc=0)}
k.mg=function(a){this.zb=null;if(Lj(this))if(1==this.g){if(!a){this.Qc=Math.floor(1E5*Math.random());a=this.Qc++;var b=new Ni(this,0,"",a,void 0);b.Kb=this.Ic;var c=Oj(this),d=this.jd.clone();qi(d,"RID",a);this.C&&qi(d,"CVER",this.C);Jj(this,d);Qi(b,d,c);this.Ia=b;this.g=2}}else 3==this.g&&(a?Pj(this,a):0==this.j.length||this.Ia||Pj(this))};
function Pj(a,b){var c;b?6<a.Gb?(a.j=a.o.concat(a.j),a.o.length=0,c=a.Qc-1,b=Oj(a)):(c=b.bb(),b=b.Nb):(c=a.Qc++,b=Oj(a));var d=a.jd.clone();qi(d,"SID",a.ca);qi(d,"RID",c);qi(d,"AID",a.sd);Jj(a,d);c=new Ni(a,0,a.ca,c,a.Gc+1);c.Kb=a.Ic;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.Ia=c;Qi(c,d,b)}function Jj(a,b){a.oa&&(a=a.oa.Lf(a))&&yb(a,function(a,d){qi(b,d,a)})}
function Oj(a){var b=Math.min(a.j.length,1E3),c=["count="+b],d;6<a.Gb&&0<b?(d=a.j[0].g,c.push("ofs="+d)):d=0;for(var e=0;e<b;e++){var f=a.j[e].g,g=a.j[e].map,f=6>=a.Gb?e:f-d;try{pg(g,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(l){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.o=a.o.concat(a.j.splice(0,b));return c.join("&")}function Qj(a){a.pa||a.kb||(a.B=1,a.kb=cj(r(a.lg,a),0),a.Sb=0)}
function Rj(a){if(a.pa||a.kb||3<=a.Sb)return!1;a.B++;a.kb=cj(r(a.lg,a),Sj(a,a.Sb));a.Sb++;return!0}k.lg=function(){this.kb=null;if(Lj(this)){this.pa=new Ni(this,0,this.ca,"rpc",this.B);this.pa.Kb=this.Ic;this.pa.te=this.Pf;var a=this.cf.clone();qi(a,"RID","rpc");qi(a,"SID",this.ca);qi(a,"CI",this.Oe?"0":"1");qi(a,"AID",this.sd);Jj(this,a);qi(a,"TYPE","xmlhttp");Si(this.pa,a,!0,this.pe)}};function Lj(a){if(a.oa){var b=a.oa.hg(a);if(0!=b)return lj(a,b),!1}return!0}
function mj(a,b,c){a.Oe=c;a.Ya=b.ob;a.A||Gj(a)}
k.kg=function(a,b){if(0!=this.g&&(this.pa==a||this.Ia==a))if(this.Ya=a.Jc,this.Ia==a&&3==this.g)if(7<this.Gb){var c;try{c=this.v.parse(b)}catch(d){c=null}if(wa(c)&&3==c.length)if(a=c,0==a[0])a:{if(!this.kb){if(this.pa)if(this.pa.zd+3E3<this.Ia.zd)Nj(this),this.pa.cancel(),this.pa=null;else break a;Rj(this);Yi()}}else this.cg=a[1],0<this.cg-this.sd&&37500>a[2]&&this.Oe&&0==this.Sb&&!this.Hb&&(this.Hb=cj(r(this.pk,this),6E3));else lj(this,11)}else"y2f%"!=b&&lj(this,11);else if(this.pa==a&&Nj(this),
!Na(b))for(c=this.v.parse(b),wa(c),a=c,b=0;b<a.length;b++)c=a[b],this.sd=c[0],c=c[1],2==this.g?"c"==c[0]?(this.ca=c[1],this.pe=ij(this,c[2]),c=c[3],null!=c?this.Gb=c:this.Gb=6,this.g=3,this.oa&&this.oa.hf(this),this.cf=hj(this,this.Wc()?this.pe:null,this.qe),Qj(this)):"stop"==c[0]&&lj(this,7):3==this.g&&("stop"==c[0]?lj(this,7):"noop"!=c[0]&&this.oa&&this.oa.gf(this,c),this.Sb=0)};function ij(a,b){return a.Of?a.oa?a.oa.Nf(b):b:null}
k.pk=function(){null!=this.Hb&&(this.Hb=null,this.pa.cancel(),this.pa=null,Rj(this),Yi())};function Nj(a){null!=a.Hb&&(m.clearTimeout(a.Hb),a.Hb=null)}
k.De=function(a){var b;if(this.pa==a)Nj(this),this.pa=null,b=2;else if(this.Ia==a)this.Ia=null,b=1;else return;this.Ya=a.Jc;if(0!=this.g)if(a.Fb)1==b?(t(),Cj.dispatchEvent(new Ej(Cj,a.Nb?a.Nb.length:0)),Mj(this),this.o.length=0):Qj(this);else{var c=a.hc,d;if(!(d=3==c||7==c||0==c&&0<this.Ya)){if(d=1==b)this.Ia||this.zb||1==this.g||2<=this.Gc?d=!1:(this.zb=cj(r(this.mg,this,a),Sj(this,this.Gc)),this.Gc++,d=!0);d=!(d||2==b&&Rj(this))}if(d)switch(c){case 1:lj(this,5);break;case 4:lj(this,10);break;case 3:lj(this,
6);break;case 7:lj(this,12);break;default:lj(this,2)}}};function Sj(a,b){var c=5E3+Math.floor(1E4*Math.random());a.oa||(c*=2);return c*b}k.Li=function(a){if(!nb(arguments,this.g))throw Error("Unexpected channel state: "+this.g);};function lj(a,b){if(2==b||9==b){var c=null;a.oa&&(c=a.oa.Mf(a));var d=r(a.kl,a);c||(c=new ci("//www.google.com/images/cleardot.gif"),ti(c));ej(c.toString(),1E4,d)}else Yi();Tj(a,b)}k.kl=function(a){a?Yi():(Yi(),Tj(this,8))};
function Tj(a,b){a.g=0;a.oa&&a.oa.ff(a,b);Kj(a);Ij(a)}function Kj(a){a.g=0;a.Ya=-1;if(a.oa)if(0==a.o.length&&0==a.j.length)a.oa.Rd(a);else{var b=rb(a.o),c=rb(a.j);a.o.length=0;a.j.length=0;a.oa.Rd(a,b,c)}}function hj(a,b,c){var d=ui(c);if(""!=d.o)b&&ei(d,b+"."+d.o),fi(d,d.C);else var e=window.location,d=vi(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.Fc&&yb(a.Fc,function(a,b){qi(d,b,a)});qi(d,"VER",a.Gb);Jj(a,d);return d}
k.Xd=function(a){if(a&&!this.Gd)throw Error("Can't create secondary domain capable XhrIo object.");a=new oj;a.jc=this.Gd;return a};function cj(a,b){if(!za(a))throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},b)}k.pb=function(){Cj.dispatchEvent(new Fj(Cj))};function Yi(){Cj.dispatchEvent(new Dj(Cj))}k.Wc=function(){return this.Gd||!1};function Uj(){}k=Uj.prototype;k.hg=ca(0);k.hf=aa();k.gf=aa();k.ff=aa();k.Rd=aa();k.Lf=function(){return{}};k.Mf=ca(null);
k.Nf=function(a){return a};function Vj(){}Ha(Vj.prototype,aa().prototype);Vj.prototype.fd=aa();Vj.prototype.fe=aa();function Wj(){F.call(this);this.j=[]}v(Wj,F);Wj.prototype.G=function(){this.j=[];Wj.J.G.call(this)};function Xj(a){Wj.call(this);this.g=a}v(Xj,Wj);function Yj(){var a=wf(K(),"gaia_session_id");this.g=new Xj(a)}ua(Yj);function Zj(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,p,u,w,z){if("%"==u)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return ak[u].apply(null,arguments)})}
var ak={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+ab(" ",Number(c)-a.length):ab(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?
f+d+ab(" ",a):f+ab(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,l){return ak.f(parseInt(a,10),b,c,d,0,f,g,l)}};ak.i=ak.d;ak.u=ak.d;function bk(a){this.o=a;this.j=Math.floor(a/50);this.g=new $h(50)}bk.prototype.get=function(a){return ck(this,a,function(a,c){return a+c.count})};function ck(a,b,c){b=b||t();dk(a,b);var d=0;b=a.j*(Math.floor(b/a.j)+1)-a.o;for(var e=a.g.ba()-1;0<=e;--e){var f=a.g.get(e);if(f.g<=b)break;d=c(d,f)}return d}function dk(a,b){var c=bi(a.g);c&&(c=c.g-a.j,b<c&&(Zj("Went backwards in time: now=%d, slotStart=%d.  Resetting state.",b,c),a=a.g,a.g.length=0,a.j=0))}function ek(a){this.g=a}ek.prototype.count=0;
ek.prototype.min=Number.MAX_VALUE;ek.prototype.max=Number.MIN_VALUE;function fk(){this.g=new bk(8E3)}function gk(a,b){b=null!=b?b:1;return 1>=(a.g.get()+b)/(a.g.o/1E3)}function hk(a,b){b=null!=b?b:1;if(!gk(a,b))throw new ik(db("Query would cause ","errorsender"," to exceed ",1," qps."));var c=a.g,d=t();dk(c,d);a=bi(c.g);if(!a||d>=a.g)a=new ek(c.j*(Math.floor(d/c.j)+1)),c=c.g,c.g[c.j]=a,c.j=(c.j+1)%c.o;a.count+=b;a.min=Math.min(b,a.min);a.max=Math.max(b,a.max)}function ik(a){Ka.call(this,a)}v(ik,Ka);function jk(a,b,c){F.call(this);this.g=a;this.v=b||0;this.j=c;this.o=r(this.Ui,this)}v(jk,F);k=jk.prototype;k.nb=0;k.G=function(){jk.J.G.call(this);this.stop();delete this.g;delete this.j};k.start=function(a){this.stop();this.nb=Ci(this.o,n(a)?a:this.v)};k.stop=function(){0!=this.nb&&Di(this.nb);this.nb=0};k.Ui=function(){this.nb=0;this.g&&this.g.call(this.j)};function kk(a,b,c,d){F.call(this);this.o=null!=d?d:.15;this.A=a;this.v=b;this.C=c;this.g=new jk(this.F,void 0,this);this.B=Number.NEGATIVE_INFINITY;this.j=0}v(kk,F);kk.prototype.start=function(){lk(this,!1,!1)};function lk(a,b,c){b&&(a.g.stop(),mk(a,a.v));0==a.g.nb&&(b=t(),b=Math.max(0,a.B+a.j-b),0==b&&(c?b=mk(a,a.v):a.j=0),a.g.start(b))}kk.prototype.stop=function(){this.g.stop()};function mk(a,b){0<b&&0!=a.o&&(b=Math.floor(b*(1-a.o+Math.random()*a.o*2)));return a.j=b}
kk.prototype.F=function(){this.B=t();mk(this,Math.min(Math.max(2*this.j,this.v),this.C));this.A()};kk.prototype.G=function(){this.g.X();delete this.g;delete this.A;kk.J.G.call(this)};function nk(a,b,c,d,e,f){F.call(this);this.j=new kk(r(this.ak,this),d||5E3,e||45E3,f);this.o=new V(this);this.v=a;this.A=b;(this.g=c||null)&&this.o.listen(this.g,"c",this.Jj).listen(this.g,"d",this.Hj);G(this,this.j);G(this,this.o)}v(nk,F);k=nk.prototype;k.Ec=!1;k.start=function(){this.Ec=!0;if(!this.g||this.g.g())this.A?lk(this.j,!1,!0):this.j.start()};k.stop=function(){this.j.stop();this.Ec=!1};k.Jj=function(){this.Ec&&lk(this.j,!0,!1)};k.Hj=function(){this.j.stop()};
k.ak=function(){!this.Ec||this.g&&!this.g.g()||(this.Ec=!1,this.v())};k.G=function(){delete this.v;delete this.o;delete this.j;delete this.g;nk.J.G.call(this)};function ok(a,b,c,d,e,f){this.la=c||null;this.ha=!!e;this.ga=this.C=ta;this.I=new V(this);this.B=this.ca=this.M=null;this.Oa=a||pk;this.O=null;this.o=new ff;this.Y=b;this.A=!1;this.S=null;this.v=this.U=this.N=!1;(this.j=d||null)&&this.I.listen(this.j,["c","d"],Ga(this.Be,void 0));this.F=new nk(r(this.Vk,this),!0,this.j||void 0,7E3,45E3);this.P=-1;this.g=null;this.$={};this.ka=!!f;this.W=-1;this.D=null;this.Na=uf(K(),"docs-ar");this.H=!1;this.fd("15",this.uj,this)}v(ok,Uj);k=ok.prototype;k.Ea=null;
k.Pe=null;k.fd=function(a,b,c){gf(this.o,a,b,c)};k.Nf=function(a){return this.la||a};k.fe=function(a,b,c){return hf(this.o,a,b,c)};function pk(a){if(1==a.length&&q(a[0])){var b=a[0];0==b.lastIndexOf("{this._action=",0)?(a={},function(){eval(b)}.call(a),a=[0,a._lsq,[b,a],a._tfe]):a=ic(b)}return{type:a[0],Cg:a[1],data:a[2],Ig:a[3]||null}}k.gf=function(a,b){a=this.Oa(b);a.Cg>this.P&&(this.P=a.Cg,this.O!=a.Ig&&(this.O=b=a.Ig,qk(this,"tfe_changed",b)),qk(this,String(a.type),a.data))};
function qk(a,b,c){a.wa&&a.wa(b,c);a.o.A(b,c)}k.Lf=function(){var a=Ib(this.$);a.lsq=String(this.P);null!=this.Pe&&(a.u=this.Pe);a.gsi=Yj.Fa().g.g;this.Na&&-1!=this.W&&(a.ar=String(this.W),this.D&&(a.arat=this.D.g),this.W=-1,this.D=null);return a};k.hg=function(){if(this.ea)try{hk(this.ea)}catch(a){if(!(a instanceof ik))throw a;return 8}return 0};k.hf=function(){this.A=!0;this.v=!1;this.Be(0);this.ga()};k.Rd=function(){this.A=!1;this.v||this.F.start()};
function rk(a,b,c,d){a.M=b||a.M;a.ca=c||a.ca;a.B=d||a.B||"";a.A||a.v||(a.U=!0,sk(a))}function sk(a){a.Ea&&(a.Ea.oa=null,Hj(a.Ea));var b;b=a.Y?a.Y():new Bj("1");b.Ic={"X-Same-Domain":"1"};b.Of=!0;b.Gd=a.ka;a.ha&&(b.Pf=200);b.oa=a;a.Ea=b;b={id:a.M};a.ca&&(b.sid=a.ca);a.Ea.connect(a.B+"/test",a.B+"/bind",b)}function tk(a){a.g=null;a.S=null;a.A&&(a.U=!1,a.v=!1,Hj(a.Ea))}k.Vk=function(){this.U&&!this.A&&(this.v=!0,sk(this),this.F.start())};k.ff=function(a,b){this.Be(b)};
k.Be=function(a){if(null!=a)if(this.S=a,this.N||6!=a)this.N=!1,2==a&&409==(this.Ea?this.Ea.Ya:-1)&&(this.O=null,qk(this,"tfe_changed",null));else{this.N=!0;rk(this);return}a=this.j&&!this.j.g()?8:null!=this.S?this.S:0;a!=this.g&&(this.g=a,this.C.call(m,a))};function uk(a){return null==a.g?0:a.g}k.Mf=function(){return ti(new ci("//www.google.com/images/cleardot.gif"))};
k.uj=function(a){var b=a.gaiaSessionIdentifier;if(b){if(a=Yj.Fa().g,a.g!=b)for(a.g=b,b=0;b<a.j.length;b++)a.j[b](new I("Changed",a))}else throw Error("GAIA session id should be a valid string. Received - "+b);};k.X=function(){this.H||(this.H=!0,this.Ea&&(this.Ea.oa=null,Hj(this.Ea),delete this.Ea),H(this.I),H(this.F),H(this.o),delete this.I,delete this.F,delete this.j,delete this.o)};k.isDisposed=h("H");var vk=/\/d\/([^\/]+)/;function wk(a){a=a.match(pd)[5]||null;return vk.test(a)};function xk(a,b){null!=a&&this.g.apply(this,arguments)}xk.prototype.j="";xk.prototype.set=function(a){this.j=""+a};xk.prototype.g=function(a,b,c){this.j+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.j+=arguments[d];return this};xk.prototype.toString=h("j");function yk(a){A(this,a,"er",-1,null)}v(yk,y);Hc("er",yk);function zk(a){A(this,a,"xsrf",-1,null)}v(zk,y);Hc("xsrf",zk);function Ak(a,b,c,d){I.call(this,a);this.errorCode=b;this.g=c;this.B=d}v(Ak,I);Ak.prototype.ub=null;Ak.prototype.C="";Ak.prototype.j=null;function Bk(a,b,c,d,e,f,g,l){this.g=a;this.v=b||"text";this.A=Na(cb(c))?null:c;this.o=n(d)?d:200;this.B={};if(f)for(var p in f)this.B[p.toLowerCase()]=f[p];this.j=n(e)?e:0;this.S=g||{};this.F=l||null;this.C=void 0}var Ck=new Zh(void 0,!0);Bk.prototype.Cb=function(){return 0==this.j};Bk.prototype.Ja=function(){n(this.C)||(this.C=Dk(this.g||"",this.F));return this.C};
function Ek(a){var b=a.o,c=a.j,d=a.v,e=a.A,f;"text"==a.v?(f=a.g||"",f=-1!=f.indexOf("&")?"document"in m?Ya(f):$a(f):f,50<f.length&&(f=f.substring(0,47)+"..."),Xa.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Qa,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Ra,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Sa,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Ta,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(Va,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(Wa,"&#0;"))),f+="   (truncated)"):f="responseObject";b={RespStatus:b,
RespErr:c,RespType:d,RespContentType:e,RespString:f};Lb(b,a.S);return b}function Fk(a){return"text"==a.v&&null!=a.g&&0==(a.g||"").lastIndexOf(")]}'\n",0)&&(a=a.Ja(),wa(a)&&(a=a[0],wa(a)&&"er"==a[0]))?new yk(a):null}function Gk(a){a=Fk(a);if(!a)return null;a=B(a,4);return wa(a)&&"xsrf"==a[0]?new zk(a):null}function Hk(a){if(200==a.o&&null!=a.A&&!Fk(a)&&"text"==a.v){if(Na(cb(a.g)))return!0;if(0==(a.g||"").lastIndexOf(")]}'\n",0))return null==a.Ja()}return!1}
function Dk(a,b){b=b||Ck;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Ik(a,b,c){this.ha=b;this.j=a;this.P=c;this.W="";this.g=void 0;this.M=null;this.N="text";this.ga=void 0;this.F=3;this.$=!1;this.A=ta;this.B=md;this.C=!1;this.S=ta;this.D=-1;this.U=this.v=!1;this.I=new Zh(null,!0)}Ik.prototype.o=function(a){var b=[this.j];sb(b,arguments);this.j=yd.apply(null,b);return this};
function Jk(a){if(!a.P)throw Error("Cannot add session data to request when session data not defined.");var b=a.j,c={};c.sid=a.P.g;c.c="0";c.w="0";var d=K();"docs-smv"in d.g&&(c.smv=vf(d,"docs-smv"));a.j=zd(b,c)}function Kk(a,b){a.g=b;return a}function Lk(a,b){b=zb(b,function(a){return q(a)?a:jc(a)});return Kk(a,xd(b))}function Mk(a,b,c){a.A=r(b,c);return a}function Nk(a){a.C=!0;return a}function Ok(a){a.M="GET";return a}function Pk(a,b){a.F=b;return a}function Qk(a,b,c){a.S=r(b,c);return a}
Ik.prototype.setTimeout=function(a){this.D=a;return this};function Rk(a){a.v&&(q(a.g)||wa(a.g));var b=a.H();a.Y(b);return b}function Sk(a){if(a.U){if(a=a.W,wk(a)){wk(a);a=a.match(pd);var b=a[5],b=b.replace(vk,"");a=od(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.W;return a};function Tk(a,b){this.g=a;this.j=b}Tk.prototype.stringify=function(a){return m.JSON.stringify(a,this.g)};Tk.prototype.parse=function(a){return m.JSON.parse(a,this.j)};function Uk(a,b){this.name=n(a.name)?a.name:Vk(a.code);Ka.call(this,Ma("%s %s",this.name,b))}v(Uk,Ka);function Vk(a){var b=Fb(Wk,function(b){return a==b});if(!n(b))throw Error("Invalid code: "+a);return b}var Wk={AbortError:3,EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};function Xk(a,b){I.call(this,a.type,b)}v(Xk,I);function Yk(a){J.call(this);this.g=a;this.g.onwritestart=r(this.j,this);this.g.onprogress=r(this.j,this);this.g.onwrite=r(this.j,this);this.g.onabort=r(this.j,this);this.g.onerror=r(this.j,this);this.g.onwriteend=r(this.j,this)}v(Yk,J);Yk.prototype.abort=function(){try{this.g.abort()}catch(a){throw new Uk(a,"aborting save");}};Yk.prototype.getError=function(){return this.g.error&&new Uk(this.g.error,"saving file")};Yk.prototype.j=function(a){this.dispatchEvent(new Xk(a,this))};
Yk.prototype.G=function(){delete this.g;Yk.J.G.call(this)};function Zk(a){Yk.call(this,a);this.o=a}v(Zk,Yk);Zk.prototype.write=function(a){try{this.o.write(a)}catch(b){throw new Uk(b,"writing file");}};function $k(a,b){this.o=a;this.g=b}function al(a){var b=new T;a.g.getMetadata(function(a){b.K(a)},r(function(a){b.R(new Uk(a,"retrieving metadata for "+this.g.fullPath))},a));return b}function bl(a){var b=new T;a.g.remove(r(b.K,b,!0),r(function(a){b.R(new Uk(a,"removing "+this.g.fullPath))},a));return b}function cl(a,b){$k.call(this,a,b);this.j=b}v(cl,$k);
function dl(a,b,c){var d=new T;a.j.getFile(b,el(c),r(function(a){d.K(new fl(this.o,a))},a),r(function(a){d.R(new Uk(a,"loading file "+b+" from "+this.g.fullPath))},a));return d}function gl(a,b,c){var d=new T;a.j.getDirectory(b,el(c),r(function(a){d.K(new cl(this.o,a))},a),r(function(a){d.R(new Uk(a,"loading directory "+b+" from "+this.g.fullPath))},a));return d}
function hl(a){var b=new T,c=a.j.createReader(),d=[],e=r(function(a){b.R(new Uk(a,"listing directory "+this.g.fullPath))},a),f=r(function(a){if(a.length){for(var g=0,p;p=a[g];g++)d.push(p.isFile?new fl(this.o,p):new cl(this.o,p));c.readEntries(f,e)}else b.K(d)},a);c.readEntries(f,e);return b}function il(a){var b=new T;a.j.removeRecursively(r(b.K,b,!0),r(function(a){b.R(new Uk(a,"removing "+this.g.fullPath+" recursively"))},a));return b}
function el(a){return 2==a?{create:!0}:3==a?{create:!0,exclusive:!0}:{}}function fl(a,b){$k.call(this,a,b);this.j=b}v(fl,$k);function jl(a){var b=new T;a.j.createWriter(function(a){b.K(new Zk(a))},r(function(a){b.R(new Uk(a,"creating writer for "+this.g.fullPath))},a));return b};function kl(a){this.g=a};function ll(a){var b=m.requestFileSystem||m.webkitRequestFileSystem;if(!za(b))return oh(Error("File API unsupported"));var c=new T;b(a,10485760,function(a){c.K(new kl(a))},function(a){c.R(new Uk(a,"requesting filesystem"))});return c}function ml(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?Yb("537.1")?a.slice(b,c):(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):null};function nl(a){var b=ol;return function(){var c=this||m,c=c.closure_memoize_cache_||(c.closure_memoize_cache_={}),d=b(Ba(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}function ol(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};function pl(a){var b={};a=a.replace(/\r/g,"").split("\n");for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf(":");0>e||(b[d.substring(0,e)]=d.substring(e+2,d.length))}return b}function ql(a){var b="";yb(a,function(a,d){b+=d+": "+a+"\r\n"});return b}
var rl=nl(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return 100!=b.size?!1:!0}),sl=nl(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return null===ml(b,0,1)?!1:!0});function tl(){J.call(this)}v(tl,J);function ul(a){I.call(this,a)}v(ul,I);k=tl.prototype;k.wg=ca(null);k.xg=ca(null);k.qa=ca(null);k.start=aa();k.cancel=aa();function vl(a,b){this.j=a;this.g=b;this.o=!0}vl.prototype.Cd=ca(null);vl.prototype.Bb=ca(!1);vl.prototype.rd=ca(!1);vl.prototype.qd=ca(!1);function wl(a,b){vl.call(this,b,a.size);this.v=a}v(wl,vl);k=wl.prototype;k.Cd=h("v");k.Bb=function(){return sl()};k.rd=ca(!0);k.qd=ca(!1);k.pf=ca(null);function xl(){J.call(this)}v(xl,tl);xl.prototype.Eg=aa();function yl(a,b,c,d,e,f,g,l){J.call(this);this.O=a;this.D=b;this.N=c;this.H=d;this.o=e||null;this.B=f||null;this.M=g?Ib(g):{};this.U=!!l;this.C="";a=new Od;this.j="scotty-"+eb()+"-"+Rd(a);this.g=null;this.A=0;this.I=new V(this);G(this,this.I)}v(yl,xl);k=yl.prototype;k.Eg=ba("C");k.wg=function(){return this.g&&this.g.status||null};k.xg=h("P");k.qa=function(){return this.g&&this.g.responseText||null};
k.start=function(){this.g=new XMLHttpRequest;var a=this;this.g.upload&&(this.g.upload.onprogress=function(b){a.A=b.loaded;a.dispatchEvent(new ul("k"))});this.g.onload=function(b){a.A=a.N;a.P=pl(b.target.getAllResponseHeaders());a.dispatchEvent(new ul("l"))};this.g.onerror=function(){a.dispatchEvent(new ul("m"))};this.g.open("POST",this.O);yb(this.M,function(b,c){a.g.setRequestHeader(c,b)});this.g.setRequestHeader("Content-Type","multipart/form-data; boundary="+this.j);this.g.withCredentials=this.U;
this.g.send(zl(this))};k.cancel=function(){this.g&&this.g.abort()};function zl(a){var b=["--",a.j,"\r\n",'Content-Disposition: form-data; name="metadata"\r\n\r\n'+a.C+"\r\n","--",a.j,"\r\n",'Content-Disposition: form-data; name="Filedata"'+(a.o?'; filename="'+a.o+'"':"")+"\r\n"+(a.B?"Content-Type: "+a.B+"\r\n":"")+"Content-Transfer-Encoding: "+a.H+"\r\n","\r\n",a.D,"\r\n","--",a.j,"--\r\n"];return q(a.D)?b.join(""):new Blob(b)};function Al(a,b,c,d){var e=null;rl()&&(e=d?new Blob([a],{type:d}):new Blob([a]));var f;if(e)f=e.size;else{f=[];for(var g=0,l=0;l<a.length;l++){var p=a.charCodeAt(l);128>p?f[g++]=p:(2048>p?f[g++]=p>>6|192:(55296==(p&64512)&&l+1<a.length&&56320==(a.charCodeAt(l+1)&64512)?(p=65536+((p&1023)<<10)+(a.charCodeAt(++l)&1023),f[g++]=p>>18|240,f[g++]=p>>12&63|128):f[g++]=p>>12|224,f[g++]=p>>6&63|128),f[g++]=p&63|128)}f=f.length}vl.call(this,c,f);this.F=f;this.A=e;this.C=a;this.v=b;this.B=d||void 0}v(Al,vl);
k=Al.prototype;k.Cd=h("A");k.Bb=function(){return"base64"!=this.v&&sl()};k.rd=function(){return"base64"!=this.v&&rl()};k.qd=ca(!0);k.pf=function(a,b,c){return new yl(a,this.A||this.C,this.F,"base64"==this.v?"base64":"binary",this.j,this.B,b,c)};function Bl(a,b){this.start=a<b?a:b;this.g=a<b?b:a}Bl.prototype.clone=function(){return new Bl(this.start,this.g)};function Cl(a){J.call(this);this.j=a}v(Cl,J);function Dl(a){I.call(this,a)}v(Dl,I);function El(a,b){I.call(this,a);this.ze=!!b}v(El,Dl);k=Cl.prototype;k.He=ca(null);k.qa=ca(null);k.Ie=ca(null);k.start=aa();k.cancel=aa();function Fl(a){Cl.call(this,a);this.g=null;this.o=new V(this);G(this,this.o)}v(Fl,Cl);k=Fl.prototype;k.He=function(){return this.g&&this.g.wg()||null};k.qa=function(){return this.g&&this.g.qa()||null};k.Ie=function(){return this.g&&this.g.xg()||null};k.start=function(a,b,c,d,e){a=new ci(a);qi(a,"upload_protocol","multipart");a=a.toString();this.g=this.j.pf(a,c,e);this.g.Eg(d);this.o.listen(this.g,"k",this.$k);this.o.listen(this.g,"l",this.Ek);this.o.listen(this.g,["m","n"],this.Dk);this.g.start()};
k.cancel=function(){this.g&&this.g.cancel();this.dispatchEvent(new Dl("r"))};k.$k=function(){this.dispatchEvent(new Dl("o"))};k.Ek=function(){this.dispatchEvent(new Dl("p"))};k.Dk=function(){this.dispatchEvent(new Dl("q"))};function Gl(){};function Hl(a,b){J.call(this);this.B=a;this.xe=this.j=null;this.o=0;this.C=Infinity;this.D=b||5E6;this.g=null}v(Hl,J);Hl.prototype.hash=function(a){this.abort();this.B.reset();this.j=a;this.xe=null;this.o=0;this.dispatchEvent("started");Il(this)};function Jl(a,b){a.C=b;a.j&&!a.g&&Il(a)}Hl.prototype.abort=function(){this.g&&(this.g.abort(),this.g=null);this.j&&(this.j=null,this.dispatchEvent("abort"))};
function Il(a){if(a.o<a.j.size)if(a.C<=a.o)a.dispatchEvent("throttled");else{a.g=new FileReader;a.g.onload=r(a.H,a);a.g.onerror=r(a.A,a);var b=Math.min(Math.min(a.C,a.j.size)-a.o,a.D),c=ml(a.j,a.o,a.o+b);c&&c.size==b?a.g.readAsArrayBuffer?a.g.readAsArrayBuffer(c):a.g.readAsBinaryString?a.g.readAsBinaryString(c):a.A():a.A()}else a.xe=a.B.digest(),a.j=null,a.dispatchEvent("complete")}
Hl.prototype.H=function(){var a=null;this.g.result instanceof Array||q(this.g.result)?a=this.g.result:m.ArrayBuffer&&m.Uint8Array&&this.g.result instanceof ArrayBuffer&&(a=new Uint8Array(this.g.result));a?(this.B.update(a),this.o+=a.length,this.g=null,this.dispatchEvent("progress"),Il(this)):this.A()};Hl.prototype.A=function(){this.j=this.g=null;this.dispatchEvent("error")};function Kl(){this.j=-1};function Ll(){this.j=64;this.g=Array(4);this.A=Array(this.j);this.v=this.o=0;this.reset()}v(Ll,Kl);Ll.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.v=this.o=0};
function Ml(a,b,c){c||(c=0);var d=Array(16);if(q(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0];c=a.g[1];var e=a.g[2],f=a.g[3],g;g=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+
d[3]+3250441966&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&
(b^c))+d[10]+4294925233&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(g<<5&4294967295|g>>>
27);g=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=e+(g<<20&4294967295|
g>>>12);g=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[7]+1735328473&4294967295;e=f+(g<<14&4294967295|
g>>>18);g=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^
b^c)+d[7]+4139469664&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[12]+3873151461&4294967295;
f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[12]+1700485571&4294967295;b=c+
(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[13]+1309151649&4294967295;
c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.g[0]=a.g[0]+b&4294967295;a.g[1]=a.g[1]+(e+(g<<21&4294967295|g>>>11))&4294967295;a.g[2]=a.g[2]+e&4294967295;a.g[3]=a.g[3]+f&4294967295}
Ll.prototype.update=function(a,b){n(b)||(b=a.length);for(var c=b-this.j,d=this.A,e=this.o,f=0;f<b;){if(0==e)for(;f<=c;)Ml(this,a,f),f+=this.j;if(q(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.j){Ml(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.j){Ml(this,d);e=0;break}}this.o=e;this.v+=b};
Ll.prototype.digest=function(){var a=Array((56>this.o?this.j:2*this.j)-this.o);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.v,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.g[b]>>>d&255;return a};function Nl(){oj.call(this)}v(Nl,oj);Nl.prototype.Wd=function(){var a=oj.prototype.Wd.call(this);a.upload&&(a.upload.onprogress=r(this.$,this));return a};Nl.prototype.$=function(a){this.dispatchEvent(a)};function Ol(a,b){a.Bb()||a.rd();Cl.call(this,a);this.hb=this.H=this.ib=this.jb=null;this.Oa=!1;this.$=this.U=null;this.M=a.g;this.D=0;this.Y=null;this.ha=this.ka=0;this.C="Ready";this.N=this.A=this.I=this.P=this.wa=this.la=null;this.o=new V(this);G(this,this.o);this.ea=new V(this);G(this,this.ea);this.B=0;this.g=this.ga=this.O=null;this.Na=b||Number.MAX_VALUE}v(Ol,Cl);k=Ol.prototype;k.He=h("la");k.qa=h("wa");k.Ie=h("P");
k.start=function(a,b,c,d,e){this.jb=a;this.ib=b;this.H=Ib(c);this.hb=d;this.Oa=!!e;this.C="Creating session";this.H["X-Goog-Upload-Protocol"]="resumable";this.H["X-Goog-Upload-Command"]="start";null!=this.j.g&&(this.H["X-Goog-Upload-Content-Length"]=this.j.g);null!=this.j.j&&/^[\040-\176]*$/.test(this.j.j)&&(this.H["X-Goog-Upload-File-Name"]=this.j.j);this.j.o&&Pl(this);this.Ag()};
k.cancel=function(){Xh(this.o);Xh(this.ea);"Creating session"==this.C&&this.I&&this.I.abort();"Transferring"==this.C&&(this.A&&this.A.abort(),this.N&&this.N.abort(),this.O&&Di(this.O));this.g&&this.g.abort();(new oj).send(this.$,"PUT","",{"X-Goog-Upload-Command":"cancel"});this.C="Cancelled";this.B=this.D=0;this.dispatchEvent(new Dl("r"))};
function Pl(a){var b=a.j.Cd();b&&(a.g=new Hl(new Ll),a.ea.listen(a.g,"complete",function(a){this.ga=ec(a.target.xe);this.g=null}),Jl(a.g,1048576),a.g.hash(b))}k.Ag=function(){this.I=new Nl;Xh(this.o);this.o.listen(this.I,"complete",this.Ak);this.I.jc=this.Oa;this.I.send(this.jb,this.ib,this.hb,this.H)};
k.Ak=function(a){var b=a.target.Z(),c=a.target.qa();a=pl(a.target.getAllResponseHeaders());Ql(b,a,c);var d=Rl(a,"X-Goog-Upload-Status"),e=Rl(a,"X-Goog-Upload-URL");if("final"==d)this.la=b,this.P=a,this.wa=c,this.C="Complete",this.dispatchEvent(new Dl("p"));else if(200==b&&"active"==d&&e){this.U=e;this.$=Rl(a,"X-Goog-Upload-Control-URL")||null;e=Rl(a,"X-Goog-Upload-Chunk-Granularity")||null;d=1;if(e&&(d=parseInt(e,10),isNaN(d)||0>=d)){Sl(this,"Create session failed","Invalid chunk granularity: "+e+
". "+Ql(b,a,c));return}b=this.j.g;this.M=Math.floor(b/d)*d;this.Y=Math.floor(1073741824/d)*d;this.j.Bb()||(this.Y=b,this.M!=b&&(this.M=0));this.C="Transferring";this.B=0;this.Bg(0)}else 400<=b&&500>b?Sl(this,"Create session failed","Client failure. "+Ql(b,a,c)):(Tl(this,this.Ag),Ul(this))};
k.Bg=function(a){var b=this.j,c=b.g;b.Bb()||a==c||(a=0);var d=a>=this.M,e=d?c:Math.min(this.M,this.Y+a);this.ka=a;this.ha=e;var f={"X-Goog-Upload-Command":"upload"+(d?", finalize":""),"X-Goog-Upload-Offset":a};d&&(this.ga?f["X-Goog-Upload-Entity-MD5"]=this.ga:this.g&&(this.g.abort(),this.g=null));this.A=new Nl;this.A.jc=this.Oa;Xh(this.o);this.o.listen(this.A,"progress",this.bl);this.o.listen(this.A,"complete",this.Ck);a==c?this.A.send(this.U,"PUT","",f):(c=this.j.Cd(),b.Bb()?(a=ml(c,a,e),this.A.send(this.U,
"PUT",a,f)):this.A.send(this.U,"PUT",c,f))};k.bl=function(a){this.D=this.ka+a.loaded;this.dispatchEvent(new Dl("o"));this.g&&Jl(this.g,this.D+1048576)};k.Ck=function(a){var b=a.target.Z();if(void 0===b||-1==b)Tl(this,this.yg),Ul(this);else{var c=pl(a.target.getAllResponseHeaders());a=a.target.qa();this.D=this.ha;Ql(b,c,a);Vl(this,b,c,a,!0)}};k.yg=function(){this.N=new Nl;Xh(this.o);this.o.listen(this.N,"complete",this.xk);this.N.send(this.$,"PUT","",{"X-Goog-Upload-Command":"query"})};
k.xk=function(a){var b=a.target;a=b.Z();var c=pl(b.getAllResponseHeaders()),b=b.qa();Ql(a,c,b);Vl(this,a,c,b,!1)};function Vl(a,b,c,d,e){var f=Rl(c,"X-Goog-Upload-Status");if("final"==f)a.C="Complete",a.B=0,a.la=b,a.P=c,a.wa=d,a.dispatchEvent(new Dl("p"));else{var g=parseInt(Rl(c,"X-Goog-Upload-Size-Received"),10);e&&isNaN(g)&&(g=a.ha);200!=b||"active"!=f||isNaN(g)?(400<=b&&500>b&&Sl(a,"Transfer failed","Client failure. "+Ql(b,c,d)),Tl(a,a.yg),Ul(a)):(a.D=g,g>a.ka&&(a.B=0),Tl(a,r(a.Bg,a,g)))}}
function Ul(a){0==a.B&&t();a.B++}function Sl(a,b){a.C="Error";a.D=0;a.dispatchEvent(new El("q","Transient error"==b))}function Tl(a,b){var c=[0,5E3,1E4,15E3,3E4,6E4],d=0,d=a.B<c.length?c[a.B]:c[c.length-1];if(d>a.Na)Sl(a,"Transient error");else{n(a.Na)&&(d=Math.min(Math.max(d,0),a.Na));t();var e=r(b,a);0<d?a.O=Ci(function(){this.O=null;e()},d,a):e()}}function Ql(a,b,c){return"Response code: "+a+"\nHeaders:\n"+ql(b)+"\nBody:\n"+c}function Rl(a,b){return a[b]||a[b.toLowerCase()]};function Wl(a){this.g=a}v(Wl,Gl);function Xl(a,b){if(b.Bb()&&b.qd())return 2097152<b.g?new Ol(b,a.g):new Fl(b);if(b.Bb())return new Ol(b,a.g);if(b.qd())return new Fl(b);if(b.rd())return new Ol(b,a.g);throw Error("Item supports no transfer types.");};function Yl(a,b,c){J.call(this);this.I=Zl++;this.o="select";this.g=c;G(this,this.g);this.C="";this.B="POST";this.H={};this.A="";this.D=!1;this.j=new V(this);G(this,this.j)}v(Yl,J);function $l(a,b){I.call(this,a);this.item=b}v($l,I);function am(a,b,c){$l.call(this,a,b);this.ze=!!c}v(am,$l);Yl.prototype.qa=function(){return this.g.qa()};
Yl.prototype.start=function(){var a=this;this.j.listen(this.g,"o",function(){a.dispatchEvent(new $l("t",a))});this.j.listen(this.g,"p",function(){a.o="complete";a.dispatchEvent(new $l("u",a))});this.j.listen(this.g,"q",function(b){a.o="error";a.dispatchEvent(new am("v",a,b.ze))});this.g.start(this.C,this.B,this.H,this.A,this.D);this.o="start";this.dispatchEvent(new $l("s",this))};Yl.prototype.cancel=function(){this.g.cancel();this.o="cancel";Xh(this.j);this.dispatchEvent(new $l("w",this))};
var Zl=0;function bm(){J.call(this)}v(bm,J);function cm(a,b){I.call(this,"x");this.directories=b}v(cm,I);function dm(a){J.call(this);this.g=a}v(dm,bm);function em(a){this.g=new Wl(a)};function fm(a,b){I.call(this,"y",a);this.g=b}v(fm,I);function gm(a,b,c,d,e,f,g,l,p,u,w,z,da,Z){J.call(this);this.j=a;this.ka=b;this.D=c;this.B=d;this.H=z||(c?"POST":"GET");this.N=p;this.P=e;this.M=f;this.Y=g;this.ga=l;this.ha=w;this.$=da;this.A=this.U=this.I=0;this.ea=Z||3E4}v(gm,J);var hm=5E3*(.75+.5*Math.random());gm.prototype.send=function(a){this.I++;this.U=t();this.Cf(a)};function im(a,b){a.reset();a.dispatchEvent(new fm(a,b))}function jm(a){return{ReqUri:a.j,ReqContent:a.D,ReqMethod:a.H}}gm.prototype.reset=ta;
gm.prototype.G=function(){this.dispatchEvent("z");this.reset();delete this.M;delete this.P;gm.J.G.call(this)};function km(a,b,c,d,e,f,g,l,p,u,w,z,da,Z,na){if(0>=u)throw Error("Please specify a progress timeout for the Scotty request. Received -"+u);gm.call(this,a,"",b,c,d,e,f,g,l,0,u,"POST",Z,na);this.O=w;this.wa=z;this.la=da;this.g=null;this.o=new V(this);this.C=new jk(r(this.wk,this),u)}v(km,gm);k=km.prototype;
k.Cf=function(a){var b=this.wa,c=new Al(this.D,"raw","",void 0);c.o=!0;c=Xl(b.g.g,c);c=new Yl(0,0,c);b.dispatchEvent(new cm(0,null));this.g=c;b=Yj.Fa().g.g;b=Na(cb(b))?this.O:zd(this.O,{authuser:b});this.g.C=b;this.g.B=this.H;this.g.H=Ib(Ib(a.j));b={};c=this.j.match(pd)[5]||null;b.httpaction=c?decodeURI(c):c;if(c=this.j.match(pd)[6]||null)for(var c=new ii(c),d=c.ta(),e=0;e<d.length;e++){var f=d[e];b[f]=c.get(f)}Lb(b,a.g.g);a=this.la.stringify(b);this.g.A=a;this.g.D=!0;Vh(this.o,this.g,"u",this.Gk);
Vh(this.o,this.g,"v",this.Hk);this.o.listen(this.g,"t",this.Ik);this.g.start();this.C.start()};k.Gk=function(){if(this.g){var a=this.g.g.He(),b=this.g.g.Ie()||{},c={},d;for(d in b)c[d.toLowerCase()]=b[d];a=new Bk(this.g.qa(),"text",c["content-type"]||null,a,nj(a)?0:6,c,jm(this));im(this,a)}};k.Hk=function(){if(this.g){var a=new Bk("","text",null,0,5,{},jm(this));im(this,a)}};k.Ik=function(){lm(this)&&this.C.start()};
k.wk=function(){if(lm(this)){var a=new Bk("","text",null,0,8,{},jm(this));im(this,a)}};function lm(a){return null!=a.g&&"start"==a.g.o}k.reset=function(){this.C.stop();this.g&&(lm(this)&&this.g.cancel(),H(this.g),this.g=null);Xh(this.o)};k.G=function(){Ud(this.C,this.o);km.J.G.call(this)};function mm(a,b,c,d,e){Ik.call(this,b,c,d);this.ea=a;a=K();this.ka=e||wf(a,"docs-net-udur");this.la=new dm(new em);this.O=new Tk;this.wa=vf(a,"docs-net-udpt")}v(mm,Ik);
mm.prototype.H=function(){if(!this.v)throw Error("Scotty request cannot be built when upload is not allowed for a request.");var a=this.D;0>=a&&(a=this.wa);var b;b=this.O;if(!q(this.g)&&!wa(this.g))throw Error("GetUploadContent() called when upload content is not available");if(q(this.g))b=this.g;else{for(var c=this.g,d=new xk("{"),e=0;e<c.length;e+=2)0<e&&d.g(","),d.g(b.stringify(c[e])).g(":").g(b.stringify(c[e+1]));d.g("}");b=d.toString()}var f;q(b)&&(f=b);return new km(this.j,f,this.F,this.S,this.A,
this.B,this.C,this.N,0,a,this.ka,this.la,this.O,this.I)};mm.prototype.Y=function(a){if(!this.ea)throw Error("Trying to send a request without a request sender for - "+(Sk(this)+this.j));this.ea.send(a)};function nm(a,b,c,d,e,f,g,l,p,u,w,z,da,Z){gm.call(this,a,b,c,d,e,f,g,l,p,0,w,z,da,Z);this.g=null;this.o=new V(this)}v(nm,gm);nm.prototype.Cf=function(a){this.g=new oj;Vh(this.o,this.g,"complete",r(this.C,this));tj(this.g,this.ha);"text"!=this.N&&(this.g.B=om(this.N));var b=zd(this.ka+this.j,a.g.g);this.g.send(b,this.H,this.D,Ib(a.j))};
nm.prototype.C=function(){var a,b=this.g;a="";var c=null;try{if(""==b.B?a=b.qa():a=Aj(b),b.g&&4==Ui(b))var d=b.g.getResponseHeader("Content-Type"),c=null===d?void 0:d;else c=void 0}catch(u){}for(var d=pm(b.B),e=b.Z(),f=b.o,g={},b=b.getAllResponseHeaders().split("\r\n"),l=0;l<b.length;l++)if(!Na(cb(b[l]))){var p=b[l].split(": ");2==p.length&&(g[p[0]]=p[1])}a=new Bk(a,d,c,e,f,g,jm(this),this.$);im(this,a)};nm.prototype.reset=function(){this.g&&(this.g.X(),this.g=null)};
nm.prototype.G=function(){H(this.o);nm.J.G.call(this)};function pm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function om(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function qm(a,b,c,d,e){Ik.call(this,b,c,d);this.O=a;this.ea=!!e}v(qm,Ik);qm.prototype.H=function(){var a=this.D;0>a&&(a=this.ea?4E4:2E4);var b=this.j,c=Sk(this),d;if(wa(this.g))if(d=this.g,uf(K(),"docs-net-cbfd")&&m.FormData){for(var e=new m.FormData,f=0;f<d.length;f+=2)e.append(d[f],d[f+1]);d=e}else d=vd(d);else d=this.g;return new nm(b,c,d,this.F,this.S,this.A,this.B,this.C,this.N,0,a,this.M,this.I,this.ga)};
qm.prototype.Y=function(a){if(!this.O)throw Error("Trying to send a request without a request sender for - "+(Sk(this)+this.j));this.O.send(a)};function rm(a,b,c,d,e){Ik.call(this,b,c,d);this.O=a;a=K();this.la=uf(a,"docs-net-usud");this.ka=vf(a,"docs-net-udmi");this.ea=e}v(rm,Ik);
rm.prototype.H=function(){var a=null,b;if(b=this.la&&this.v){if(!q(this.g)&&!wa(this.g))throw Error("GetUploadContentLength() called when upload content is not available");if(wa(this.g)){b=0;for(var c=this.g,d=0;d<c.length;d++)q(c[d])&&(b+=c[d].length)}else b=this.g.length;b=b>this.ka}b&&(a=new mm(this.O,this.j,this.ha,this.P,this.ea));null==a&&(a=new qm(this.O,this.j,this.ha,this.P));b=a;b.W=this.W;b.U=this.U;b.g=this.g;b.M=this.M;b.N=this.N;b.F=this.F;b.$=this.$;b.A=this.A;b.B=this.B;b.C=this.C;
b.S=this.S;b.D=this.D;b.v=this.v;b.I=this.I;return a.H()};rm.prototype.Y=function(a){if(!this.O)throw Error("Trying to send a request without a request sender for - "+(Sk(this)+this.j));this.O.send(a)};function sm(a){this.g=a};function tm(a){this.g=a?Ib(a):{};this.j=null}function um(){var a=K().get("info_params"),b;q(a)?b=hc(a):b=xf(K(),"info_params");return new tm(b)};function vm(){try{var a=m.localStorage;if(a&&(cc||dc)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function wm(a,b){F.call(this);this.v=b;this.g=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.g.push(this.j())}v(wm,F);wm.prototype.Ja=function(){return this.g.length?this.g.pop():this.j()};function xm(a,b){a.g.length<a.v?a.g.push(b):a.o(b)}wm.prototype.j=function(){return{}};wm.prototype.o=function(a){if(Aa(a))if(za(a.X))a.X();else for(var b in a)delete a[b]};
wm.prototype.G=function(){wm.J.G.call(this);for(var a=this.g;a.length;)this.o(a.pop());delete this.g};function ym(){this.g=[];this.v=new gg;this.D=this.W=this.H=this.C=0;this.j=new gg;this.A=this.S=0;this.I=1;this.B=new wm(0,4E3);this.B.j=function(){return new zm};this.F=new wm(0,50);this.F.j=function(){return new Am};var a=this;this.o=new wm(0,2E3);this.o.j=function(){return String(a.I++)};this.o.o=aa()}function Am(){this.Qe=this.time=this.count=0}
Am.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Qe&&a.push(" [VarAlloc = ",this.Qe,"]");return a.join("")};function zm(){}function Bm(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(Cm(a.j-c));e.push(" ",Dm(a.j-b));0==a.g?e.push(" Start        "):1==a.g?(e.push(" Done "),e.push(Cm(a.A-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.v&&e.push("[VarAlloc ",a.v,"] ");return e.join("")}
zm.prototype.toString=function(){return null==this.type?this.o:"["+this.type+"] "+this.o};ym.prototype.reset=function(){for(var a=0;a<this.g.length;a++){var b=this.g[a];b.id&&xm(this.o,b.id);xm(this.B,b)}this.g.length=0;kg(this.v);this.C=t();this.A=this.S=this.D=this.W=this.H=0;a=this.j.ta();for(b=0;b<a.length;b++){var c=this.j.get(a[b]);c.count=0;c.time=0;c.Qe=0;xm(this.F,c)}kg(this.j)};
ym.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",Bm(e,this.C,b,c.join("")));b=e.j;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.v.ba()){var f=t();a.push(" Unstopped timers:\n");fg(this.v,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Dm(b.startTime),")\n")})}b=this.j.ta();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.S,"\n","Total comments created ",
this.A,"\n","Overhead start: ",this.H," ms\n","Overhead end: ",this.W," ms\n","Overhead comment: ",this.D," ms\n");return a.join("")};function Cm(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Dm(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new ym;function Em(a){F.call(this);this.j=a}v(Em,F);Em.prototype.g=function(a){return Fm(this,a)};function Gm(a,b){return(b?"__wrapper_":"__protected_")+Ba(a)+"__"}function Fm(a,b){var c=Gm(a,!0);b[c]||((b[c]=Hm(a,b))[Gm(a,!1)]=b);return b[c]}
function Hm(a,b){function c(){if(a.isDisposed())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.j(d),new Im(d);}finally{}}c[Gm(a,!1)]=b;return c}
function Jm(a,b){var c=sa("window"),d=c[b];c[b]=function(b,c){q(b)&&(b=Ga(Ia,b));arguments[0]=b=Fm(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length)var f=Array.prototype.slice.call(arguments,2),e=function(){b.apply(this,f)};return d(e,c)};c[b][Gm(a,!1)]=d}Em.prototype.G=function(){var a=sa("window"),b;b=a.setTimeout;b=b[Gm(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Gm(this,!1)]||b;a.setInterval=b;Em.J.G.call(this)};
function Im(a){Ka.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=(this.ub=a)&&a.stack)&&q(a)&&(this.stack=a)}v(Im,Ka);function Km(a,b,c){J.call(this);this.o=b||null;this.j={};this.A=Lm;this.C=a;if(!c){this.g=null;this.g=new Em(r(this.Lb,this));Jm(this.g,"setTimeout");Jm(this.g,"setInterval");a=this.g;b=sa("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Jm(a,e)}a=this.g;Xd=!0;b=r(a.g,a);for(c=0;c<Vd.length;c++)Vd[c](b);Wd.push(a)}}v(Km,J);
function Mm(a,b){I.call(this,"A");this.error=a;this.context=b}v(Mm,I);function Lm(a,b,c,d){sj(a,null,b,c,d)}
Km.prototype.Lb=function(a,b){var c=sa("window.location.href");if(q(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d,e,f=!1;try{d=a.lineNumber||a.mt||"Not available"}catch(u){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||m.$googDebugFname||c}catch(u){e="Not available",f=!0}a=!f&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:d,fileName:e,
stack:a.stack||"Not available"}}b=b?Ib(b):{};if(this.o)try{this.o(a,b)}catch(u){}d=a.message.substring(0,1900);c=a.stack;try{var g=yd(this.C,"script",a.fileName,"error",d,"line",a.lineNumber);Hb(this.j)||(g=zd(g,this.j));d={};d.trace=c;if(b)for(var l in b)d["context."+l]=b[l];var p=xd(d);ya(null)&&(p=p.substring(0,null));this.A(g,"POST",p,this.B)}catch(u){}try{this.dispatchEvent(new Mm(a,b))}catch(u){}};Km.prototype.G=function(){H(this.g);Km.J.G.call(this)};function Nm(a,b,c){Ka.call(this,"Local storage error: "+b);this.type=a;this.ub=c||null}v(Nm,Ka);function Om(a){return"Failed to write to localstore ("+a.type+"): "+a.message}function Pm(a){return(a=a.ub&&a.ub instanceof Event?a.ub.target:null)?a.error:null};var Qm=m.IDBKeyRange||m.webkitIDBKeyRange;
function Rm(a,b,c,d,e,f){b=n(b)?Sm(b,c):null;e=e?"prev":"next";if(d)return a=Tm(a,d),f?(f=n(b),d=n(e),f=f&&d?a.g.openKeyCursor(b,e):f?a.g.openKeyCursor(b):a.g.openKeyCursor(),b=new Um(f,a.j,a.g.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)):(f=n(b),d=n(e),f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor(),b=new Um(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)),b;f=n(b);d=n(e);f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor();
return new Um(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)}function Vm(a,b,c,d){b=Sm(b,c);a=Wm(a,b);d&&Xm(a,d)}function Ym(a,b,c,d,e,f,g,l,p,u){b=W(a,b);var w=[];Xm(Rm(b,e,f,g,l,p),function(b){if(b=b.target.result){var e=n(b.value)?b.value:b.key;(e=c(e))&&w.push(e);b["continue"]()}else u&&Zm(a),d&&d(w)})}
function $m(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}function an(a,b){return function(c){c.stopPropagation();b(new Nm(1,a+" ("+$m(c)+")",c))}}function Sm(a,b){return n(b)&&a!=b?Qm.bound(a,b):Qm.only(a)};function bn(a,b,c,d,e,f){T.call(this,e,f);this.D=a;this.S=[];this.I=!!b;this.Y=!!c;this.U=!!d;for(b=this.N=0;b<a.length;b++)U(a[b],r(this.M,this,b,!0),r(this.M,this,b,!1));0!=a.length||this.I||this.K(this.S)}v(bn,T);bn.prototype.M=function(a,b,c){this.N++;this.S[a]=[b,c];this.g||(this.I&&b?this.K([a,c]):this.Y&&!b?this.R(c):this.N==this.D.length&&this.K(this.S));this.U&&!b&&(c=null);return c};bn.prototype.R=function(a){bn.J.R.call(this,a);for(a=0;a<this.D.length;a++)this.D[a].cancel()};
function cn(a){return(new bn(a,!1,!0)).T(function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function dn(a){F.call(this);this.j=new oj;this.D=new jk(this.B,3E4,this);this.N=new fk;this.I=!1;this.C=new rg;this.H=new V(this);this.U=a||10;this.H.listen(this.j,"complete",this.P);this.H.listen(this.j,"ready",this.B)}v(dn,F);dn.prototype.send=function(a,b,c,d){var e=this.cc().T(function(e){e>=this.U||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.dd(e))},this).T(this.B,this);hh(e,function(){lg(this.C.g,tg(e))},this);sg(this.C,e)};dn.prototype.B=function(){0!=this.D.nb||this.j.g||this.I||en(this)};
function en(a){a.bc().T(function(a){if(!this.j.g&&0==this.D.nb&&!this.I&&a)if(4E3<a.u.length)this.Ib();else try{hk(this.N,1),this.j.send(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof ik)this.I=!0;else throw c;}},a)}dn.prototype.P=function(){var a=this.j.Z();this.j.Cb()||400<=a&&500>=a?this.Ib():this.D.start()};dn.prototype.G=function(){Ud(this.H,this.D,this.j);kg(this.C.g);dn.J.G.call(this)};function fn(a,b,c,d,e){dn.call(this,e);this.F=b;this.v=b+"-f";this.o=b+"-n";this.A=c;this.M=a;this.g=null;this.O=d||gn;a=this.O.open("DocsErrors",1);a.onsuccess=r(this.hj,this);a.onupgradeneeded=r(this.ck,this);a.onerror=r(this.Uf,this);a.onblocked=r(this.Uf,this)}v(fn,dn);var gn=m.indexedDB||m.webkitIndexedDB;k=fn.prototype;
k.hj=function(a){var b=a.target.result,c=b.transaction(["Errors"],"readwrite");(new bn([hn(this.v,c),hn(this.o,c)])).T(function(a){null==a[0][1]||null==a[1][1]?(a=c.objectStore("Errors"),a.put({key:this.v,value:"1"}),a.put({key:this.o,value:"1"}),c.oncomplete=r(this.qf,this,b)):this.qf(b)},this)};k.qf=function(a){this.g=a;this.B()};k.ck=function(a){a.target.transaction.db.createObjectStore("Errors",{keyPath:"key"})};
k.Uf=function(a){this.g&&(this.g.close(),this.g=null);jn(this.M,Error("IdbErrorSender: "+$m(a)))};k.dd=function(a){if(!this.g)return this.A.dd(a);var b=this.g.transaction(["Errors"],"readwrite"),c=new T;hn(this.o,b).T(function(d){if(d){var e=b.objectStore("Errors");e.put({key:this.o,value:String(d+1)});e.put({key:this.F+"-e-"+d,value:jc(a)});b.oncomplete=r(c.K,c)}else c.K()},this);return c};
k.Ib=function(){if(!this.g)return this.A.Ib();var a=this.g.transaction(["Errors"],"readwrite"),b=new T;(new bn([hn(this.v,a),hn(this.o,a)])).T(function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.K();else{var e=a.objectStore("Errors");e["delete"](this.F+"-e-"+d);d++;e.put({key:this.v,value:String(d)});kn(this,a).T(function(c){0==c&&(e.put({key:this.v,value:"1"}),e.put({key:this.o,value:"1"}));a.oncomplete=r(b.K,b)},this)}},this);return b};
k.bc=function(){if(!this.g)return this.A.bc();var a=this.g.transaction(["Errors"],"readonly");return(new bn([hn(this.v,a),hn(this.o,a)])).T(function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:ln(this.F+"-e-"+c,a).T(function(a){return a&&(a=hc(a))?a:this.Ib().T(this.bc,this)},this)},this)};k.cc=function(){if(!this.g)return this.A.cc();var a=this.g.transaction(["Errors"],"readonly");return kn(this,a)};function kn(a,b){return(new bn([hn(a.v,b),hn(a.o,b)])).T(function(a){return a[1][1]-a[0][1]})}
function hn(a,b){return ln(a,b).T(function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function ln(a,b){b=b.objectStore("Errors");var c=new T;b.get(a).onsuccess=function(a){a.target.result?c.K(a.target.result.value):c.K(null)};return c}k.G=function(){this.g&&(this.g.close(),this.g=null);fn.J.G.call(this)};function mn(){F.call(this);this.g={}}v(mn,F);mn.prototype.tb=function(a,b,c){if(za(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");c=new nn;a=Ci(r(this.j,this,a,c),b);this.g[a]=!0;return c.g=a};mn.prototype.j=function(a,b){b=b.getId();null===b||delete this.g[b];a()};mn.prototype.G=function(){for(var a in this.g)Di(Number(a));mn.J.G.call(this)};function nn(){this.g=null}nn.prototype.getId=h("g");function on(a,b){dn.call(this,b);this.F=a;this.A=a+"-v";this.v=a+"-f";this.o=a+"-n";this.g=m.localStorage;vm();a=pn(this,this.A);if(!a||1>a)this.g.setItem(this.A,"1"),this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1");this.B();this.M=new mn;G(this,this.M);this.M.tb(this.Di,3E4,this)}v(on,dn);k=on.prototype;k.dd=function(a){var b=pn(this,this.o);if(!b||1!=pn(this,this.A))return nh();try{this.g.setItem(this.o,String(b+1)),this.g.setItem(this.F+"-e-"+b,jc(a))}catch(c){}return nh()};
k.Ib=function(){var a=pn(this,this.v);if(!a||1!=pn(this,this.A))return nh();this.g.removeItem(this.F+"-e-"+a);a++;this.g.setItem(this.v,String(a));return this.cc().T(function(a){0==a&&(this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1"))},this)};k.bc=function(){var a=pn(this,this.v);return a&&1==pn(this,this.A)?this.cc().T(function(b){if(1>b)return null;try{var c=this.g.getItem(this.F+"-e-"+a);if(c){var d=hc(c);if(d)return d}}catch(e){}return this.Ib().T(this.bc,this)},this):nh(null)};
k.cc=function(){return nh(pn(this,this.o)-pn(this,this.v))};function pn(a,b){return(a=a.g.getItem(b))?qn(a):null}function qn(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}k.Di=function(){if(pn(this,this.o)&&1==pn(this,this.A))for(var a=this.F+"-e-",b=0,c=this.g.length;b<c;++b){var d=this.g.key(b);if(d&&0==d.lastIndexOf(a,0)){var e=qn(d.substring(a.length)),f=pn(this,this.o);f&&e&&e>=f&&this.g.removeItem(d)}}};function rn(a){dn.call(this,a);this.g=[]}v(rn,dn);k=rn.prototype;k.dd=function(a){this.g.push(a);return nh()};k.Ib=function(){this.g.shift();return nh()};k.bc=function(){return nh(n(this.g[0])?this.g[0]:null)};k.cc=function(){return nh(this.g.length)};k.G=function(){delete this.g;rn.J.G.call(this)};function sn(a,b,c,d,e,f,g,l){J.call(this);this.B={};this.g=null;this.j={};this.C=new V(this);this.I=!!e;this.o=null;var p;b&&vm()?p=new on(b,c):p=new rn(c);b&&gn&&cc&&g?(this.o=new fn(this,b,p,void 0,c),G(this,p)):this.o=p;a=l?l:wf(K(),"docs-sup")+"/jserror";(b=wf(K(),"jobset"))&&(a=yd(a,"jobset",b));if(tn)throw Error("ErrorReporter already installed.");tn=!0;b=r(this.Ok,this);this.g=new Km(a,b,void 0);this.g.B={"X-Same-Domain":"1","X-No-Abort":"1"};a=r(this.cl,this);this.g.A=a;this.C.listen(this.g,
"A",this.bj);this.D=!1;this.H=!0;this.A=!1}v(sn,J);var tn=!1;function un(a,b,c){a.B[b]=c}function vn(a,b,c){a.j[b]=c}function wn(a,b){a.A=!1;if(!a.g)throw b;a.g.Lb(b,xn("fatal",void 0))}function jn(a,b,c){a.A=!1;a.g&&a.g.Lb(b,xn("warning",c))}function yn(a,b,c){a.A=!1;a.g&&a.g.Lb(b,xn("incident",c))}k=sn.prototype;k.log=function(a,b,c){this.A=!!c;if(!this.g)throw a;this.g.Lb(a,xn("incident",b))};
function zn(a,b,c,d){return r(function(a){var e;a:{var g=!!d,l=arguments;if(this.g){try{e=b.apply(c,l);break a}catch(p){if(wn(this,p),g)throw p;}e=void 0}else e=b.apply(c,l)}return e},a)}function xn(a,b){b=b?Ib(b):{};b.severity=a;return b}
k.bj=function(a){var b=a.context.severity;if((b="fatal"==b||"postmortem"==b)&&!this.I&&window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var c=window;c.onbeforeunload=ta;c.location.reload()}this.dispatchEvent(new An(b?"B":"C",a.error,a.context))};
k.Ok=function(a,b){for(var c in this.B)try{b[c]=this.B[c]()}catch(e){}Lb(b,this.j);a=b.severity||"fatal";(c=wf(K(),"docs-jern"))&&(b.reportName=c+"_"+a);var d;a:{for(d in Array.prototype){d=!1;break a}d=!0}b.isArrayPrototypeIntact=d.toString();this.D?(this.H=this.A||!uf(K(),"docs-spfe"),"fatal"==a?a="postmortem":"incident"==a&&(a="warningafterdeath")):"fatal"==a&&(this.D=!0);this.A=!1;b.severity=a};k.cl=function(a,b,c,d){this.H&&this.o.send(a,b,c,d)};
k.G=function(){tn=!1;Ud(this.C,this.g,this.o);sn.J.G.call(this)};function An(a,b,c){I.call(this,a);this.error=b;this.context=c}v(An,I);function Bn(a,b,c){I.call(this,"D",a);this.g=b;this.j=c}v(Bn,I);function Cn(a,b,c){J.call(this);this.j={"X-Same-Domain":"1"};!1===c&&(this.j={});this.o="";this.g=b||um();(a=Dd((a||m).location.href,"authkey"))&&Dn(this,"authkey",a)}v(Cn,J);Cn.prototype.A=function(a){Dn(this,"tfe",a)};function Dn(a,b,c){var d=a.g;if(c){if(d.g[b]=c,d.j&&(b=d.g.token||null))d.j.K(b),d.j=null}else delete d.g[b];a.dispatchEvent("E")};function En(a){J.call(this);this.j=a;this.g=null;this.o=new V(this);this.o.listen(this.j,"E",this.A)}v(En,J);En.prototype.A=function(){this.g&&(this.g.$=Ib(this.j.g.g))};En.prototype.B=function(a){var b=this.g;this.dispatchEvent(new Bn(this,0==a,b.Ea?b.Ea.Ya:-1))};En.prototype.G=function(){this.g&&!this.g.isDisposed()&&(this.g.fe("tfe_changed",this.j.A,this.j),tk(this.g),this.g.C=ta);this.g=null;H(this.o);En.J.G.call(this)};new rg;function Fn(a,b){F.call(this);this.g=[];this.A=a;this.o=b||null;this.j=this.v=null;this.o&&(this.j=new Bi(500),this.v=new V(this),this.v.listen(this.j,"tick",this.B))}v(Fn,F);Fn.prototype.reset=function(){this.g=[];this.j&&this.j.stop()};Fn.prototype.contains=function(a){return nb(this.g,a)};Fn.prototype.B=function(){for(;0<this.g.length&&gk(this.o);)hk(this.o),this.A(this.g.shift());Gn(this)};function Gn(a){0==a.g.length&&a.j&&a.j.stop()}Fn.prototype.G=function(){H(this.v);H(this.j);Fn.J.G.call(this)};function Hn(a,b){I.call(this,"H");this.j=a;this.g=b}v(Hn,I);function In(){J.call(this);this.g=Jn}v(In,J);function Kn(a,b){var c=a.g;b!=c&&(a.g=b,a.dispatchEvent(new Hn(c,b)))}function Ln(a,b){this.j=a;this.g=b}
var Jn=new Ln("IDLE",1),Mn=new Ln("BUSY",1),Nn=new Ln("RECOVERING",2),On=new Ln("OFFLINE",3),Pn=new Ln("SERVER_DOWN",3),Qn=new Ln("FORBIDDEN",4),Rn=new Ln("AUTH_REQUIRED",4),Sn=new Ln("SESSION_LIMIT_EXCEEDED",4),Tn=new Ln("INCOMPATIBLE_SERVER",5),Un=new Ln("CLIENT_ERROR",5),Vn=new Ln("BATCH_CLIENT_ERROR",3),Wn=new Ln("SAVE_ERROR",5),Xn=new Ln("BATCH_SAVE_ERROR",3);Ln.prototype.toString=h("j");function Yn(a,b,c,d,e,f,g,l){J.call(this);this.P=a;this.j=new Cn(b,e,g);this.o=new En(this.j);this.C=new V(this);this.H=c||null;c&&this.C.listen(c,"B",this.oj);this.g=d||new In;this.N=l||null;this.M=new mn;this.A=[];this.I=[];this.D=new Fn(r(this.dl,this),f);this.B=Un;this.C.listen(this.o,"D",this.aj)}v(Yn,J);function Zn(a,b){b=$n(a,b);b.W=a.j.o;return b}function $n(a,b){return new rm(a,b,a,a.N,a.P.g)}k=Yn.prototype;
k.send=function(a){if(!a.isDisposed()){ob(this.A,a);a:{var b=this.D;if(b.o){if(!gk(b.o)||0!=b.g.length){b.g.push(a);b.j.start();break a}hk(b.o)}b.A(a)}Vh(this.C,a,"z",this.Tj)}};k.dl=function(a){5<=this.g.g.g||(this.g.g==Jn&&Kn(this.g,Mn),Vh(this.C,a,"y",this.Vf),a.send(this.j))};
k.Vf=function(a){var b=a.target;a=a.g;"SOON"==a.B["x-restart"]&&this.g.dispatchEvent("I");this.H&&Hk(a)&&1!=b.B&&this.H.log(Error("blank JSON response"),Ek(a));var c;if("NOW"==a.B["x-restart"])c=new Ak("j",a.j,a.o);else if(7==a.j)c=null;else{c=a.j;var d=a.o;(a.Cb()?0==c&&0==d&&("text"!=a.v||null==a.g):8==c||5==c||6==c&&(0>=d||503==d||405==d))?c="g":(c=a.o,c=6==a.j&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=Gk(a)||200==c&&(null==a.A||Fk(a)||Hk(a))?"h":
a.Cb()?"f":"e");c=new Ak(c,a.j,a.o,6==a.j&&500==a.o?Fk(a):null)}if(c){d=!0;if("f"==c.type){try{b.P(a),ao(this,b)}catch(p){c=new Ak("i",c.errorCode,c.g),c.ub=p,c.j="f",ao(this,b,this.B)}b.X()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var g=Fk(a);g&&"XSRF"==B(g,1)&&(bo(this,B(g,4)),f=!0)}400==e.g&&(a=Gk(a))&&B(a,1)&&(bo(this,B(a,1)),f=!0);409==e.g&&this.j.A(null);a=5<=this.g.g.g;g="h"==e.type;a||!(f||1!=b.B&&4>b.I)?3==b.B?(a||(null==this.o.g||g?co(this,b,!0):this.I.push(b),eo(this),
Kn(this.g,fo(this,e.g))),a=2):a=1:(co(this,b,!1),a=3);switch(a){case 1:c.j=c.type;c.type="e";break;case 3:d=!1;break;case 2:go(c)}}else"j"==c.type&&(this.H&&yn(this.H,Error("Incompatible server")),ao(this,b,Tn),d=!1);if("e"==c.type){go(c);try{if(0==b.M(c)&&(d=!1),b.ga)ao(this,b);else{var l=b.Y(c)||fo(this,c.g);ao(this,b,l)}}catch(p){c=new Ak("i",c.errorCode,c.g),c.ub=p,c.j="e",ao(this,b,this.B)}b.X()}d&&(c.C=b.j,this.dispatchEvent(c))}};function go(a){a.B instanceof yk&&B(a.B,2)}
k.Tj=function(a){a=a.target;if(this.D.contains(a)){var b=this.D;pb(b.g,a);Gn(b)}else nb(this.A,a)&&(this.C.Zc(a,"y",this.Vf),ao(this,a));pb(this.A,a);pb(this.I,a)};function ao(a,b,c){var d=a.g.g,e=d,f=c||On;c=!c;pb(a.A,b);pb(a.I,b);a.D.contains(b);5<=d.g||(5<=f.g?Kn(a.g,f):(b=null!=a.o.g||lb(a.A,function(a){return 3==a.B}),d==Mn?c||!b?0==a.A.length&&(e=Jn):(eo(a),e=f):c?0<a.A.length?(e=Nn,ho(a)):null!=a.o.g&&uk(a.o.g)||(e=Jn):e=f,Kn(a.g,e)))}
function eo(a){null!=a.o.g&&1==a.g.g.g&&(a=a.o,tk(a.g),rk(a.g))}k.Z=h("g");function co(a,b,c){var d=hm;c&&0!=b.A&&(d=b.A<b.ea?1.5*b.A:b.A);b.A=d;c=Math.max(0,d-(t()-b.U));a.M.tb(r(a.send,a,b),c)}k.aj=function(a){var b=this.g.g;5<=b.g||(a.g?1!=b.g&&(0<this.A.length?(Kn(this.g,Nn),ho(this)):Kn(this.g,Jn)):Kn(this.g,fo(this,a.j)))};function ho(a){var b=a.I.shift();b&&a.send(b)}
function fo(a,b){return 401==b?Rn:403==b?Qn:421==b?Sn:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?Pn:400<=b&&499>=b||550==b?a.B:On}function bo(a,b){a=a.j;a.g.g.at&&Dn(a,"at",b);Dn(a,"token",b)}k.oj=function(){Kn(this.g,this.B)};k.G=function(){Ud(this.A);H(this.o);H(this.j);H(this.M);H(this.D);H(this.C);Yn.J.G.call(this)};function io(a){this.g=a};function jo(a){F.call(this);this.j=a;this.g={};this.j.Sc(r(this.o,this))}v(jo,F);function ko(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.g)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new lo(a,b);return a.g[b]=c}jo.prototype.o=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.g&&(c=this.g[c])&&c.o&&c.o(a,b)}};
jo.prototype.G=function(){yb(this.g,function(a){H(a)});H(this.j);delete this.g;delete this.j};function lo(a,b){F.call(this);this.g=a;this.j=b}v(lo,F);k=lo.prototype;k.connect=function(a){a&&a()};k.Ga=ca(!0);k.Ma=function(a,b,c){this.g.j.Ma(this.j+":"+a,r(this.tf,this,b),c)};k.Sc=function(a){this.o=r(this.tf,this,a)};k.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.g.j.send(this.j+":"+a,b)};
k.tf=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};k.G=function(){this.g=this.g.g[this.j]=null};function mo(a,b){F.call(this);this.j=[];this.v=new jo(a);this.o=ko(this.v,"user");this.B=ko(this.v,"control");this.g=new Bi(b||50);this.g.start();ne(this.g,"tick",this.zg,!1,this);this.B.Ma("setPeerReady_",r(this.fl,this))}v(mo,F);k=mo.prototype;k.connect=function(a){a&&a()};k.Ga=ca(!0);k.zg=function(){try{this.B.send("setPeerReady_",this.A?"1":"")}catch(a){throw this.g.stop(),a;}};k.Ma=function(a,b,c){this.o.Ma(a,b,c)};k.Sc=function(a){this.o.Sc(a)};
k.send=function(a,b){this.A?this.o.send(a,b):this.j.push({Je:a,Ua:b})};k.fl=function(a){a?this.g.stop():this.g.start();if(!this.A){this.A=!0;this.zg();for(a=0;a<this.j.length;a++){var b=this.j[a];this.o.send(b.Je,b.Ua)}this.j=null}};k.G=function(){H(this.v);H(this.g);mo.J.G.call(this)};function no(){F.call(this);this.j={}}v(no,F);k=no.prototype;k.Vi=null;k.connect=function(a){a&&a()};k.Ga=ca(!0);k.Ma=function(a,b,c){this.j[a]={K:b,gg:!!c}};k.Sc=ba("C");function oo(a,b,c){var d;if(d=(d=a.j[b])?d:a.C?{K:Ga(a.C,b),gg:Aa(c)}:null)a=a.cd(b,c,d.gg),null!=a&&d.K(a)}k.cd=function(a,b,c){if(c&&q(b))try{return hc(b)}catch(d){return null}else if(!c&&!q(b))return jc(b);return b};k.G=function(){no.J.G.call(this);delete this.Vi;delete this.j;delete this.C};var po=["pu","lru","pru","lpu","ppu"],qo={};function ro(a){for(var b=so,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d}var so="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function to(a){F.call(this);this.U=a||De()}v(to,F);to.prototype.Qb=0;to.prototype.L=h("Qb");function uo(a){return Fe(a.U.g)};function vo(a,b){to.call(this,b);this.g=a;this.D=new V(this);G(this,this.D);this.B=new Bi(100,uo(this));G(this,this.B);this.v=new T;this.A=new T;this.j=new T;this.F=ro(10);this.C=null;this.o={};this.I=this.g.name;wo(this.g,this.g.name+"_"+xo(this.g));this.H=!1;jh(this.j,this.v);jh(this.j,this.A);this.j.T(this.Wi,this);this.j.K(!0);this.D.listen(this.B,"tick",this.Rf)}v(vo,to);var yo={};
function zo(a){var b=new Ao(a.channelName,a.service,a.payload);a=b.g;var c=b.Dd,b=b.Ua,d=qo[a];if(d)return d.ab(c,b),!0;var d=Bo(b)[0],e;for(e in qo){var f=qo[e];if(1==xo(f)&&!f.Ga()&&"tp"==c&&"SETUP"==d)return wo(f,a),f.ab(c,b),!0}return!1}k=vo.prototype;k.Qb=7;k.Hd=function(a){a=Bo(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.v.g||this.v.K(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.A.g||this.A.K(!0),null!=this.C&&this.C!=b&&this.send("tp","SETUP,"+this.F),this.C=b}};
k.connect=function(){var a=uo(this);if(a){var b=Ba(a);0==(yo[b]||0)&&null==sa("crosswindowmessaging.channel",a)&&qa("crosswindowmessaging.channel",zo,a);yo[b]++;this.H=!0;this.Rf()}};k.Rf=function(){this.g.Ga()?this.B.stop():(this.B.start(),this.send("tp","SETUP,"+this.F))};k.send=function(a,b){this.g.La&&(a=new Ao(this.I+"_"+(0==xo(this.g)?1:0),a,b),this.g.g.directSyncMode?this.Gf(a):this.o[Ba(a)]=Ci(r(this.Gf,this,a),0))};
k.Gf=function(a){var b=Ba(a);this.o[b]&&delete this.o[b];try{var c=sa("crosswindowmessaging.channel",this.g.La)}catch(d){return}if(null!==c)try{c({channelName:a.g,service:a.Dd,payload:a.Ua})}catch(d){}};k.Wi=function(){Co(this.g,0)};
k.G=function(){if(this.H){var a=uo(this),b=Ba(a);1==--yo[b]&&qa("crosswindowmessaging.channel",null,a)}this.o&&(yb(this.o,function(a){Di(a)}),this.o=null);this.v&&(this.v.cancel(),delete this.v);this.A&&(this.A.cancel(),delete this.A);this.j&&(this.j.cancel(),delete this.j);vo.J.G.call(this)};function Bo(a){a=a.split(",");a[1]=a[1]||null;return a}function Ao(a,b,c){this.g=a;this.Dd=b;this.Ua=c};function Do(a,b){to.call(this,b);this.j=a;this.o=[];this.B=r(this.wi,this)}v(Do,to);k=Do.prototype;k.Qb=2;k.Ee=!1;k.connect=function(){0==xo(this.j)?(this.g=this.j.lc,this.g.XPC_toOuter=r(this.Yf,this)):this.bf()};
k.bf=function(){var a=!0;try{this.g||(this.g=uo(this).frameElement),this.g&&this.g.XPC_toOuter&&(this.v=this.g.XPC_toOuter,this.g.XPC_toOuter.XPC_toInner=r(this.Yf,this),a=!1,this.send("tp","SETUP_ACK"),Co(this.j))}catch(b){}a&&(this.A||(this.A=r(this.bf,this)),uo(this).setTimeout(this.A,100))};k.Hd=function(a){if(0!=xo(this.j)||this.j.Ga()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.v=this.g.XPC_toOuter.XPC_toInner;Co(this.j)};
k.Yf=function(a,b){this.Ee||0!=this.o.length?(this.o.push({Je:a,Ua:b}),1==this.o.length&&uo(this).setTimeout(this.B,1)):this.j.ab(a,b)};k.wi=function(){for(;this.o.length;){var a=this.o.shift();this.j.ab(a.Je,a.Ua)}};k.send=function(a,b){this.Ee=!0;this.v(a,b);this.Ee=!1};k.G=function(){Do.J.G.call(this);this.g=this.v=null};function Eo(a,b){to.call(this,b);this.g=a;this.H=this.g.g.ppu;this.Y=this.g.g.lpu;this.D=[]}var Fo,Go;v(Eo,to);k=Eo.prototype;k.Kk=5;k.Qb=4;k.ue=0;k.vc=!1;k.od=!1;k.sg=null;function Ho(a){return"googlexpc_"+a.g.name+"_msg"}function Io(a){return"googlexpc_"+a.g.name+"_ack"}function Jo(a){try{if(!a.isDisposed()&&Ko(a.g))return a.g.La.frames||{}}catch(b){}return{}}function Lo(a,b){return Jo(a)[b]}
k.connect=function(){if(!this.isDisposed()&&Ko(this.g)){if(!this.od){var a=Ho(this);this.o=Mo(this,a);this.C=uo(this).frames[a];a=Io(this);this.j=Mo(this,a);this.B=uo(this).frames[a];this.od=!0}if(No(this,Ho(this))&&No(this,Io(this)))this.N=new Oo(this,Lo(this,Ho(this)),r(this.Nk,this)),this.I=new Oo(this,Lo(this,Io(this)),r(this.Mk,this)),this.jf();else{if(1==xo(this.g))this.sg||0<this.Kk--||(wo(this.g,ro(10)),Po(this),this.od=!1,this.sg=Mo(this,"googlexpc_reconnect_"+this.g.name));else if(0==xo(this.g))for(var a=
Jo(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.g.name=e[2];Po(this);this.od=!1;break}}}uo(this).setTimeout(r(this.connect,this),100)}}};function Mo(a,b){var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.H+"#INITIAL";uo(a).document.body.appendChild(c);return c}
function Po(a){a.o&&(a.o.parentNode.removeChild(a.o),a.o=null,a.C=null);a.j&&(a.j.parentNode.removeChild(a.j),a.j=null,a.B=null)}function No(a,b){try{var c=Lo(a,b);if(!c||0!=c.location.href.indexOf(a.Y))return!1}catch(d){return!1}return!0}k.jf=function(){var a=Jo(this);a[Io(this)]&&a[Ho(this)]?(this.P=new Qo(this.H,this.C),this.A=new Qo(this.H,this.B),uo(this).setTimeout(r(function(){this.P.send("SETUP");this.vc=!0},this),100)):(this.M||(this.M=r(this.jf,this)),uo(this).setTimeout(this.M,100))};
function Ro(a){if(a.O&&a.$&&(Co(a.g),a.v)){for(var b=0,c;b<a.v.length;b++)c=a.v[b],a.g.ab(c.Dd,c.Ua);delete a.v}}
k.Nk=function(a){if("SETUP"==a)this.A&&(this.A.send("SETUP_ACK"),this.O=!0,Ro(this));else if(this.g.Ga()||this.O){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.A.send("ACK:"+c);So(this,a)}else d=c.substring(0,b),this.A.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.F=[]),this.F.push(a),b==c&&(So(this,this.F.join("")),delete this.F)}};
k.Mk=function(a){"SETUP_ACK"==a?(this.vc=!1,this.$=!0,Ro(this)):this.g.Ga()&&this.vc&&parseInt(a.split(":")[1],10)==this.ue&&(this.vc=!1,To(this))};function To(a){if(!a.vc&&a.D.length){var b=a.D.shift();++a.ue;a.P.send(a.ue+b);a.vc=!0}}function So(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substring(c+1);a.g.Ga()?a.g.ab(d,b):(a.v||(a.v=[])).push({Dd:d,Ua:b})}k.send=function(a,b){this.D.push("|"+(a+":"+b));To(this)};
k.G=function(){Eo.J.G.call(this);var a=Uo;pb(a,this.N);pb(a,this.I);this.N=this.I=null;Ge(this.o);Ge(this.j);this.C=this.B=this.o=this.j=null};var Uo=[],Vo=r(function(){var a=Uo,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=b,g=f.j.location.href;if(g!=f.g){f.g=g;var l=g.split("#")[1];l&&(l=l.substr(1),f.o(decodeURIComponent(l)));e=!0}else e=!1}c=e}}catch(p){if(b.v.g.close(),!a.length)return}a=t();c&&(Fo=a);Go=window.setTimeout(Vo,1E3>a-Fo?10:100)},Eo);
function Wo(){Fo=t();Go&&window.clearTimeout(Go);Go=window.setTimeout(Vo,10)}function Qo(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.j=a;this.o=b;this.g=0}Qo.prototype.send=function(a){this.g=++this.g%2;a=this.j+"#"+this.g+encodeURIComponent(a);try{this.o.location.href=a}catch(b){}Wo()};function Oo(a,b,c){this.v=a;this.j=b;this.o=c;this.g=this.j.location.href.split("#")[0]+"#INITIAL";Uo.push(this);Wo()};function Xo(a,b){to.call(this,b);this.g=a;this.o=this.g.g.pru;this.j=this.g.g.ifrid;Yo()}v(Xo,to);var Zo=[],$o=0;function Yo(){$o||($o=window.setTimeout(function(){ap()},1E3))}function ap(a){var b=t();for(a=a||3E3;Zo.length&&b-Zo[0].timestamp>=a;){var c=Zo.shift().ek;Ge(c)}$o=window.setTimeout(bp,1E3)}function bp(){ap()}k=Xo.prototype;k.Qb=3;k.connect=function(){uo(this).xpcRelay||(uo(this).xpcRelay=cp);this.send("tp","SETUP")};
function cp(a,b){var c=b.indexOf(":");qo[a].ab(b.substr(0,c),decodeURIComponent(b.substr(c+1)))}k.Hd=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),Co(this.g)):"SETUP_ACK"==a&&Co(this.g)};k.send=function(a,b){b=encodeURIComponent(b);var c;c=uo(this).document.createElement("IFRAME");Zo.push({timestamp:t(),ek:c});var d=c.style;d.visibility="hidden";d.width=c.style.height="0px";d.position="absolute";d=this.o;d+="#"+this.g.name;this.j&&(d+=","+this.j);c.src=d+("|"+a)+(":"+b);uo(this).document.body.appendChild(c)};
k.G=function(){Xo.J.G.call(this);ap(0)};function dp(a,b,c,d,e){to.call(this,c);this.A=a;this.B=e||2;this.N=b||"*";this.D=new V(this);this.C=new Bi(100,uo(this));this.H=!!d;this.o=new T;this.v=new T;this.j=new T;this.M=ro(10);this.F=null;this.H?1==xo(this.A)?jh(this.j,this.o):jh(this.j,this.v):(jh(this.j,this.o),2==this.B&&jh(this.j,this.v));this.j.T(this.Xi,this);this.j.K(!0);this.D.listen(this.C,"tick",this.Sf)}v(dp,to);dp.prototype.g=null;dp.prototype.I=!1;dp.prototype.Qb=1;var ep={};k=dp.prototype;k.Uc=0;
function fp(a){var b=a.g.data;if(!q(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);if(d=qo[e])return d.ab(c,b,a.g.origin),!0;a=gp(b)[0];for(var f in qo)if(d=qo[f],1==xo(d)&&!d.Ga()&&"tp"==c&&("SETUP"==a||"SETUP_NTPV2"==a))return wo(d,e),d.ab(c,b),!0;return!1}
k.Hd=function(a){var b=gp(a);a=b[1];switch(b[0]){case "SETUP_ACK":hp(this,1);this.o.g||this.o.K(!0);break;case "SETUP_ACK_NTPV2":2==this.B&&(hp(this,2),this.o.g||this.o.K(!0));break;case "SETUP":hp(this,1);ip(this,1);break;case "SETUP_NTPV2":2==this.B&&(b=this.g,hp(this,2),ip(this,2),1!=b&&null==this.F||this.F==a||jp(this),this.F=a)}};function jp(a){2!=a.B||null!=a.g&&2!=a.g||a.send("tp","SETUP_NTPV2,"+a.M);null!=a.g&&1!=a.g||a.send("tp","SETUP")}
function ip(a,b){if(2!=a.B||null!=a.g&&2!=a.g||2!=b){if(null!=a.g&&1!=a.g||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.v.g||a.v.K(!0)}function hp(a,b){b>a.g&&(a.g=b);1==a.g&&(a.v.g||a.H||a.v.K(!0),a.F=null)}k.connect=function(){var a=uo(this),b=Ba(a),c=ep[b];ya(c)||(c=0);0==c&&ne(a.postMessage?a:a.document,"message",fp,!1,dp);ep[b]=c+1;this.I=!0;this.Sf()};k.Sf=function(){var a=0==xo(this.A);this.H&&a||this.A.Ga()||this.isDisposed()?this.C.stop():(this.C.start(),jp(this))};
k.send=function(a,b){var c=this.A.La;c&&(this.send=function(a,b){var d=this,e=this.A.name;this.Uc=Ci(function(){d.Uc=0;try{var f=c.postMessage?c:c.document;f.postMessage&&f.postMessage(e+"|"+a+":"+b,d.N)}catch(p){}},0)},this.send(a,b))};k.Xi=function(){Co(this.A,1==this.B||1==this.g?200:void 0)};
k.G=function(){if(this.I){var a=uo(this),b=Ba(a),c=ep[b];ep[b]=c-1;1==c&&ve(a.postMessage?a:a.document,"message",fp,!1,dp)}this.Uc&&(Di(this.Uc),this.Uc=0);H(this.D);delete this.D;H(this.C);delete this.C;this.o.cancel();delete this.o;this.v.cancel();delete this.v;this.j.cancel();delete this.j;delete this.send;dp.J.G.call(this)};function gp(a){a=a.split(",");a[1]=a[1]||null;return a};function kp(a,b){to.call(this,b);this.g=a;this.j=a.at||"";this.o=a.rat||"";a=uo(this);if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){}this.GCXPC____NIXJS_handle_message=this.Ej;this.GCXPC____NIXJS_create_channel=this.ti}v(kp,to);k=kp.prototype;k.Qb=6;k.nc=!1;k.Mb=null;k.connect=function(){0==xo(this.g)?this.af():this.$e()};k.af=function(){if(!this.nc){var a=this.g.lc;try{a.contentWindow.opener=(0,uo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j),this.nc=!0}catch(b){}this.nc||uo(this).setTimeout(r(this.af,this),100)}};
k.$e=function(){if(!this.nc){try{var a=uo(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Mb=a;if(this.Mb.GetAuthToken()!=this.o)return;this.Mb.CreateChannel((0,uo(this).GCXPC____NIXVBS_get_wrapper)(this,this.j));this.nc=!0;Co(this.g)}}catch(b){return}this.nc||uo(this).setTimeout(r(this.$e,this),100)}};k.ti=function(a){this.Mb=a;this.Mb.GetAuthToken()==this.o&&Co(this.g)};k.Ej=function(a,b){uo(this).setTimeout(r(function(){this.g.ab(a,b)},this),1)};
k.send=function(a,b){this.Mb.SendMessage(a,b)};k.G=function(){kp.J.G.call(this);this.Mb=null};function lp(a,b){no.call(this);for(var c=0,d;d=po[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.g=a;this.name=this.g.cn||ro(10);this.o=b||De();this.v=[];this.A=new V(this);a.lpu=a.lpu||qd(Fe(this.o.g).location.href)+"/robots.txt";a.ppu=a.ppu||qd(a.pu||"")+"/robots.txt";qo[this.name]=this;xe(window,"unload",mp)||ue(window,"unload",mp)}v(lp,no);var np=/^%*tp$/,op=/^%+tp$/;k=lp.prototype;k.vb=null;k.gb=null;k.Ka=null;k.kc=1;
k.Ga=function(){return 2==this.kc};k.La=null;k.lc=null;function Ko(a){try{return!!a.La&&!a.La.closed}catch(b){return!1}}function pp(a,b){var c=a.g.ifrid;c||(c=a.g.ifrid="xpcpeer"+ro(4));var d=De(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";qp(a);a.gb=new T(void 0,a);var e=rp(a);Wh(a.A,d,"load",a.gb.K,!1,a.gb);window.setTimeout(r(function(){b.appendChild(d);d.src=e.toString()},a),1)}function qp(a){a.gb&&(a.gb.cancel(),a.gb=null);a.v.length=0;Xh(a.A)}
function rp(a){var b=a.g.pu;q(b)&&(b=a.g.pu=new ci(b));var c={};c.cn=a.name;c.tp=a.g.tp;c.osh=a.g.osh;a.g.lru&&(c.pru=a.g.lru);a.g.lpu&&(c.ppu=a.g.lpu);a.g.ppu&&(c.lpu=a.g.ppu);(a=a.g.role)&&(c.role=1==a?0:1);qi(b,"xpc",jc(c));return b}k.connect=function(a){this.B=a||ta;3==this.kc&&(this.kc=1);this.gb?this.gb.T(this.lf):this.lf()};
k.lf=function(){this.gb=null;if(this.g.ifrid){var a=this.g.ifrid;this.lc=q(a)?this.o.g.getElementById(a):a}this.lc&&((a=this.lc.contentWindow)||(a=window.frames[this.g.ifrid]),this.La=a);if(!this.La){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.La=window.parent}if(!this.Ka){this.g.tp||(this.g.tp=za(document.postMessage)||za(window.postMessage)?1:4);switch(this.g.tp){case 1:this.Ka=new dp(this,this.g.ph,this.o,!!this.g.osh,this.g.nativeProtocolVersion||
2);break;case 6:this.Ka=new kp(this,this.o);break;case 2:this.Ka=new Do(this,this.o);break;case 3:this.Ka=new Xo(this,this.o);break;case 4:this.Ka=new Eo(this,this.o);break;case 7:if(a=this.La)try{a=window.document.domain==this.La.document.domain}catch(b){a=!1}a&&(this.Ka=new vo(this,this.o))}if(!this.Ka)throw Error("CrossPageChannel: No suitable transport found!");}for(this.Ka.connect();0<this.v.length;)this.v.shift()()};
k.close=function(){qp(this);this.kc=3;H(this.Ka);this.B=this.Ka=null;H(this.vb);this.vb=null};function Co(a,b){a.Ga()||a.vb&&0!=a.vb.nb||(a.kc=2,H(a.vb),n(b)?(a.vb=new jk(a.B,b),a.vb.start()):(a.vb=null,a.B()))}k.send=function(a,b){this.Ga()&&(Ko(this)?(Aa(b)&&(b=jc(b)),this.Ka.send(sp(a),b)):this.close())};
k.ab=function(a,b,c){if(this.gb)this.v.push(r(this.ab,this,a,b,c));else{var d=this.g.ph;!Na(cb(c))&&!Na(cb(d))&&c!=this.g.ph||this.isDisposed()||3==this.kc||(a&&"tp"!=a?this.Ga()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=op.test(a)?a.substring(1):a,oo(this,a,b)):this.Ka.Hd(b))}};function sp(a){np.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)}function xo(a){var b=a.g.role;return ya(b)?b:window.parent==a.La?1:0}function wo(a,b){delete qo[a.name];a.name=b;qo[b]=a}
k.G=function(){this.close();this.lc=this.La=null;delete qo[this.name];H(this.A);delete this.A;lp.J.G.call(this)};function mp(){for(var a in qo)H(qo[a])};function tp(){J.call(this)}v(tp,J);function up(a,b){I.call(this,a);this.Ua=b||null}v(up,I);function vp(a){J.call(this);this.j=a;this.o=new V(this);G(this,this.o);this.o.listen(this.j,"u",this.A);this.j.F=this;this.g={};this.g.sync="sr";this.g.uc="uc"}v(vp,tp);vp.prototype.A=function(a){var b=kd(a.Ua.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new up("u",Ac(b))));a.stopPropagation()};function wp(a,b,c,d,e,f){var g,l=a.g;d&&(g=function(a){var c=l[b];c&&(a=kd(a,c),a.unshift(c),d(Ac(a)))});a.j.o(b,vc(c),g,e,f)};function xp(a,b,c){no.call(this);c&&(this.o=c.wt(this.o));this.g=a;G(this,this.g);this.g.Sc(r(this.o,this));this.v=b}v(xp,no);xp.prototype.send=function(a,b){Aa(b)&&(b=jc(b));this.g.send(a,{t:this.v,p:b})};xp.prototype.o=function(a,b){oo(this,a,b)};xp.prototype.cd=function(a,b,c){b=xp.J.cd.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.v?xp.J.cd.call(this,a,b.p,c):null};function yp(){J.call(this)}v(yp,J);function zp(a,b,c,d,e){J.call(this);this.A=a;this.D=c||[];this.B=e;this.j=new V(this);G(this,this.j);this.j.listen(this.A.Z(),"H",this.I);d&&(this.g=d,this.g.fd("9",this.C,this));this.M=0;this.H=b}v(zp,yp);zp.prototype.C=function(a){a&&this.dispatchEvent(new up("u",a))};zp.prototype.I=function(a){1!=a.j.g&&1==a.g.g?this.dispatchEvent(new up("r")):3<=a.g.g&&this.dispatchEvent(new up("e"))};zp.prototype.o=function(a,b,c,d,e){b=["p",jc(b)];Ap(this,b,"/docos/p/"+a,c,d,e)};
function Ap(a,b,c,d,e,f){b=vd(b.concat("reqid",a.M++));c=Kk(Zn(a.A,c).o(a.D),b);a.H&&Jk(c);f?Pk(c,f):Pk(c,3);d&&Qk(c,function(a){d(a.Ja())});e&&Mk(c,e);null!=a.B&&(c.ga=a.B);Rk(c)}zp.prototype.G=function(){this.g&&this.g.fe("9",this.C,this);delete this.j;zp.J.G.call(this)};function Bp(a,b){this.seq=Cp++;this.type=a;this.payload=b||null;this.rseq=0}var Cp=1;function Dp(a){J.call(this);this.g=a;this.g.Ma("recv",r(this.B,this),!0);this.g.Ma("recvEvt",r(this.A,this),!0);this.j={}}v(Dp,yp);Dp.prototype.B=function(a){var b=this.j[a.rseq];b&&(b(a.payload),delete this.j[a.rseq])};Dp.prototype.A=function(a){this.dispatchEvent(new up(a.type,a.payload))};Dp.prototype.o=function(a,b,c){a=new Bp(a,b);c&&(this.j[a.seq]=c);this.g.send("send",a)};Dp.prototype.G=function(){Dp.J.G.call(this);delete this.g};function Ep(a){F.call(this);this.o=a}v(Ep,F);Ep.prototype.g=null;Ep.prototype.j=null;
function Fp(a){if(a.g)return a.g;var b=xh(a.o),c=b.$d;if(n(c))return c&&(a.g=new vp(c),G(a,a.g)),a.g;if(b.wf){var d=Th(),c=new Yn(new sm,void 0,void 0,void 0,new tm,void 0,void 0,new io(d)),e=b.xf;e&&(c.j.o=e);var f=b.Og;f&&bo(c,f);b.Kf&&Dn(c.j,"anon","true");(f=b.$f)&&Dn(c.j,"invite",f);f=null;if(b.vf){var f=new ok,g=b.Lg.getId();f.Pe=g;var g=c.o,l=f;g.g=l;var p=r(g.B,g);l.C=p;null!=l.g&&l.C(l.g);l.fd("tfe_changed",g.j.A,g.j);g.A();rk(f,b.Zd,d,e)}b=new zp(c,!0,["id",b.Zd],f,null!=b.be?b.be:void 0);
G(b,c);G(b,f);a.g=new vp(b);G(a,a.g);G(a,b);return a.g}b=b.og;if(!b)throw Error("Peer missing.");c={};d=new ci(window.location.href);(e=d.j.get("docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new ci(b)).toString());d=Th();b=qi(new ci(b),"ctoken",d).toString();c.pu=b;a.j=document.createElement("div");a.j.style.display="none";document.body.appendChild(a.j);b=new lp(c);pp(b,a.j);b.connect();b=new mo(b);c=rh(a.o,"errorReporter");b=new xp(b,d,c);c=new Dp(b);a.g=new vp(c);G(a,a.g);G(a,
c);G(a,b);return a.g}Ep.prototype.G=function(){delete this.g;this.j&&(document.body.removeChild(this.j),this.j=null);Ep.J.G.call(this)};function Gp(){};function Hp(a,b,c,d,e,f){this.type=a;this.o=b;this.j=c;this.A=d;this.B=e;this.g=f;this.type=this.type;this.anchors=this.o;this.docos=this.j;this.nonAnchored=this.A;this.userInitiated=this.B;this.args=this.g}qa("docos.Event",Hp,void 0);function Ip(a,b){Hp.call(this,a,[],[],!1,!1,new Gp);this.interval=this.v=b}v(Ip,Hp);function Jp(a){F.call(this);this.Ze=a;this.bd=[]}v(Jp,F);Jp.prototype.G=function(){Jp.J.G.call(this);for(var a,b;b=this.bd.pop();)(a=this.bd.pop())&&!a.isDisposed()&&a.rb(b);delete this.Ze;delete this.bd};function Kp(a,b){J.call(this);this.g=a;this.C=b;this.o=new V(this);G(this,this.o);this.j=a.get("netIo");this.A=!0;this.B=new Jp(this);G(this,this.B);this.o.listen(this.j,"r",this.yk).listen(this.j,"u",this.Fk).listen(this.j,"e",this.uk);this.o.listen(yh(a),["cd","dd"],this.zi);b=rh(a,"action_registry");if(!b){b=new Yf;for(var c=Bb(Xf),d=0;d<c.length;d++){var e=b,f;f=c[d];var g={};g.label=f;g.visible=!0;g.hint=f;g.enabled=!0;f=new nf(f,g);var g=e,l=f;g.hd[l.getId()]||(g.hd[l.getId()]=l,g.dispatchEvent(new Vf(l)));
g.ad[l.getId()]=l;G(e,f)}a.Ma("action_registry",b)}a=this.B;b=b.ad["docos-update-notification-settings"]||b.hd["docos-update-notification-settings"]||null;if(!b)throw Error("Action not registered for id docos-update-notification-settings");c=gf(b.j.g,Pe.toString(),this.vk,a.Ze);a.bd.push(b,c+1E6)}v(Kp,J);k=Kp.prototype;k.Me=null;k.Pb=null;k.Ke=null;k.Ha=function(a){if(this.Pb)return this.Pb;this.Pb=new T;this.Gg(a);return this.Pb};function Lp(a,b,c){b?a.Pb.R(null):a.Pb.K(n(c)?c:null);a.Pb=null}
k.Gg=function(a){for(var b=yh(this.g),c=Qh(b),d=[],e=0;e<c.length;e++){d.push(Fc(c[e].g));var f=c[e].getId();pb(b.A,f)}b=new gd;wc(b,1,d);this.Ke&&C(b,2,this.Ke);wp(this.j,"sync",b,r(this.tk,this),r(this.sk,this),a?a:void 0)};k.sk=function(){this.A=!1;Lp(this,!0)};k.uk=function(){this.dispatchEvent("net-error")};
k.tk=function(a){var b=this.A;this.A=!1;var c;if(b){c=t();var d=Mp(this.C,"model-loaded");d&&d(new Hp("model-loaded",[],[],!1,!1,new Gp))}d=yh(this.g);try{Np(this,a,b),this.Ke=B(a,2),Rh(d)?Ci(r(this.Gg,this)):Lp(this,!1,b?t()-c:void 0)}catch(e){throw Ci(function(){throw e;}),e;}};
function Np(a,b,c){var d=yh(a.g),e=Ib(d.g);Lb(e,d.j);for(var f=!1,g=uc(b,Tc,1),l=0;l<g.length;l++){var f=!0,p=Fc(uc(b,Tc,1)[l]),u=Uc(p),w=Nh(d,u.getId(),B(u,11));if(w){delete e[w.getId()];var z=w.getId();if(nb(d.A,z))continue;z=w.getId();if(nb(d.D,z)){if(w.Ba()){Op(a,w);continue}z=w.getId();pb(d.D,z)}C(p,9,!1);C(u,12,!1);n(B(u,13))||C(u,13,0);for(var w=Ib(w.j),z=Sc(Uc(p)),da=0;da<z.length;da++){var Z=Sc(u)[da];C(Z,12,!1);n(B(Z,13))||C(Z,13,0);delete w[Z.getId()||""];delete w[B(Z,11)||""]}var z=[],
na;for(na in w)z.push(Pp(Fc(w[na].g)));w=Sc(u);wc(u,8,qb(w,z))}Lh(d,new Ch(p),"n")}b=Qh(d);for(l=0;l<b.length;l++)g=b[l],g.Ba()&&!n(g.o.g.getId())&&Op(a,g);if(c)for(na in e)w=e[na],Bh(w)||!n(w.o.g.getId())&&!w.Ba()||(f=!0,a=Fc(w.g),Uc(a),c=Uc(a),wc(c,8,[]),l=t(),C(c,13,l),C(c,12,!1),C(a,9,!1),Lh(d,new Ch(a),"n"));f&&Sh(d)}function Op(a,b){a=yh(a.g);var c=Fc(b.g),d=Uc(c);C(c,9,!1);C(d,12,!1);b=b.getId();pb(a.A,b);Lh(a,new Ch(c),"n")}function Pp(a){var b=t();C(a,13,b);C(a,12,!1);return a}
k.yk=function(){var a=12E4*Math.random();null===this.Me||Di(this.Me);this.Me=Ci(function(){this.Ha(xh(this.g).ye?1:void 0)},a,this)};k.Fk=function(a){if(a.Ua){var b=a.Ua;a=yh(this.g);for(var c=0,b=uc(b,Tc,1),d=0;d<b.length;d++){var e=Fc(b[d]),f=Uc(e),f=Nh(a,f.getId(),B(f,11));f&&f.cb()||(Lh(a,new Ch(e),"n"),c++)}0<c&&Sh(yh(this.g))}};k.zi=function(a){"n"!=a.source&&Mh(yh(this.g))&&this.Ha()};
k.vk=function(a){a=a.data.le();var b=xh(this.g),c=new Zc;c.Vc(a.ac());var d=a.Zb();C(c,3,d);d=a.dc();C(c,4,d);d=a.ec();C(c,5,d);C(c,6,a.Kd);E(b.g,7,c);b=new Zc;b.Vc(a.ac());c=a.Zb();C(b,3,c);c=a.dc();C(b,4,c);c=a.ec();C(b,5,c);C(b,6,a.Kd);a=new $c;E(a,1,b);wp(this.j,"uc",a)};k.G=function(){Kp.J.G.call(this);delete this.g;delete this.o;delete this.B};function Qp(a,b,c){this.v=a;this.o=b;this.g=c;this.A=new V(this);G(this,this.A);this.j=null;this.B=!1}v(Qp,F);function Rp(a){var b=a.v;if(!b.j.netIo&&!b.A.netIo)return!1;a.j=new Kp(a.v,a.g);G(a,a.j);a.A.listen(a.j,"net-error",a.zk);return!0}k=Qp.prototype;k.zk=function(){Sp(this.g,"fe")};function Tp(a){a.B=!0;fh(a.j.Ha(a.o.D?1:void 0).T(a.ig,a).T(a.Kg,a),a.rk,a)}k.Ha=function(){if(Ie(this.o)){if(!this.B){if(!this.j&&!Rp(this))return;Tp(this)}this.j.Ha(this.o.ye?1:void 0).T(this.Kg,this)}};
k.ig=function(a){var b=Mp(this.g,"sync-success");b&&b(new Hp("sync-success",[],[],!1,!1,new Gp));(b=Mp(this.g,"initial-anchored-render-done"))&&null!==a&&b(new Ip("initial-anchored-render-done",a));Sp(this.g,"s");Sp(this.g,"r")};k.Kg=function(){var a=Mp(this.g,"unread-comments");a&&a(new Hp("unread-comments",[],[],!0,!0,new Gp))};k.rk=function(){var a=Mp(this.g,"sync-error");a&&a(new Hp("sync-error",[],[],!1,!1,new Gp));Sp(this.g,"e")};function Up(a,b,c){this.key=a;this.data=b;this.g=c;this.key=this.key;this.data=this.data;this.dirty=this.g}qa("docos.api.StorageUpdate",Up,void 0);function Vp(a,b){if(a){b||a.unshift(void 0);Wp(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Xp(c[2],b),Vp(c[3],b),b&&c.shift());b&&a.shift()}}function Xp(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Wp(a,b){if(a){b||a.unshift(void 0);Xp(a[3],b);Xp(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Wp(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Yp(a){F.call(this);this.g=a;this.j=xh(a).o;this.v=[];this.o=[];xh(a).C||(this.A=new V(this),G(this,this.A),this.A.listen(yh(a),["f","cd","dd"],this.Ai))}v(Yp,F);k=Yp.prototype;
k.Ai=function(a){if("o"!=a.source&&this.j)if("f"==a.type){if(this.v.length||this.o.length){var b=rb(this.v),c=rb(this.o);this.j.F(b,c,r(this.Bi,this,b),r(this.dk,this,c));this.v=[];this.o=[]}}else if(b=a.j,c=a.g,b)if((a="cd"==a.type?yh(this.g).g[b]:yh(this.g).j[b])&&a.Ba()&&!n(a.o.g.getId()))this.o.push(b);else if(a&&!Bh(a)){var d=vc(Fc(a.g)),d=Jb(d);Vp(d,!1);a=new Up(b,d,a.cb());this.v.push(a);c&&c!=b&&this.o.push(c)}};k.Bi=function(a){for(var b=0;b<a.length;b++);};
k.dk=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Zp(this,d,c)};k.wj=function(a,b){if(0<b.length){for(var c=yh(this.g),d=0;d<b.length;d++){wa(b[d]);var e=Jb(b[d]);Vp(e,!0);e=new Tc(e);Lh(c,new Ch(e),"o")}Sh(c)}a()};k.vj=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Zp(this,d,c);a()};
function Zp(a,b,c){if(a=rh(a.g,"errorReporter"))c&&n(c.message)?(c.message=b+"  Original message: "+c.message,a.Lb(c)):a.Lb(Error(b))}k.G=function(){Yp.J.G.call(this);delete this.g;delete this.A;delete this.j};function $p(a){this.g=new wh;this.o=new He(a||{});this.g.Ma("config",this.o);this.D=new Kh(this.o);this.g.Ma("stream",this.D);this.B=new Yp(this.g);G(this,this.B);this.F=new Qp(this.g,this.o,this);this.j=Mg();this.v={};this.v.s=this.j.resolve.bind(this.j);this.v.e=this.j.reject.bind(this.j);this.A=new Ep(this.g);G(this,this.A);this.C=new V(this);G(this,this.C)}v($p,F);function Mp(a,b){return a.isDisposed()?null:a.o.B[b]||null}function Sp(a,b){var c=a.v[b];c&&c();a.v[b]=null}
$p.prototype.Ha=function(){return aq(this).then(function(){var a=Fp(this.A);this.g.Ma("netIo",a);a=this.F;Ie(a.o)?a.o.j?Sp(a.g,"r"):Rp(a)&&Tp(a):a.ig(null);return this.j.g}.bind(this))};function aq(a){return new S(function(a,c){var b=this.B;b.j?b.j.v(r(b.wj,b,a),r(b.vj,b,c)):c()}.bind(a))}function bq(a){var b=new $p(a);return Pg(b.Ha(),function(){b.X()})};function cq(a,b){this.j=a;this.g=b}cq.prototype.V=h("j");function dq(a,b){b.push(a);for(var c=0;c<a.length;c++)if(wa(a[c])){if(nb(b,a[c]))throw Error("Circular reference detected");dq(a[c],b)}b.pop()}function eq(a,b,c){if(a.length!=b.length)return!1;c=c||wb;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(wa(a[d])&&wa(b[d])){if(!eq(a[d],b[d],c))return!1}else return!1;return!0};function fq(a,b){if(a==b)return!0;if(!Aa(a)||!Aa(b))return!1;var c=Cb(a);if(c.length!=Cb(b).length)return!1;for(var d=gq||wb,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function gq(a,b){return a===b?!0:wa(a)&&wa(b)?vb(a,b,gq):Aa(a)&&Aa(b)?fq(a,b):!1}function hq(a,b){b.push(a);for(var c in a)if(Aa(a[c])){if(nb(b,a[c]))throw Error("Circular reference detected");hq(a[c],b)}b.pop()};function iq(a,b){F.call(this);this.C=a;this.g={};this.A={};this.D=b||!1;this.j=!this.D}v(iq,F);k=iq.prototype;k.qb=!1;k.eb=function(){return this.D||!Hb(this.A)};function jq(a){a.eb();a.qb=!0}function kq(a,b){a=lq(a,b);return null==a?null:Jb(a)}function mq(a,b){a=nq(a,b);return null==a||0==a?null:a}function nq(a,b){a=lq(a,b);return null==a?null:a}function oq(a,b){a=lq(a,b);return null==a?null:a}function pq(a,b){return null==lq(a,b)?null:""!=a.g[b]}function qq(a,b,c){Y(a,b,c?"true":"")}
function rq(a,b){a=lq(a,b);return null==a?null:Jb(a)}function lq(a,b){a=a.g[b];return null!=a?a:null}function Y(a,b,c){if(Aa(c)&&!wa(c))return hq(c,[]),null!=a.g[b]&&gq(a.g[b],c)||(c=Jb(c),a.g[b]=c,a.j||(a.A[b]=c)),a;if(wa(c))return dq(c,[]),hq(c,[]),null!=a.g[b]&&eq(a.g[b],c)||(c=Jb(c),a.g[b]=c,a.j||(a.A[b]=c)),a;a.g[b]!=c&&(a.g[b]=c,a.j||(a.A[b]=c));return a}function sq(a,b,c,d){var e=a.g,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.j||(a=a.A,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}
k.Ac=function(){this.A={};this.D=!1};k.$b=ca(null);k.G=function(){iq.J.G.call(this);delete this.g;delete this.A};function tq(a,b,c){iq.call(this,"comment",c);Y(this,"di",a);Y(this,"i",b);Y(this,"s",1)}v(tq,iq);tq.prototype.$b=function(){return new cq(this.g.di,2)};tq.prototype.getId=function(){return this.g.i};function uq(a,b,c,d){F.call(this);this.A=a;this.H=b;this.o=c;this.j=d||null;this.g=null}v(uq,F);uq.prototype.v=function(a,b){this.g?this.B(a):(a=r(this.B,this,a),vq(this.A,this.o,r(this.C,this,a),wq(b)))};uq.prototype.getAll=uq.prototype.v;uq.prototype.B=function(a){var b=[],c;for(c in this.g)b.push(kq(this.g[c],"da"));a(b)};uq.prototype.C=function(a,b){if(!this.g){this.g={};for(var c=0;c<b.length;c++)this.g[b[c].getId()]=b[c]}a()};
uq.prototype.F=function(a,b,c,d){this.g?this.D(a,b,c,d):(a=r(this.D,this,a,b,c,d),vq(this.A,this.o,r(this.C,this,a),wq(d)))};uq.prototype.writeAll=uq.prototype.F;
uq.prototype.D=function(a,b,c,d){c=nd(c);d=wq(d);for(var e=[],f=0;f<a.length;f++){var g=a[f],l=this.g[g.key];l||(l=new tq(this.o,g.key,!0),this.g[g.key]=l);Y(l,"da",g.data);Y(l,"s",g.dirty?2:1);e.push(l);this.j&&(xq(this.j,g.dirty?t():null),e.push(this.j))}for(f=0;f<b.length;f++)if(a=b[f],g=this.g[a])jq(g),e.push(g),delete this.g[a];this.H.write(e,c,d)};function wq(a){return function(b){a(Om(b),b.ub)}};function yq(a){this.g=a}yq.prototype.Ha=function(a,b,c,d,e,f){var g={},l=new uq(b,c,a);g.storage=l;g.so=!0;g.kd=d;var p=new zp(this.g,!1,["id",a]);g.i=p;return Pg(bq(g).then(e,f),function(){l.X();p.X()})};function zq(a){A(this,a,0,-1,null)}v(zq,y);function Aq(a){A(this,a,0,-1,Bq)}v(Aq,y);var Bq=[2,3,4];function Cq(a){A(this,a,0,-1,null)}v(Cq,y);Cq.prototype.getId=function(){return B(this,1)};function Dq(a){A(this,a,0,-1,null)}v(Dq,y);Dq.prototype.L=function(){return B(this,1)};function Eq(a){A(this,a,0,-1,null)}v(Eq,y);Eq.prototype.L=function(){return B(this,1)};function Fq(a){A(this,a,0,-1,null)}v(Fq,y);function Gq(a){A(this,a,0,-1,null)}v(Gq,y);Gq.prototype.V=function(){return B(this,1)};Gq.prototype.mb=function(){return B(this,4)};function Hq(a){A(this,a,0,-1,Iq)}v(Hq,y);var Iq=[1];Hq.prototype.mb=function(){return B(this,2)};function Jq(a){A(this,a,0,-1,null)}v(Jq,y);function Kq(a){A(this,a,0,-1,null)}v(Kq,y);Kq.prototype.L=function(){return B(this,1)};function Lq(a){A(this,a,0,-1,null)}v(Lq,y);function Mq(a){A(this,a,0,-1,null)}v(Mq,y);Mq.prototype.L=function(){return B(this,2)};function Nq(a){A(this,a,0,-1,null)}v(Nq,y);function Oq(a){A(this,a,0,-1,Pq)}v(Oq,y);var Pq=[1];function Qq(a){this.g=a}function Rq(a){var b=new Kq;C(b,1,5);return a.g.send(b).then(function(a){return D(a.message,Oq,4)})};function Sq(a){this.g=a}function Tq(a){var b=new Kq;C(b,1,2);return a.g.send(b).then(function(a){return D(a.message,Nq,3)})};function Uq(a){A(this,a,0,-1,null)}v(Uq,y);Uq.prototype.L=function(){return B(this,1)};function Vq(a){A(this,a,0,1,null)}v(Vq,y);var Wq={};function Xq(a){A(this,a,0,-1,null)}v(Xq,y);var Yq=new pc(100413133,{nt:0},Xq,function(a,b){var c={gd:B(b,1)};a&&(c.sb=b);return c});Wq[100413133]=Yq;function Zq(a){A(this,a,0,-1,null)}v(Zq,y);var $q=new pc(101605819,{ot:0},Zq,function(a,b){var c={gd:B(b,1)};a&&(c.sb=b);return c});Wq[101605819]=$q;function ar(a){A(this,a,0,-1,null)}v(ar,y);
var br=new pc(100922934,{it:0},ar,function(a,b){var c={gd:B(b,1)};a&&(c.sb=b);return c});Wq[100922934]=br;function cr(a){A(this,a,0,-1,null)}v(cr,y);Wq[108529910]=new pc(108529910,{st:0},cr,function(a,b){var c={};a&&(c.sb=b);return c});function dr(a){A(this,a,0,-1,null)}v(dr,y);function er(a,b){var c={};a&&(c.sb=b);return c}Wq[102041228]=new pc(102041228,{rt:0},dr,er);Wq[140441684]=new pc(140441684,{tt:0},dr,er);function fr(a){A(this,a,0,-1,null)}v(fr,y);
Wq[122453513]=new pc(122453513,{ut:0},fr,function(a,b){var c={vt:B(b,1),kt:B(b,2)};a&&(c.sb=b);return c});function gr(a){A(this,a,0,-1,hr)}v(gr,y);var hr=[1],kr=new pc(113007630,{gt:0},gr,function(a,b){var c={et:sc(uc(b,ir,1),jr,a)};a&&(c.sb=b);return c});Wq[113007630]=kr;function ir(a){A(this,a,0,1,null)}v(ir,y);
function jr(a,b){var c={},d=lr,e=ir.prototype.Ae,f;for(f in d){var g=d[f],l=e.call(b,g);if(l){for(var p in g.Hf)if(g.Hf.hasOwnProperty(p))break;c[p]=g.Ne?g.gk?sc(l,g.Ne,a):g.Ne(a,l):l}}a&&(c.sb=b);return c}var lr={};function mr(a){A(this,a,0,-1,nr)}v(mr,y);var nr=[3],or=new pc(112987886,{jt:0},mr,function(a,b){var c={ht:B(b,1),ef:B(b,2),qt:B(b,3)};a&&(c.sb=b);return c});lr[112987886]=or;mr.prototype.V=function(){return B(this,1)};function pr(a,b,c){I.call(this,b,a);this.data=c}v(pr,I);function qr(a){J.call(this);this.j=!1;this.g=null;this.A=new V(this);G(this,this.A);this.B=a;this.o=new mn;G(this,this.o)}v(qr,J);qr.prototype.connect=function(){this.j||(this.j=!0,this.g=this.B.g,this.A.listen(this.g,"message",this.C.bind(this)),this.g.start())};function rr(a,b){if(!a.j)throw Error("Trying to publish without connecting first.");var c=new Uq;C(c,1,1);E(c,2,b);a.g.postMessage(vc(c))}
qr.prototype.C=function(a){this.o.tb(r(function(){var b=new Vq(a.g.data),c;a:{for(var d in Wq)if(c=Wq[Number(d)],b.Ae(c))break a;c=null}c&&(d="J_"+c.g,b=b.Ae(c),this.dispatchEvent(new pr(this,d,b)))},this),0)};qr.prototype.G=function(){if(this.g){var a=new Uq;C(a,1,0);this.g.postMessage(vc(a));this.g.close()}qr.J.G.call(this)};function sr(a){this.g=a};function tr(a){this.g=a}function ur(a){new MessageChannel;var b=new Kq;C(b,1,1);return a.g.send(b).then(function(a){a=new qr(new sr(a.ports[0]));a.connect();return a})};function vr(a){this.g=a};function wr(){}wr.prototype.ia=function(a){return a?[a.g]:null};function xr(a){return a?new vr(a[0]):null};function yr(a,b,c,d,e,f){this.g=a;this.v=c;this.A=d;this.o=e;this.j=f||0}yr.prototype.xa=h("A");function zr(){F.call(this);this.g=[]}v(zr,F);zr.prototype.j=!1;function Ar(a,b){for(var c=0;c<a.g.length;++c){var d=b,e=a.g[c];a.j&&(d.g=[],d.j=!0);d.g.push(e);a.j=!1}a.g=[]}function Br(a){var b=a.g;a.g=[];a.j=!1;return b}zr.prototype.aa=function(){return 0==this.g.length};zr.prototype.G=function(){zr.J.G.call(this);delete this.g};function Cr(a,b,c,d){iq.call(this,"document",c);this.v=d||null;this.o=new zr;this.B=new wr;Y(this,"id",a);Y(this,"documentType",b)}v(Cr,iq);var Dr=[0,1,4,2,3];k=Cr.prototype;k.getId=function(){return this.g.id};k.Xa=function(){return oq(this,"title")};k.L=function(){return this.g.documentType};function Er(a,b,c){Y(a,"rev",b);Y(a,"rai",a.B.ia(c))}k.tc=function(a){qq(this,"lss",a)};k.rc=function(a){Y(this,"lsft",a)};function Fr(a,b){Y(a,"lastModifiedServerTimestamp",b)}
function Gr(a,b){Y(a,"docosKeyData",b)}function xq(a,b){Y(a,"lastModifiedClientTimestamp",b)}k.$b=function(){var a=this.o.aa();if(a&&!this.qb)return Cr.J.$b.call(this);a=a?1:2;return new cq(this.getId(),a)};function Hr(a,b){Y(a,"modelVersion",b)}function Ir(a,b){Y(a,"relevancyRank",b)}function Jr(a,b){Y(a,"lastServerSnapshotTimestamp",b)}function Kr(a,b){Y(a,"snapshotState",b)}function Lr(a,b){Y(a,"pendingQueueState",b)}function Mr(a){return nq(a,"pendingQueueState")}
k.eb=function(){return Cr.J.eb.call(this)||!this.o.aa()};k.G=function(){delete this.v;this.o.X();delete this.o;Cr.J.G.call(this)};function Nr(a,b){I.call(this,"M",b);this.g=a}v(Nr,I);function Or(a,b,c){this.g=a;this.ef=b;this.j=c}var Pr={uh:"new",bi:"update",Vg:"delete"};function Qr(a,b){F.call(this);this.j=b;this.g=new V(this);G(this,this.g);this.g.listen(a,"M",this.o)}v(Qr,F);
Qr.prototype.o=function(a){var b=[];a=a.g;for(var c=0;c<a.length;c++){var d=a[c];switch(d.g.C){case "document":var e=b,f=d,d=new mr,g=f.g.getId();C(d,1,g);a:switch(g=f.ef,g){case "new":g=1;break a;case "update":g=2;break a;case "delete":g=3;break a;default:throw Error("Could not handle change type "+g);}C(d,2,g);g=[];f=f.j;Db(f,"ip")&&g.push(1);Db(f,"lastModifiedClientTimestamp")&&g.push(2);(Db(f,"lsst")||Db(f,"lsft")||Db(f,"lss"))&&g.push(3);Db(f,"pendingCreation")&&g.push(4);Db(f,"title")&&g.push(5);
C(d,3,g||[]);if(2!=B(d,2)||B(d,3).length)f=new ir,f.Ed(or,d),e.push(f)}}b.length&&(a=new gr,wc(a,1,b),b=new Vq,b.Ed(kr,a),rr(this.j,b))};function Rr(a){this.g=a};function Sr(a){this.g=a}Sr.prototype.L=h("g");function Tr(a){this.g="offline-oc";this.j=a}v(Tr,Sr);Tr.prototype.Ja=h("j");function Ur(){}Ur.prototype.ia=function(a){if("offline-oc"!=a.L())throw Error("Invalid Type");return a.Ja()};function Vr(a){this.o=a}Vr.prototype.L=h("o");function Wr(a){a=a.L();return"update-record"==a||"delete-record"==a};function Xr(a,b,c){this.o=a;this.B=b;this.C=c}v(Xr,Vr);Xr.prototype.V=h("B");function Yr(a,b,c,d,e){Xr.call(this,"append-commands",a,b);this.v=c;this.g=d;this.A=e}v(Yr,Xr);Ha(aa().prototype,aa().prototype);function Zr(a){for(var b=[],c=0;c<a.length;c++)b.push(new Tr(a[c]));return b};function $r(a){this.g=a||{cookie:""}}var as=/\s*;\s*/;k=$r.prototype;k.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');n(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(t()+1E3*c)).toUTCString();this.g.cookie=a+"="+b+e+d+c+f};
k.get=function(a,b){for(var c=a+"=",d=(this.g.cookie||"").split(as),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};k.ta=function(){return bs(this).keys};k.fa=function(){return bs(this).values};k.aa=function(){return!this.g.cookie};k.ba=function(){return this.g.cookie?(this.g.cookie||"").split(as).length:0};k.xb=function(a){for(var b=bs(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
function bs(a){a=(a.g.cookie||"").split(as);for(var b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var cs=new $r("undefined"==typeof document?null:document);cs.j=3950;function ds(a){this.g={};this.o=a||cs;this.setTime=this.j;this.incrementTime=this.v;this.setServerValues=this.A}ua(ds);ds.prototype.j=function(a){es(this,a,t())};ds.prototype.getTime=function(a){a=this.g[a];return null!=a?a:null};ds.prototype.v=function(a,b){null!=this.g[a]||(this.g[a]=0);this.g[a]+=b};function es(a,b,c){if(null!=a.g[b])throw Error("Field "+b+" is already set.");a.g[b]=c}function fs(a,b){for(var c in b)es(a,c,b[c])}
ds.prototype.A=function(a){uf(K(),"icso")||(a&&fs(this,a),a=this.o.get("GFE_RTT"),isFinite(a)&&(a=String(a)),a=q(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN,isNaN(a)||es(this,"gfertt",a),a=this.o,a.get("GFE_RTT"),a.set("GFE_RTT","",0,"/",".docs.google.com"),es(this,"sldummy",0))};m._getTimingInstance=ds.Fa;m._docsTiming=ds;function gs(a){this.$a=a;this.g=ds.Fa()}v(gs,F);gs.prototype.vd=function(a,b){var c=t();a=Zr(a);b&&(b=t()-c,this.g.v("md",b));return a};function hs(){F.call(this);ds.Fa()}v(hs,F);function is(a,b){F.call(this);this.Pa=a;this.$a=b;this.oi=new gs(this.$a);this.rg=new hs}v(is,F);is.prototype.Qa=h("Pa");is.prototype.vd=function(a,b){return this.oi.vd(a,b)};is.prototype.Vd=function(a){if(a.qb)return[];var b=new zr;Ar(a.o,b);if(b.aa())return[];var c=b.j;return[new Yr(a.getId(),a.L(),Br(b),!1,c)]};function js(a){F.call(this);this.g=a}v(js,F);js.prototype.xa=function(){return this.g.c||null};js.prototype.V=function(){return this.g.dcKey[0]};function ks(a,b,c,d,e,f){var g={};g.dcKey=[a,b,c,d];g.t=e;f&&(g.c=f);return new js(g)}function ls(a,b){return null!=b?[a,b,[]]:[a,[]]}js.prototype.G=function(){delete this.g;js.J.G.call(this)};function ms(a,b,c){F.call(this);this.rg=c}v(ms,F);function ns(a,b,c,d){is.call(this,a,d);this.kk=b;this.Fi=c;new ms(0,0,this.rg)}v(ns,is);ns.prototype.va=function(a,b){switch(a.L()){case "append-commands":if(a.A){var c=r(this.g,this,a,b);b=a.g?W(b,"DocumentCommandsStaging"):W(b,"DocumentCommands");a=a.V();Vm(b,[a],ls(a,void 0),c)}else this.g(a,b);break;default:throw Error("Unsupported operation type "+a.L());}};
ns.prototype.g=function(a,b){var c=W(b,"DocumentCommands");b=a.g?W(b,"DocumentCommandsStaging"):c;for(var c=a.v,d=0;d<c.length;++d){for(var e=b,f=a.V(),g=c[d],l=g.xa(),p=[],u=0;u<l.length;++u)p.push(this.$a.ia(l[u]));f=ks(f,g.o,g.g,g.j,g.v,p);os(e,f.g)}};function ps(a,b){this.o="document-lock";this.g=a;this.v=b}v(ps,Vr);ps.prototype.V=h("g");function qs(a){J.call(this);this.g=a;a.F=this;this.j=!1}v(qs,J);qs.prototype.fc=function(){return this.g.fc()};qs.prototype.Jb=function(){return this.g.Jb()};qs.prototype.write=function(a,b,c){if(!this.j)throw Error("Cannot write to read-only local store.");var d=rs(a);a=ss(this,a);0==a.length?b():ts(this.g,a,r(function(){this.dispatchEvent(d);b()},this),c)};function rs(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Pr;b.push(new Or(d,d.D?e.uh:d.qb?e.Vg:e.bi,d.A))}return new Nr(b)}
function ss(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.eb()||f.qb){var g=a.g.C[f.C]||null;if(g){g=g.j(f);c=c.concat(g);if((g=f.$b())&&d){if(d.V()!=g.V())throw Error("Cannot compare two requirements with different doc id.");d=d.g>g.g?d:g}else d=d||g;f.Ac();f.eb()}else throw Error("No Capability for record :"+f.C);}}d&&c.unshift(new ps(d.V(),d.g));return c};wf(K(),"docs-csi-reporting-uri-override");function us(){var a;try{a=m.localStorage.getItem("docs-oiouid")}catch(b){a=null}return wf(K(),"docs-offline-lsuid")==a};function vs(a){this.o=a;this.g={};this.j=!1}function ws(a,b){delete a.g[b.getId()]};function xs(){}xs.prototype.init=ta;xs.prototype.g=ta;xs.prototype.log=ta;function ys(a){this.v=a||t;this.g={};this.o=new xs;this.j={};this.saveInitialLoadStats=this.B;this.getInitialLoadStats=this.A}ua(ys);ys.prototype.B=function(a,b){b=this.j=b;var c=[],d;for(d in b)c.push([d,b[d]]);this.o.g(a,c)};ys.prototype.A=function(){return jc(this.j)};function zs(a,b,c){var d="goog_"+gb++;a.g[d]={startTime:a.v(),Mi:b,ll:!!c,sf:null};return d}function As(a,b){var c=a.g[b];c&&(a.o.log(c.Mi,a.v()-c.startTime,c.ll,null!=c.sf?c.sf:void 0),delete a.g[b])}
function Bs(a,b){a.g[b]&&delete a.g[b]};function Cs(a,b,c,d){F.call(this);this.F=a;this.B=b;this.o=c;this.A=d||t;this.v=this.j=0;this.g=[]}v(Cs,F);Cs.prototype.start=function(){if(this.v)throw Error("Idle delay has already been started");this.v=this.A()+this.B;this.j=Ci(this.C,this.B,this)};Cs.prototype.C=function(){this.j=0;var a=this.A()-this.v;this.g.push(a);var b=this.o.hidden||this.o.webkitHidden||this.o.mozHidden||this.o.msHidden?1020:20;10>this.g.length&&a>b?(this.v=this.A()+1E3,this.j=Ci(this.C,1E3,this)):this.F(this)};
Cs.prototype.G=function(){this.j&&Di(this.j)};function Um(a,b,c,d,e,f,g,l,p){this.W=a;this.o=b;this.D=c;this.I=d;this.P=e;a=e.v++;e.g[a]=c;this.N=a;this.A=this.F=null;this.C=f||null;this.B=ys.Fa();this.j=p?zs(this.B,p):null;this.H=l||0;this.g=null;0<this.H&&(this.C||g)&&(this.g=new Cs(r(this.O,this),this.H,document),this.g.start());this.W.onsuccess=zn(this.o,this.Y,this,!0);this.W.onerror=zn(this.o,this.U,this,!0)}function Xm(a,b){if(a.F)throw Error("Success callback already set");a.F=b}
Um.prototype.Y=function(a){H(this.g);this.j&&As(this.B,this.j);var b=this.P,c=this.N;b.o++;delete b.g[c];this.I.g||this.F&&this.F(a)};function Ds(a,b){if(a.A)throw Error("Error callback already set");a.A=b}Um.prototype.U=function(a){H(this.g);this.j&&Bs(this.B,this.j);var b=this.P,c=this.N;b.j++;delete b.g[c];a.target.docs_requestContext=this.D;this.I.g||(b=a.target.error)&&"AbortError"==b.name||this.A&&this.A(a)};Um.prototype.M=function(a){a.onsuccess=ta;a.onerror=ta};
Um.prototype.O=function(){this.j&&Bs(this.B,this.j);yn(this.o,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.D,requestTimeoutMs:this.H,timeoutCallbackSet:!!this.C,timeoutDelays:this.g.g.concat().toString()});H(this.g);!this.I.g&&this.C&&(this.M(this.W),this.C())};function Es(){this.g={};this.v=this.o=this.j=0};function Fs(){this.j=this.o=this.g=!1};function Gs(a){try{m.localStorage.setItem("docs-ucb","1")}catch(b){yn(a,Error("Error setting unsaved changes bit in Local Storage: "+b.message))}}function Hs(a){try{var b=m.localStorage.getItem("docs-ucb")}catch(c){return yn(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function Is(a,b,c,d,e,f){Um.call(this,a,b,c,new Fs,new Es,d,!0,e,f);this.S=this.v=null;a.onblocked=zn(b,this.$,this,!0);a.onupgradeneeded=zn(b,this.ga,this,!0)}v(Is,Um);Is.prototype.$=function(a){H(this.g);this.v&&this.v(a)};Is.prototype.ga=function(a){H(this.g);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=us();b.requestContext=this.D;b.unsavedChanges=Hs(this.o);yn(this.o,Error("upgradeNeeded after dataLoss"),b)}this.S&&this.S(a)};
Is.prototype.M=function(a){Is.J.M.call(this,a);a.onblocked=ta;a.onupgradeneeded=ta};function Js(a,b){if(a.v)throw Error("Blocked callback already set");a.v=b}function Ks(a,b){if(a.S)throw Error("Upgrade needed callback already set");a.S=b};function Ls(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Ls.prototype.get=function(a){return new Um(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function Ms(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}Ms.prototype.get=function(a){return new Um(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function os(a,b){b=n(void 0)?a.g.put(b,void 0):a.g.put(b);return new Um(b,a.j,a.g.name+".put(undefined)",a.v,a.o)}function Ns(a,b){b=n(void 0)?a.g.add(b,void 0):a.g.add(b);new Um(b,a.j,a.g.name+".add(undefined)",a.v,a.o)}function Wm(a,b){return new Um(a.g["delete"](b),a.j,a.g.name+".delete("+b+")",a.v,a.o)}
Ms.prototype.count=function(a){var b=n(a)?this.g.count(a):this.g.count();return new Um(b,this.j,this.g.name+".count("+a+")",this.v,this.o)};function Tm(a,b){return new Ls(a.g.index(b),a.v,a.o,a.j)};function Os(a,b,c,d,e,f,g,l,p,u){this.Y=a;this.U=b;this.H=c;this.o=d;this.M=e;this.D=!1;this.A=!!g;this.F=this.C=null;this.j=new Fs;this.P=new Es;this.O=l||6E4;this.v=new Cs(r(this.Ii,this),this.O,document);this.W=p||null;this.S=ys.Fa();this.g=null;this.N=Ps++;this.B=f;this.I=n(u)?u:this.A?"idbrwt":"idbrot"}var Ps=0;k=Os.prototype;
k.open=function(){null!=this.I&&(this.g=zs(this.S,this.I,!0));var a=this.A?"readwrite":"readonly";this.v.start();a=this.Y.transaction(this.U,a);a.onabort=zn(this.o,this.nk,this);a.oncomplete=zn(this.o,this.qk,this);a.onerror=zn(this.o,this.Ji,this,!0);this.F=a;this.A&&(this.B.g[this.getId()]=this)};function Zm(a){a.j.j=!0;a.v.X();a.g&&(Bs(a.S,a.g),a.g=null);ws(a.B,a)}k.abort=function(a){Qs(this,!1,a)};
function Qs(a,b,c){var d=a.j;if(!d.o&&!d.g){Rs(a);d.g=!0;try{a.F.abort(),c&&!a.D&&(a.M(c),a.D=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=Ss(a),c.abortFromTimeout=b,yn(a.o,e,c))}a.v.X();ws(a.B,a)}}function W(a,b){Rs(a);return new Ms(a.F.objectStore(b),a.j,a.P,a.o)}function Ts(a,b){if(a.C)throw Error("Completion callback already set");a.C=b}k.Z=h("j");function Rs(a){if(!a.F)throw Error("Transaction does not exist");}
k.nk=function(a){this.j.j||(this.j.o=!0,this.g&&(Bs(this.S,this.g),this.g=null),ws(this.B,this),this.v.X(),this.j.g||(a.target.docs_internalAbort=!0,!this.A&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.C&&this.C():Us(this,"LocalStore IndexedDB transaction abort",Ss(this),a)))};k.qk=function(){this.j.j||(ws(this.B,this),this.g&&(As(this.S,this.g),this.g=null),this.v.X(),this.C&&this.C())};
k.Ji=function(a){a.stopPropagation();var b=this.j;if(!(b.j||b.o||b.g||(b=a.target.error,b&&"AbortError"==b.name))&&(b=Ss(this),b.request=a.target.docs_requestContext,Us(this,"LocalStore IndexedDB error",b,a),a=this.B,uf(tf.Fa(),"docs-ewtaoe")&&this.A)){delete a.g[this.getId()];var b=0,c;for(c in a.g){var d=Number(c);a.g[d].abort();delete a.g[d];b++}a.j=!0;yn(a.o,Error("Handled fatal error of transaction: "+this.getId()+" and aborted "+b+" transactions "))}};
function Us(a,b,c,d){b=b+" ("+a.H+"): "+$m(d);yn(a.o,Error(b),c);c=new Nm(1,b,d);a.D||(a.M(c),a.D=!0)}k.Ii=function(){if(!this.j.j){var a=Ss(this);a.transactionTimeout=this.O;a.timeoutDelays=this.v.g.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;yn(this.o,Error("A transaction was running for a long time ("+this.H+")"),a);this.v.X();this.W&&(Qs(this,!0),this.W(),this.F.oncomplete=null)}};k.getId=h("N");
function Ss(a){var b={transactionAllowWrite:a.A,transactionContext:a.H,transactionId:a.N,transactionObjectStores:a.U.toString()};a=a.P;var c=Bb(a.g);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.j;b.requestSuccessCount=a.o;return b};function Vs(a,b){I.call(this,"N",b)}v(Vs,I);function Ws(a,b){J.call(this);this.j=a;this.A=b;this.g=null;this.o=!1;this.B=new vs(b)}v(Ws,J);var Xs=m.indexedDB||m.webkitIndexedDB;Ws.prototype.C=function(){this.o=!0;this.close();this.dispatchEvent(new Vs)};Ws.prototype.close=function(){this.g&&(this.g.onversionchange=null,this.g.close(),this.g=null)};
function Ys(a,b){if(a.g)throw Error("IdbDocsDatabase already managing a database.");if(null!=b.onversionchange)throw Error("This database is being managed by another class.");b.onclose=r(function(){var a={};a.optinBackup=us();yn(this.A,Error("The database connection was closed."),a);this.dispatchEvent("K")},a);b.onerror=an("Database error.",a.j);b.onversionchange=r(a.C,a);a.g=b}function Zs(a){if(!a.g)return-1;a=parseInt(a.g.version,10);return 0<=a?a:-1}
function $s(a,b,c,d,e,f,g,l){if(!a.g)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");if(e&&a.B.j)throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");a=new Os(a.g,b,c,a.A,d||a.j,a.B,e,f,g,l);a.open();return a}
function at(a,b,c,d,e){if(Zs(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+Zs(a)+")");var f=a.g.name;a.close();var g=a.A;b=new Is(Xs.open(f,b),g,"setVersion database.open");Ks(b,function(a){a=a.target.transaction;a.onabort=a.onerror=zn(g,d,{},!0);c(a)});Ds(b,d);Js(b,function(a){yn(g,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});Xm(b,r(function(a){Ys(this,a.target.result);e(a)},a))}
Ws.prototype.G=function(){this.close();Ws.J.G.call(this)};var bt=m.indexedDB||m.webkitIndexedDB;function ct(a,b,c,d,e,f){e=e?function(){d(new Nm(6,"Timeout opening database."))}:void 0;var g=ds.Fa();f&&(g.j("odbs"),Ci(r(g.j,g,"odbjy")));e=new Is(bt.open("GoogleDocs"),c,"database.open",e,vf(K(),"docs-localstore-iort"),"idbodb");Xm(e,function(d){f&&g.j("odbc");var e=new Ws(b,c);Ys(e,d.target.result);a(e)});Ds(e,an("Error opening database.",d))};function dt(a,b){iq.call(this,"applicationMetadata",b);Y(this,"dt",a);this.v=[]}v(dt,iq);dt.prototype.o=!1;dt.prototype.Qa=function(){return this.g.dt};dt.prototype.Ac=function(){dt.J.Ac.call(this);this.o=!1};dt.prototype.eb=function(){return this.o||dt.J.eb.call(this)};function et(a,b,c,d){iq.call(this,"fontMetadata",d);a=Y(Y(this,"fontFamily",a),"version",b);b=[];for(d=0;d<c.length;d++){for(var e=c[d],f=e.g,g=[],l=0;l<f.length;l++){var p=f[l],u={};u.format=p.j;u.isSystemFont=p.g;u.url=p.o;g.push(u)}f=ft;l={};l[f.$c]=e.v;l[f.Md]=e.j;l[f.Th]=g;l[f.STYLE]=e.o;l[f.Nd]=e.A;b.push(l)}Y(a,"fontFaces",b)}v(et,iq);et.prototype.na=function(){return this.g.fontFamily};
function gt(a){a=a.g.fontFaces;for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,g=0;g<f.length;g++){var l=f[g];e.push(new ht(l.format,l.isSystemFont,l.url))}f=ft;b.push(new it(d[f.$c],d[f.Md],d[f.STYLE],d[f.Nd],e))}return b}function it(a,b,c,d,e){this.v=a;this.j=b;this.o=c;this.A=d;this.g=e}var ft={$c:"fontFamily",Md:"isMenuFont",Th:"source",STYLE:"style",Nd:"weight"};it.prototype.na=h("v");it.prototype.getStyle=h("o");function ht(a,b,c){this.j=a;this.g=b;this.o=c}
ht.prototype.getUrl=h("o");function jt(a,b,c){iq.call(this,a,c);Y(this,"dataType",b)}v(jt,iq);function kt(a,b,c){iq.call(this,"syncObject",a);Y(this,"keyPath",b);Y(this,"state",c)}v(kt,iq);function lt(a){a=kq(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function mt(a,b){iq.call(this,"user",b);Y(this,"id",a);qq(this,"fastTrack",!0)}v(mt,iq);mt.prototype.getId=function(){return this.g.id};function nt(a,b,c){this.o=a;this.B=b;this.A=c}v(nt,Vr);function ot(a){if(null===a.B)throw Error("Cannot getKey of operation for singleton record.");return a.B};function pt(a,b,c){nt.call(this,"delete-record",a,b);this.g=!!c}v(pt,nt);function qt(a,b,c,d){nt.call(this,d||"update-record",a,b.C);this.j=b.D;this.g={};a=b.A;c=c||[];for(var e in a)this.g[e]=nb(c,e)?lq(b,e):b.g[e]}v(qt,nt);function rt(){J.call(this)}v(rt,J);rt.prototype.j=function(a){if(!(0<=hb(this.ua(),a.C)))throw Error("Cannot create operations for an unsupported record type "+a.C);return this.Va(a)};rt.prototype.Va=function(a,b){var c=this.ya(a),d=[];a.qb?d.push(new pt(c,a.C,!1)):d.push(new qt(c,a,b));return d};rt.prototype.ya=function(a){throw Error("Key cannot be obtained for record of type "+a.C);};rt.prototype.sa=function(a){return Wr(a)?0<=hb(this.ua(),a.A):!1};function st(){J.call(this)}v(st,rt);st.prototype.ua=function(){return["comment"]};st.prototype.ya=function(a){return[a.g.di,a.getId()]};function tt(a,b,c){J.call(this);this.g=a;this.A=c}v(tt,st);function vq(a,b,c,d){d=$s(a.g,["Comments"],"Error reading comments.",d);var e;e=[b];b=[b,[]];Ym(d,"Comments",r(a.o,a),c,e,b,void 0,void 0,void 0,!0)}tt.prototype.o=function(a){var b=new tq(a.cmtKey[0],a.cmtKey[1],!1);Y(b,"s",a.stateIndex[0]);Y(b,"da",a.da);b.j=!1;return b};function ut(a,b,c,d){vt(a.g,"missingdocosdocumentids",b,c,d)}tt.prototype.za=function(){return["Comments"]};
tt.prototype.va=function(a,b){switch(a.L()){case "update-record":b=W(b,"Comments");ot(a);if(a.j){var c=a.g,d={};d.cmtKey=ot(a);d.stateIndex=[c.s,c.di];d.da=c.da;os(b,d)}else{d=a.g;a=ot(a);var e={};"s"in d&&(e.stateIndex=[d.s,a[0]],delete d.s);for(c in d)e[c]=d[c];wt(this.A,a,e,b)}break;case "delete-record":b=W(b,"Comments");a=ot(a);Wm(b,a);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function xt(a){J.call(this);this.ma=a}v(xt,rt);k=xt.prototype;k.ua=function(){return["document"]};k.Ab=function(a){var b=this.ma[a];if(!b)throw Error("No adapter found for this type: "+a);return b};k.createDocument=function(a,b){return new Cr(a,b,!0,this.ma[b])};k.sa=function(a){var b=a.L();return"append-commands"==b||"unstage-commands"==b||"write-trix"==b?!0:xt.J.sa.call(this,a)};
k.Va=function(a){var b=xt.J.Va.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai".split(" "));a=this.Ab(a.L()).Vd(a);return b.concat(a)};k.ya=function(a){return a.getId()};function yt(){J.call(this)}v(yt,rt);yt.prototype.ua=function(){return[]};function zt(a,b,c){this.g=a;this.o=b;this.j=c}zt.prototype.V=h("o");zt.prototype.mb=h("j");function At(a,b,c){var d=t();return a.j==b?"available":a.g+(c?6E4:0)<=d||a.g>d+36E4?"expiredOtherSid":(b=window.localStorage)&&b.getItem("dcl_"+a.j)?"available":"unavailable"}zt.prototype.ia=function(){var a={};a.e=this.g;a.dlKey=[this.o];a.sId=this.j;return a};function Bt(a){return new zt(a.e,a.dlKey[0],a.sId)};function Ct(a,b,c,d,e){J.call(this);this.g=a;this.j=b;this.o=c;this.D=e||this.o.j;this.B=0;this.C=d;this.A=new V(this);this.A.listen(c,"N",this.Gi)}v(Ct,J);k=Ct.prototype;k.Aa=null;k.Gi=function(){this.Fe()};k.Od=function(a,b,c){var d=Dt(this,Ga(b,4),c,!0);c=W(d,"DocumentLocks");b=r(this.Bj,this,a,b,d);b=r(this.Mg,this,a,c,b,null);Et(this,a,b,c,!1,!0)};function Dt(a,b,c,d){return $s(a.o,["DocumentLocks"],"Lock acquisition",c,d,vf(K(),"docs-localstore-ilat"),b,"idbla")}
k.Bj=function(a,b,c,d){1==d?Ts(c,r(this.Cj,this,a,b)):(c.W=null,b(d))};k.Cj=function(a,b){if(this.Aa)throw Error("Lock refresh timer should not be running on lock acquisition");this.isDisposed()||0==this.j||(this.Aa=new Bi(Math.max(this.j-1E4,0)),this.A.listen(this.Aa,"tick",r(this.Pj,this,a)),this.Aa.start());b(1)};k.Dj=function(a,b){b||a.abort(new Nm(2,"Lock not available"))};
function Ft(a,b,c){a.Aa&&a.Aa.stop();var d=r(a.Aj,a,b,c),e=r(a.Fg,a,b,c);c=W(c,"DocumentLocks");d=r(a.Mg,a,b,c,d,e);Et(a,b,d,c,!0,!1,e)}k.Aj=function(a,b,c){1!=c?this.Fg(0,b):this.Aa&&this.Aa.start()};k.Fg=function(a,b){H(this.Aa);this.Aa=null;b.abort(new Nm(2,"Lock could not be refreshed"))};function Et(a,b,c,d,e,f,g){d=d.get([b]);Xm(d,r(a.ki,a,b,c,e,f));g&&Ds(d,nd(g))}
k.ki=function(a,b,c,d,e){if(!this.isDisposed()){a=e.target.result;var f=null;if(a){if(a=Bt(a),e=a.mb(),e==this.g&&(f=a.g),(c=c&&e!=this.g)||(c=At(a,this.g,0==this.j),c=!("available"==c||"expiredOtherSid"==c)),c){d=t();c={};c.sessionId=this.g;c.lockHoldingSessionId=e;c.validUntil=a.g-d;c.lockDuration=this.j;this.B&&(c.lastWrittenValidUntil=this.B-d);0<this.j&&yn(this.C,Error("IndexedDB document lock not available"),c);b(!1,null);return}}else if(c){c={};c.sessionId=this.g;yn(this.C,Error("IndexedDB document lock not available because the lock does not exist"),
c);b(!1,null);return}d&&this.dispatchEvent("O");b(!0,f)}};k.Mg=function(a,b,c,d,e,f){e?(c=Ga(c,1),e=t(),this.B=f=Math.min(Math.max(e+this.j,f||0),e+6E4),a=os(b,(new zt(f,a,this.g)).ia()),Xm(a,nd(c)),d&&Ds(a,nd(d))):c(2)};k.Pj=function(a){Gt(this,a,0)};function Gt(a,b,c){c=$s(a.o,["DocumentLocks"],"Lock refresh timer",r(a.Qj,a,b,c),!0);Ft(a,b,c)}k.Qj=function(a,b,c){this.isDisposed()||(2==c.type||2<=b?(H(this.Aa),this.Aa=null,this.D(c)):Gt(this,a,b+1))};
k.Fe=function(){H(this.Aa);this.Aa=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.g,String(t()))};
k.Sd=function(){var a=window.localStorage;if(!a)return Hg(Error("Cannot clean up locks when there is no local storage"));for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&0==e.lastIndexOf("dcl_",0)){var f=e.substring(4);b.push(f)}}var g=Mb(b);return(new S(function(a,b){var c=$s(this.o,["DocumentLocks"],"Lock cleanup",b,!0);Ts(c,a);Ym(c,"DocumentLocks",Bt,function(a){var b=W(c,"DocumentLocks");a.filter(function(a){return g[a.mb()]}).forEach(function(a){Vm(b,[a.V()])}.bind(this))}.bind(this))}.bind(this))).then(function(){for(f in g)a.removeItem("dcl_"+
f)})};k.G=function(){this.A.X();H(this.Aa);this.Aa=null;Ct.J.G.call(this)};k.Oj=function(a,b){(b=b.target.result)?a(At(Bt(b),this.g,0==this.j)):a("available")};function Ht(){J.call(this)}v(Ht,rt);Ht.prototype.ua=function(){return[]};function It(a){J.call(this);this.g=a}v(It,Ht);function Jt(a,b,c,d){vt(a.g,"nonsnapshottedocumentids",b,c,d)};var Kt={mh:"l",Lh:"s",Hh:"r"};function Lt(a,b,c,d){xt.call(this,d);this.g=a;this.o=c}v(Lt,xt);var Mt="lastModifiedClientTimestamp lastWarmStartedTimestamp relevancyRank rev rai odocid".split(" ");function Nt(a,b,c,d,e,f){if(a.g.o)Ci(Ga(e,[]));else{var g=$s(a.g,["Documents","DocumentCommandsMetadata","DocumentCommandsMetadataStaging"],"Error reading documents.",f);f=function(a){Zm(g);e(a)};d?Ot(a,b,c,f,g):Pt(a,b,c,f,g,{},!1)}}k=Lt.prototype;
k.Pk=function(a,b){this.g.o?Ci(Ga(a,[])):(b=$s(this.g,["Documents","PendingQueueCommands"],"Error reading documents with pending changes.",b),Ym(b,"PendingQueueCommands",function(a){var b=a.c;return b&&0!=b.length?a.pqcKey[0]:null},r(this.ud,this,b,a)))};function Qt(a,b,c,d){Nt(a,b,null,!0,c,d)}function Rt(a,b,c){Nt(a,null,null,!1,b,c)}function St(a,b,c,d){Nt(a,null,b,!1,function(a){1==a.length?c(a[0]):c(null)},d)}
k.ud=function(a,b,c){if(0>=c.length)b([]);else{ub(c);for(var d=[],e=0;e<c.length;e++){var f=c[e];Ym(a,"Documents",r(this.Td,this,null,{},!1),function(a){0<a.length&&d.push(a[0])},f)}Ts(a,function(){b(d)})}};function Ot(a,b,c,d,e){var f=W(e,"DocumentCommandsMetadata");Xm(Rm(f,c?[c]:void 0,c?[c,[]]:void 0),r(a.cj,a,b,c,d,e,{}))}
k.cj=function(a,b,c,d,e,f){(f=f.target.result)?(e[f.value.dcmKey[0]]=!0,f["continue"]()):(f=W(d,"DocumentCommandsMetadataStaging"),Xm(Rm(f,b?[b]:void 0,b?[b,[]]:void 0),r(this.nj,this,a,b,c,d,{},e)))};k.nj=function(a,b,c,d,e,f,g){(g=g.target.result)?(a=g.value.dcmKey[0],f[a]||(e[a]=!0),g["continue"]()):Pt(this,a,b,c,d,e,!0)};function Pt(a,b,c,d,e,f,g){c?Xm(W(e,"Documents").get(c),r(function(a){(a=a.target.result)?d([this.Td(b,f,g,a)]):d([])},a)):Ym(e,"Documents",r(a.Td,a,b,f,g),d,void 0)}
k.Td=function(a,b,c,d){if(b[d.id]||c&&d.hpmdo)return null;a=Tt(a,d);if(!a||"trix"==a.L()||"syncstats"==a.L())return null;b=this.ma[a.L()];if(!b)throw Error("No document adapter found for type: "+a.L());a.v=b;a.j=!1;return a};
function Tt(a,b){if(null!=a&&b.acl&&!n(b.acl[a]))return null;a=new Cr(b.id,b.documentType,!1);Y(a,"title",b.title);Y(a,"lastSyncedTimestamp",b.lastSyncedTimestamp);Y(a,"jobset",b.jobset);qq(a,"isFastTrack",!!b.isFastTrack);Fr(a,b.lastModifiedServerTimestamp);Y(a,"lastColdStartedTimestamp",b.lastColdStartedTimestamp);Y(a,"lastWarmStartedTimestamp",b.lastWarmStartedTimestamp);var c=b.acl,d;for(d in c)sq(a,"acl",d,c[d]);Gr(a,b.docosKeyData||null);qq(a,"inc",!!b.inc);d=b.lastModifiedClientTimestamp;null!=
d&&xq(a,d);if(d=b.startupHints)for(var e in d)sq(a,"startupHints",e,d[e]);(e=b.ic)&&Y(a,"ic",e);qq(a,"hpmdo",!!b.hpmdo);qq(a,"ips",!!b.ips);qq(a,"ip",!!b.ip);qq(a,"pendingCreation",!!b.pendingCreation);e=b.fact;null!=e&&Y(a,"fact",e);qq(a,"modelNeedsResync",!!b.modelNeedsResync);qq(a,"ind",!!b.ind);e=b.modelVersion;null!=e&&Hr(a,e);e=b.rev;null!=e&&(d=b.rai,Er(a,e,null!=d?xr(d):null));e=b.lsst;null!=e&&Y(a,"lsst",e);e=b.lss;null!=e&&a.tc(!!e);e=b.lsft;null!=e&&a.rc(e);e=b.odocid;null!=e&&Y(a,"odocid",
e);e=b.relevancyRank;null!=e&&Ir(a,e);e=b.lastServerSnapshotTimestamp;null!=e&&Jr(a,e);e=b.snapshotState;null!=e&&Kr(a,e);b=b.pendingQueueState;null!=b&&Lr(a,b);return a}k.Qk=function(a,b){b=$s(this.g,["Comments","Documents"],"Error reading comments.",b);Ym(b,"Comments",function(a){return a[1]},r(this.ud,this,b,a),[2],[2,[]],"StateIndex",!1,!0)};
k.Sk=function(a,b){Kg([new S(function(a,b){Ut(this,"nonsnapshottedocumentids",a,b)}.bind(this)),Vt(this)]).then(function(a){a=a[0].concat(a[1]);ub(a,void 0,function(a){return a.getId()});return a}).then(a,function(a){(b||this.g.j)(a)}.bind(this))};function Vt(a){return Wt(a,function(a){var b=lq(a,"snapshotState");return 2==b?(a=mq(a,"lastServerSnapshotTimestamp"),null===a||864E5<t()-a):0==b})}function Wt(a,b){return new S(function(a,d){Rt(this,function(c){a(c.filter(b))},d)}.bind(a))}
k.Rk=function(a,b){Ut(this,"missingdocosdocumentids",a,b)};function Ut(a,b,c,d){var e=$s(a.g,["Documents","ProfileData"],"Error reading document ids",d);Xt(b,function(b){a.ud(e,c,b)},e)}
k.za=function(a){if(!this.sa(a))throw Error("Cannot get object store names for operation type "+a.L());var b=["DocumentCommands","DocumentCommandsStaging","DocumentCommandsMetadata","DocumentCommandsMetadataStaging","Documents"];"delete-record"==a.L()&&(b=b.concat(["Comments","DocumentEntities","PendingQueueCommands","PendingQueues"]));return b};
k.va=function(a,b){var c=W(b,"Documents");switch(a.L()){case "update-record":a.j?Ns(c,a.g):wt(this.o,ot(a),a.g,c,Mt);break;case "delete-record":Yt(this,a,b);break;default:this.Ab(a.C).va(a,b)}};function Yt(a,b,c){b.g?a.Bc(b,c):Zt(a,ot(b),c,r(function(a){a?c.abort(new Nm(5,"Pending changes found")):this.Bc(b,c)},a))}k.ne=function(){return"Comments DocumentCommands DocumentCommandsStaging DocumentCommandsMetadata DocumentCommandsMetadataStaging DocumentEntities DocumentLocks Documents PendingQueueCommands PendingQueues".split(" ")};
function $t(a,b,c){var d=a.ne(),e=$s(a.g,d,"Error deleting documents.",c,!0);Ts(e,b);Ym(e,"Documents",function(a){if((a=Tt(null,a))&&("trix"==a.L()||"syncstats"==a.L()))return new pt(this.ya(a),a.C)}.bind(a),function(a){for(var b=0;b<a.length;b++)this.Bc(a[b],e)}.bind(a))}function Zt(a,b,c,d){Xm(Rm(W(c,"PendingQueueCommands"),[b],[b,[]]),r(function(a){a.target.result?d(!0):au(b,c,d)},a))}function au(a,b,c){Xm(Tm(W(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}
k.Bc=function(a,b){a=ot(a);var c=W(b,"DocumentCommands");Vm(c,[a],[a,[]]);c=W(b,"DocumentCommandsStaging");Vm(c,[a],[a,[]]);c=W(b,"DocumentCommandsMetadata");Vm(c,[a],[a,[]]);c=W(b,"DocumentCommandsMetadataStaging");Vm(c,[a],[a,[]]);c=W(b,"PendingQueueCommands");Vm(c,[a],[a,[]]);c=W(b,"PendingQueues");Vm(c,a);c=W(b,"Documents");Vm(c,a);c=W(b,"DocumentLocks");Vm(c,[a]);c=W(b,"Comments");Vm(c,[a],[a,[]]);vt(this.g,"nonsnapshottedocumentids",[a],ta);vt(this.g,"missingdocosdocumentids",[a],ta);b=W(b,
"DocumentEntities");Vm(b,[a],[a,[]])};function bu(a,b,c,d){a=$s(a.g,["PendingQueueCommands"],"Error reading pending changes for unsaved bit.",d,!0);Ts(a,c);Xm(W(a,"PendingQueueCommands").get(Qm.lowerBound(-Infinity)),function(a){if(a.target.result)Gs(b);else try{m.localStorage.setItem("docs-ucb","0")}catch(f){yn(b,Error("Error clearing unsaved changes bit in Local Storage: "+f.message))}})};function cu(a,b,c){qt.call(this,a,b,void 0,"update-application-metadata");this.v=c}v(cu,qt);function du(a){J.call(this);this.ma=a}v(du,rt);k=du.prototype;k.ua=function(){return["applicationMetadata"]};k.ya=function(a){return a.Qa()};k.sa=function(a){return"update-application-metadata"==a.L()};k.Va=function(a){var b=this.ya(a);return[new cu(b,a,a.o?a.v.concat():null)]};k.Ab=function(a){var b=this.ma[a];if(!b)throw Error("No adapter found for this type: "+a);return b};function eu(a,b,c,d){du.call(this,c);this.g=a;this.A=d}v(eu,du);function fu(a,b,c,d,e){var f=$s(a.g,["NewDocumentIds"],"Error writing new document ids.",e,!0);Ts(f,d);Xm(W(f,"NewDocumentIds").get(b),function(a){a=a.target.result;a=(a&&a.documentIds?a.documentIds:[]).concat(c);var d={};d.dtKey=b;d.documentIds=a;os(W(f,"NewDocumentIds"),d)})}
function gu(a,b,c,d){var e=$s(a.g,["NewDocumentIds"],"Error reading new document ids.",d);Xm(W(e,"NewDocumentIds").get(b),function(a){a=a.target.result;Zm(e);c(a&&a.documentIds?a.documentIds.length:0)})}
eu.prototype.o=function(a){var b=a.dt;if(null==b)throw Error("Document type expected to be defined.");var c=new dt(b,!1),b=this.Ab(b),d=a.jobset;null!=d&&Y(c,"jobset",d);d=a.ic;null!=d&&(b=b.vd(d),c.v=b.concat(),c.o=!0);(b=a.docosKeyData)&&Y(c,"docosKeyData",b);a=a.version;Y(c,"version",n(a)?a:0);c.j=!1;return c};eu.prototype.za=function(a){if(!this.sa(a))throw Error("Cannot get object store names for operation type "+a.L());return["ApplicationMetadata"]};
eu.prototype.va=function(a,b){switch(a.L()){case "update-application-metadata":var c=this.Ab(ot(a)),d=a.g;if(null!=a.v){var e;if(a.v)e=a.v;else throw Error("No new initial commands are available.");for(var f=[],g=0;g<e.length;g++)f.push(c.$a.ia(e[g]));d.ic=f}b=W(b,"ApplicationMetadata");a.j?os(b,d):wt(this.A,ot(a),d,b);break;default:throw Error("Cannot perform operation of type "+a.L());}};function hu(a,b,c,d,e){iq.call(this,"documentEntity",e);Y(this,"entityId",a);Y(this,"documentId",b);Y(this,"entityType",c);Y(this,"data",d)}v(hu,iq);hu.prototype.getId=function(){return this.g.entityId};hu.prototype.L=function(){return this.g.entityType};function iu(){J.call(this)}v(iu,rt);iu.prototype.ua=function(){return["documentEntity"]};iu.prototype.ya=function(a){return[a.g.documentId,a.L(),a.getId()]};function ju(a,b,c){J.call(this);this.g=c}v(ju,iu);ju.prototype.za=function(){return["DocumentEntities"]};ju.prototype.va=function(a,b){b=W(b,"DocumentEntities");switch(a.L()){case "update-record":if(a.j){var c={};c.deKey=ot(a);c.data=a.g.data;os(b,c)}else c={},c.data=a.g.data,a=ot(a),wt(this.g,a,c,b);break;case "delete-record":Vm(b,ot(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function ku(a,b,c,d,e){iq.call(this,"impressionBatch",e);Y(this,"di",a);Y(this,"dt",b);Y(this,"ibt",c);Y(this,"iba",d)}v(ku,iq);function lu(){J.call(this)}v(lu,rt);lu.prototype.ua=function(){return["impressionBatch"]};lu.prototype.ya=function(a){return[oq(a,"di"),a.g.ibt]};lu.prototype.sa=function(a){return lu.J.sa.call(this,a)&&("update-record"==a.L()&&a.j||"delete-record"==a.L())};function mu(a){J.call(this);this.g=a}v(mu,lu);function nu(a,b,c){c=$s(a.g,["Impressions"],"Error reading impressions.",c);Ym(c,"Impressions",r(a.o,a),b,void 0,void 0,void 0,void 0,void 0,!0)}mu.prototype.o=function(a){a=new ku(a.iKey[0]||null,a.dt,a.iKey[1],a.iba,!1);a.j=!1;return a};mu.prototype.za=function(){return["Impressions"]};
mu.prototype.va=function(a,b){switch(a.L()){case "update-record":if(a.j){b=W(b,"Impressions");a=a.g;var c={};c.iKey=[a.di||"",a.ibt];c.dt=a.dt;c.iba=a.iba;os(b,c)}else throw Error("Impressions may not be updated.");break;case "delete-record":Vm(W(b,"Impressions"),ot(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function ou(){J.call(this)}v(ou,rt);ou.prototype.ua=function(){return[]};function pu(){J.call(this)}v(pu,ou);function qu(a,b){I.call(this,"L",b)}v(qu,I);function ru(){J.call(this);this.C={}}v(ru,J);function su(a,b){for(var c=b.ua(),d=0;d<c.length;d++){var e=c[d];if(a.C[e])throw Error("Record type "+e+"already handled by another capability.");a.C[e]=b}}k=ru.prototype;k.Af=ca(null);k.ed=ca(null);k.de=ca(null);k.Bf=ca(null);k.Jb=ca(null);k.Vb=ca(null);k.ce=ca(null);k.ee=ca(null);k.zf=ca(null);function tu(){J.call(this)}v(tu,rt);tu.prototype.ua=function(){return[]};tu.prototype.Va=function(){throw Error("No operation is supported.");};tu.prototype.ya=function(){throw Error("No record is supported.");};tu.prototype.sa=ca(!1);function uu(){J.call(this)}v(uu,tu);uu.prototype.za=function(){throw Error("No object store available.");};uu.prototype.va=function(a){throw Error("Operation type "+a.L()+" not supported.");};function vu(a,b,c,d){J.call(this);this.g=a;this.Db=new Ct(b,c,a,d,this.g.j);this.Db.F=this}v(vu,yt);k=vu.prototype;k.Od=function(a,b,c){this.Db.Od(a,b,c)};k.Fe=function(){this.Db.Fe()};k.Sd=function(){return this.Db.Sd()};k.za=function(){return["DocumentLocks"]};
k.va=function(a,b){switch(a.L()){case "document-lock":switch(a.v){case 2:Ft(this.Db,a.V(),b);break;case 1:var c=this.Db;a=a.V();Et(c,a,r(c.Dj,c,b),W(b,"DocumentLocks"),!1,!1)}break;default:throw Error("Operation type "+a.L()+" not supported.");}};k.G=function(){this.Db.X();vu.J.G.call(this)};function wu(a,b,c){this.g=a;this.j=b;this.ca=c}wu.prototype.xa=h("g");wu.prototype.bb=h("j");function xu(a,b,c,d,e,f){iq.call(this,"pendingQueue",c);this.F=d;this.B=e.concat();this.o=f.concat();this.I=new wr;Y(this,"docId",a);Y(this,"documentType",b);Y(this,"revision",-1);qq(this,"undeliverable",!1);qq(this,"unsavedChanges",!1);this.H=this.v=!1}v(xu,iq);var yu=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];k=xu.prototype;k.fb=6;k.Rc=null;k.pc=null;k.qc=null;k.Za=null;k.V=function(){return this.g.docId};
function zu(a){var b;if(b=!a.v)b=null==lq(a,"undeliverable")?!1:""!=a.g.undeliverable;return b}function Au(a,b){qq(a,"undeliverable",b)}function Bu(a,b){Y(a,"sentBundlesSavedRevision",b)}function Cu(a){return nq(a,"sentBundlesSavedRevision")}function Du(a,b,c){Y(a,"revision",b);Y(a,"revisionAccessInfo",a.I.ia(c))}function Eu(a){return a.g.revision}function Fu(a,b){Y(a,"selection",b)}function Gu(a,b){qq(a,"unsavedChanges",b)}k.L=function(){return this.g.documentType};
function Hu(a,b){Y(a,"unsentBundleMetadata",b)}function Iu(a,b){if(null!=b){var c=a.B.length+a.o.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}Y(a,"snapshotBundleIndex",b)}k.aa=function(){return this.v?!0:0==this.o.length&&0==this.B.length};
function Ju(a){if(!a.o.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.o.length){var b=a.o[0];a.Za=new Ku(b.bb(),b.ca);a.B.push(b);a.o=[];Lu(a,5)}else sb(a.B,a.o),a.replace(a.B,[]);Bu(a,null)}k.replace=function(a,b){this.qc=b.length?b.concat():null;this.pc=a.concat();this.Za=this.Rc=null;this.B=a.concat();this.o=b.concat();Lu(this,7)};
function Lu(a,b){if(a.H&&7!=b&&6!=a.fb)a.replace(a.B,a.o);else{Mu(a);if(!a.H&&6!=a.fb)throw Error("Multiple pending queue operations between writes. Current operation: "+a.fb+". Pending operation: "+b);a.fb=b}}function Mu(a){if(a.v)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}k.eb=function(){return 6!=this.fb||xu.J.eb.call(this)};function Nu(a){return a.v?[]:a.B}
function Ou(a){if(a.v)return[];for(var b=[],c=0;c<a.o.length;c++)sb(b,a.o[c].xa());return b}function Pu(a){return a.v?!1:!!a.o.length}function Qu(a){return a.v?!1:!!a.B.length}k.Ac=function(){Mu(this);xu.J.Ac.call(this);this.Rc&&this.Rc.length&&this.F++;this.pc&&(this.F+=this.pc.length);this.qc&&(this.F+=this.qc.length);this.fb=6;this.Za=this.qc=this.pc=this.Rc=null};
function Ru(a,b){if(b&&6!=a.fb)throw Error("Cannot support multiple in memory operations with pending operation. Pending operation:"+a.fb);a.H=b}k.$b=function(){return new cq(this.V(),2)};function Ku(a,b){this.Eb=a;this.sessionId=b};function Su(a){qt.call(this,a.V(),a,yu,"pq-clear")}v(Su,qt);Su.prototype.V=function(){return ot(this)};function Tu(a){qt.call(this,a.V(),a,yu,"pq-clear-sent-bundle");if(a.v)throw Error("The queue is in a state that does not allow commands");}v(Tu,qt);Tu.prototype.V=function(){return ot(this)};function Uu(a){qt.call(this,a.V(),a,yu,"pq-clear-sent")}v(Uu,qt);Uu.prototype.V=function(){return ot(this)};function Vu(a,b){this.o="pq-delete-commands";this.g=a;this.v=b}v(Vu,Vr);Vu.prototype.V=h("g");function Wu(a){qt.call(this,a.V(),a,yu,"pq-mark-sent");this.v=[];this.C=!1;var b=a.F;if(7==a.fb){this.C=!0;a=a.pc;for(var c=0;c<a.length;c++)b++,this.v.push(new Xu(a[c].ca,a[c].bb(),b))}else this.v.push(new Xu(a.Za?a.Za.sessionId:null,a.Za?a.Za.Eb:null,b))}v(Wu,qt);function Xu(a,b,c){this.sessionId=a;this.Eb=b;this.td=c};function Yu(a,b,c){this.o="pq-write-commands";this.A=a;this.v=b;this.g=c}v(Yu,Vr);Yu.prototype.V=h("A");Yu.prototype.xa=h("v");function Zu(a){this.ma=a}Zu.prototype.ua=function(){return["pendingQueue"]};Zu.prototype.ya=function(a){return a.V()};function $u(a,b){if(a=a.ma[b])return a;throw Error("No document adapter available for type "+b);}
Zu.prototype.j=function(a){if(a.qb)throw Error("Cannot delete pending queues.");var b=$u(this,a.L()),c=a.fb,d=[];switch(c){case 7:for(var c=a.V(),e=a.F,f=a.pc,d=[],g,l=0;l<f.length;l++){e++;g=av(f[l].xa(),b,a.V(),e,!0);if(!g)throw Error("Unexpected null operation");d.push(g)}e=a.F+d.length;f=a.qc?a.qc:[];g=[];for(var l=[],p=0;p<f.length;p++){var u=av(f[p].xa(),b,c,e+1);u&&(l.push(u),g.push(new bv(f[p].bb(),f[p].ca,e+1)),e++)}Hu(a,cv(g));d.push(new Wu(a));sb(d,l);0<=a.F&&d.push(new Vu(c,a.F));break;
case 1:d=a.F+1;e=a.V();c=[];f=a.Rc;l=a.Za?a.Za.Eb:null;p=a.Za?a.Za.sessionId:null;g=dv(kq(a,"unsentBundleMetadata"));if(null===l||null===p){if(!g.length)throw Error("Bundles and metadata do not match!");l=g[g.length-1];g[g.length-1]=new bv(l.Eb,l.sessionId,d)}else g.push(new bv(l,p,d));f&&Hu(a,cv(g));Hb(a.A)||c.push(new qt(e,a,yu));(a=av(f,b,e,d))&&c.push(a);d=c;break;case 5:Hu(a,null);d.push(new Wu(a));break;case 2:Hu(a,null);d.push(new Su(a));break;case 3:d.push(new Uu(a));break;case 4:d.push(new Tu(a));
break;case 6:d.push(new qt(a.V(),a,yu));break;default:throw Error("Unknown Pending Queue operation type: "+c);}return d};function av(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.$a.ia(a[f]));return new Yu(c,e,d)}function dv(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new bv(a[c].rid,a[c].sid,a[c].lei));return b}function cv(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++)b.push(a[c].ia());return b}
function bv(a,b,c){this.Eb=a;this.sessionId=b;this.td=c}bv.prototype.ia=function(){var a={};a.rid=this.Eb;a.sid=this.sessionId;a.lei=this.td;return a};function ev(a,b,c,d){this.ma=c;this.g=a;this.o=d}v(ev,Zu);function fv(a,b,c,d){function e(a){Zm(f);c(a)}var f=$s(a.g,["PendingQueues","PendingQueueCommands"],"Error reading pending queue.",d);Xm(W(f,"PendingQueues").get(b),function(c){(c=c.target.result)?gv(a,b,f,c,e):e(null)})}
function gv(a,b,c,d,e){var f=d.t,g=$u(a,f);if(!g)throw Error("No document adapter available for type "+f);a=W(c,"PendingQueueCommands");var l=[];Xm(Rm(a,[b],[b,[]]),function(a){if(a=a.target.result)l.push(a.value),a["continue"]();else{a=[];uf(K(),"docs-localstore-eubm")&&(a=d.ubm?dv(d.ubm):[]);for(var b=!0,c=d.b,f=0,p=[],Z=[],na=[],ra=-1,X=0;X<l.length;X++)if(ra=l[X],sb(p,g.vd(ra.c,!0)),ra=ra.pqcKey[1],f<c.length){var Ua=c[f];Ua.l==ra&&(Z.push(new wu(p,Ua.r,Ua.s)),p=[],f++)}else f<c.length+a.length&&
(Ua=a[f-c.length],Ua.td==ra&&(b=!1,na.push(new wu(p,Ua.Eb,Ua.sessionId)),p=[],f++));b&&(a=[]);p.length&&(b=Th(),na.push(new wu(p,0,b)),a.push(new bv(0,b,ra)));p=new xu(d.docId,d.t,!1,ra,Z,na);Du(p,d.r,xr(d.ra));d.s&&Fu(p,d.s);Au(p,!!d.u);Gu(p,!!d.uc);d.sbsr&&Bu(p,d.sbsr);n(d.sbi)&&Iu(p,d.sbi);p.j=!1;Hu(p,cv(a));e(p)}})}ev.prototype.za=function(){return["PendingQueueCommands","PendingQueues"]};
ev.prototype.va=function(a,b){a instanceof qt&&!a.j?Xm(W(b,"PendingQueues").get(ot(a)),r(this.v,this,a,b)):hv(this,a,b)};ev.prototype.v=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");hv(this,a,b,c)};
function hv(a,b,c,d){if(d){var e=b.g,f=e.revision,g=e.revisionAccessInfo;null!=f&&(d.r=f);n(g)&&(d.ra=g);f=e.selection;null!=f&&(d.s=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;n(f)&&(d.u=!!f);f=e.unsavedChanges;n(f)&&(d.uc=!!f);g=e.sentBundlesSavedRevision;n(g)&&(d.sbsr=g);g=e.unsentBundleMetadata;n(g)&&(d.ubm=g);e=e.snapshotBundleIndex;n(e)&&(d.sbi=e);f&&Gs(a.o)}switch(b.L()){case "pq-clear":a=d||iv(b);b=b.V();d=W(c,"PendingQueueCommands");Vm(d,[b],[b,[]]);a.b=[];jv(a,c);break;case "pq-clear-sent":a=
d||iv(b);d=a.b;0<d.length&&(d=d[d.length-1].l,e=W(c,"PendingQueueCommands"),b=b.V(),Vm(e,[b],[b,d]),a.b=[]);jv(a,c);break;case "pq-clear-sent-bundle":a=d||iv(b);d=a.b.shift().l;e=W(c,"PendingQueueCommands");b=b.V();Vm(e,[b],[b,d]);jv(a,c);break;case "pq-mark-sent":a=d||iv(b);d=b.v;b.C&&(a.b=[]);for(b=0;b<d.length;b++)e=d[b],f=Kt,g={},g[f.mh]=e.td,g[f.Lh]=e.sessionId,g[f.Hh]=e.Eb,a.b.push(g);jv(a,c);break;case "update-record":jv(d||iv(b),c);break;case "pq-write-commands":a=b.xa();d={};d.pqcKey=[b.V(),
b.g];d.c=a;os(W(c,"PendingQueueCommands"),d);break;case "pq-delete-commands":c=W(c,"PendingQueueCommands");a=b.V();Vm(c,[a],[a,b.v]);break;default:throw Error("Unsupported operation type: "+b.L());}}function jv(a,b){os(W(b,"PendingQueues"),a)}
function iv(a){var b=a.g;a={};var c=b.accessLevel;n(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.ra=b.revisionAccessInfo;a.ubm=b.unsentBundleMetadata;a.s=b.selection;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;c=b.sentBundlesSavedRevision;null!=c&&(a.sbsr=c);b=b.snapshotBundleIndex;n(b)&&(a.sbi=b);return a};function kv(){}function wt(a,b,c,d,e){c&&Xm(Rm(d,b),r(a.g,a,c,e||[]))}kv.prototype.g=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];d[e]=nb(b,e)?null!=f?f:null:f}c.update(d)}else throw Error("Could not find object to update.");};function lv(a,b){var c=$s(a,["ProfileData"],"Error pushing document id",void 0,!0);Xt("missingdocosdocumentids",function(a){nb(a,b)||(a.push(b),a=mv("missingdocosdocumentids",a),os(W(c,"ProfileData"),a),Ts(c,ta))},c)}
function vt(a,b,c,d,e){var f=$s(a,["ProfileData"],"Error removing document ids",e,!0);Xt(b,function(a){for(var e=0;e<c.length;e++)pb(a,c[e]);a=mv(b,a);os(W(f,"ProfileData"),a);Ts(f,d)},f)}function Xt(a,b,c){Xm(W(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})}function mv(a,b){var c={};c.dataType=a;c.documentIds=b;return c};function nv(){J.call(this)}v(nv,rt);nv.prototype.ua=function(){return["user"]};function ov(a){return(new S(function(a,c){return pv(this,a,c)}.bind(a))).then(function(a){if(1>a.length)throw Error("Expected an offline user in localstore");return a[0]})}nv.prototype.Va=function(a,b){if(a.qb)throw Error("User deletion is not implemented.");return nv.J.Va.call(this,a,b)};nv.prototype.ya=function(a){return a.getId()};nv.prototype.sa=function(a){return nv.J.sa.call(this,a)&&"delete-record"!=a.L()};function qv(a,b,c,d){J.call(this);this.g=a;this.A=c;this.o=d}v(qv,nv);
function pv(a,b,c){if(a.g.o)Ci(Ga(b,[]));else if(nb(a.g.g.objectStoreNames,"Users")){c=$s(a.g,["Users"],"Error reading users.",c);var d=[];Xm(W(c,"Users").get(Qm.lowerBound(-Infinity)),r(function(a){if(a=a.target.result){var b=new mt(a.id,!1);Y(b,"emailAddress",a.emailAddress);Y(b,"locale",a.locale);Y(b,"optInSecret",a.optInSecret);null!=a.fastTrack&&qq(b,"fastTrack",!!a.fastTrack);null!=a.internal&&qq(b,"internal",!!a.internal);null!=a.optInReasons&&Y(b,"optInReasons",a.optInReasons);b.j=!1;d=[b]}},
a));Ts(c,function(){b(d)})}else a.o.log(Error("Reading from uninitialized IDB database.")),Ci(Ga(b,[]))}qv.prototype.za=function(a){if(!this.sa(a))throw Error("Cannot get object store names for operation type "+a.L());return["Users"]};qv.prototype.va=function(a,b){switch(a.L()){case "update-record":b=W(b,"Users");a.j?Ns(b,a.g):wt(this.A,ot(a),a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function rv(a,b,c,d,e){ru.call(this);this.Y=e;this.D=new V(this);this.o=new kv;this.j=a;this.D.listen(this.j,"N",this.Hi);this.D.listen(this.j,"K",this.fj);this.ma=b;this.B=new ev(this.j,0,this.ma,this.Y);su(this,this.B);this.g=this.Ud(this.ma);su(this,this.g);this.A=new vu(this.j,c,d,this.Y);this.U=new qv(a,0,this.o,e);su(this,this.U);this.ka=new uu}v(rv,ru);k=rv.prototype;k.fc=h("U");k.Ud=function(a){return new Lt(this.j,0,this.o,a)};k.Hi=function(){this.dispatchEvent(new qu)};k.fj=function(a){this.dispatchEvent(a)};
function ts(a,b,c,d){if(a.j.o)Ci(c);else{for(var e={},f=0;f<b.length;f++)for(var g=b[f],l=sv(a,g),g=l.za(g),l=0;l<g.length;l++)e[g[l]]=!0;d=$s(a.j,Cb(e),"Error writing records.",d,!0);Ts(d,c);for(f=0;f<b.length;f++)g=b[f],l=sv(a,g),l.va(g,d)}}
function sv(a,b){if(Wr(b)){b=b.A;a=a.C[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.L();if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.B;if("document-lock"==b)return a.A;if("append-commands"==b||"unstage-commands"==b||"write-trix"==b)return a.g;if("update-application-metadata"==b){if(a=a.Vb())return a}else if("append-template-commands"==b&&(a=a.ee()))return a;throw Error("No capability registered for operation type "+
b);}k.Yj=function(a,b){try{this.Dc(b)}catch(c){Ci(Ga(a,new Nm(1,"Failed to initialize database.",c)))}};k.Xj=function(a,b){try{this.uf(b)}catch(c){Ci(Ga(a,new Nm(1,"Failed to upgrade database.",c)))}};k.G=function(){Ud(this.D,this.A,this.B,this.g,this.U,this.ka);rv.J.G.call(this)};function tv(){J.call(this)}v(tv,rt);tv.prototype.ua=function(){return["syncObject"]};tv.prototype.ya=function(a){return Jb(a.g.keyPath)};tv.prototype.sa=function(a){return tv.J.sa.call(this,a)&&"update-record"==a.L()&&a.j};function uv(a){J.call(this);this.o=a}v(uv,tv);uv.prototype.g=function(a){var b=a.data;a=new kt(!1,a.keyPath,a.state);Y(a,"data",b);a.j=!1;return a};uv.prototype.za=function(){return["SyncObjects"]};uv.prototype.va=function(a,b){switch(a.L()){case "update-record":b=W(b,"SyncObjects");if(a.j)os(b,a.g);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.L()+" not supported.");}};function vv(a){jt.call(this,"syncStats","syncstats",a);Y(this,"lastSyncedChangestamp",0);Y(this,"syncVersion",0);Y(this,"lastDailyRunTime",0);Y(this,"maxSpaceQuota",0);Y(this,"webfontsSyncVersion",0);Y(this,"lastStartedSyncDocs",[])}v(vv,jt);function wv(a,b){Y(a,"relevantDocuments",b)}function xv(a){return rq(a,"relevantDocuments")||[]}function yv(a,b){var c=zv(a);n(c[b])&&(delete c[b],Y(a,"failedToSyncDocs",c))}function zv(a){a=kq(a,"failedToSyncDocs");return null==a?{}:a};function Av(){J.call(this)}v(Av,rt);Av.prototype.ua=function(){return["syncStats"]};Av.prototype.ya=ca(null);Av.prototype.sa=function(a){return Av.J.sa.call(this,a)&&"delete-record"!=a.L()};function Bv(a,b){J.call(this);this.g=a;this.o=b}v(Bv,Av);
function Cv(a,b,c){var d=$s(a.g,["ProfileData"],"Error reading syncStats.",c);Xm(W(d,"ProfileData").get("syncstats"),function(a){Zm(d);var c=a.target.result;if(c){if("syncstats"!=c.dataType)throw Error("Invalid data type.");a=new vv(!1);var e=c.docsToDelete;null!=e&&Y(a,"docsToDelete",e);e=c.enabledMimeTypes;null!=e&&Y(a,"enabledMimeTypes",e);e=c.lastLocalStoreProfileTimestamp;null!=e&&Y(a,"lastLocalStoreProfileTimestamp",e);e=c.lastSyncTimestamp;null!=e&&Y(a,"lastSyncTimestamp",e);e=c.lastSyncedChangestamp;
null!=e&&Y(a,"lastSyncedChangestamp",e);e=c.syncStartTimestamp;null!=e&&Y(a,"syncStartTimestamp",e);e=c.syncVersion;null!=e&&Y(a,"syncVersion",e);e=c.failedToSyncDocs;if(null!=e)for(var l in e){var p=e[l],u=a,w=l,z=p.modelSyncFailCount||0,da=p.serverTime,Z={};Z.count=p.count;Z.modelSyncFailCount=z;Z.serverTime=da;p=zv(u);p[w]=Z;Y(u,"failedToSyncDocs",p)}l=c.lastDailyRunTime;null!=l&&Y(a,"lastDailyRunTime",l);l=c.maxSpaceQuota;null!=l&&Y(a,"maxSpaceQuota",l);l=c.webfontsSyncVersion;null!=l&&Y(a,"webfontsSyncVersion",
l);l=c.lastStartedSyncDocs;if(null!=l)for(e=0;e<l.length;e++)u=a,Z=l[e].timestamp,w={},w.documentId=l[e].documentId,w.timestamp=Z,Z=rq(u,"lastStartedSyncDocs")||[],Z.push(w),Z.splice(0,Z.length-10),Y(u,"lastStartedSyncDocs",Z);c=c.relevantDocuments;null!=c&&wv(a,c);a.j=!1;b(a)}else b(null)})}Bv.prototype.za=function(){return["ProfileData"]};
Bv.prototype.va=function(a,b){switch(a.L()){case "update-record":b=W(b,"ProfileData");a.j?os(b,a.g):wt(this.o,"syncstats",a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Dv(){J.call(this)}v(Dv,rt);Dv.prototype.ua=function(){return["fontMetadata"]};Dv.prototype.ya=function(a){return a.na()};Dv.prototype.sa=function(a){return Dv.J.sa.call(this,a)?"update-record"==a.L()?a.j:!0:!1};function Ev(a){J.call(this);this.o=a}v(Ev,Dv);function Fv(a,b,c){c=$s(a.o,["FontMetadata"],"Reading all font metadata",c);Ym(c,"FontMetadata",r(a.g,a),function(a){for(var c={},d=0,g;g=a[d];d++)c[g.na()]=g;b(c)},void 0,void 0,void 0,void 0,void 0,!0)}function Gv(a,b,c,d){if(0==b.length)d({});else{c=W(c,"FontMetadata");for(var e=b.length,f={},g=0;g<b.length;g++)Xm(c.get(b[g]),r(function(a){a.target.result?(a=this.g(a.target.result),f[a.na()]=a,Cb(f).length==e&&d(f)):(e--,0==e&&d(f))},a))}}
Ev.prototype.g=function(a){var b=a.fontFamily,c=a.version;a=a.fontFaces;for(var d=[],e=0,f;f=a[e];e++){for(var g=f.source,l=[],p=0,u;u=g[p];p++)l.push(new ht(u.format,u.isSystemFont,u.url));g=ft;d.push(new it(f[g.$c],f[g.Md],f[g.STYLE],f[g.Nd],l))}b=new et(b,c,d,!1);b.j=!1;return b};function Hv(a,b,c,d){var e=$s(a.o,["FontMetadata"],"Reading font metadata",d);Gv(a,b,e,r(a.A,a,e,b,function(a){Zm(e);c(a)},d))}Ev.prototype.A=function(a,b,c,d,e){a=[];d=0;for(var f;f=b[d];d++)a.push(e[f]);c(a)};
Ev.prototype.za=function(){return["FontMetadata"]};Ev.prototype.va=function(a,b){b=W(b,"FontMetadata");switch(a.L()){case "update-record":if(a.j)os(b,a.g);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":Vm(b,ot(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Iv(a,b,c,d,e){rv.call(this,a,b,c,d,e);a=this.j;this.ga=new ju(0,0,this.o);su(this,this.ga);this.N=new Ev(a);su(this,this.N);this.M=new uv(a);su(this,this.M);this.la=new pu;this.ea=new It(a);this.O=new Bv(a,this.o);su(this,this.O);this.H=new tt(this.j,0,this.o);su(this,this.H);this.P=new eu(a,0,b,this.o);su(this,this.P);this.I=new mu(a);su(this,this.I)}v(Iv,rv);
"ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" ").sort(function(a,b){return a>b?1:a<b?-1:0});k=Iv.prototype;k.Hc=ca(6);k.ed=h("H");k.Jb=h("N");k.Bf=h("M");k.Af=h("ea");k.Vb=h("P");k.de=h("O");k.zf=h("I");k.Ud=function(a){return new Lt(this.j,0,this.o,a)};
k.Qd=ca(!1);
k.Dc=function(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"});a.createObjectStore("ProfileData",{keyPath:"dataType"});a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex");a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",
{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});
a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};k.G=function(){Ud(this.ga,this.N,this.M,this.la,this.ea,this.O,this.H,this.P,this.I);Iv.J.G.call(this)};function Jv(a,b,c,d,e,f,g,l,p){iq.call(this,"blobMetadata",p);Y(Y(Y(Y(Y(Y(Y(Y(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",g),"oc",l);this.o=new T;"failed"==g?this.o.R():c&&this.o.K(c)}v(Jv,iq);var Kv=["c","oc","ou","u"];k=Jv.prototype;k.V=function(){return this.g.d};k.getUrl=function(){return oq(this,"u")};k.ke=function(){return oq(this,"c")};k.Z=function(){return this.g.s};function Lv(a,b){Y(a,"s",b);"failed"!=b||a.o.g||a.o.R()}k.$b=function(){return new cq(this.V(),2)};function Mv(){J.call(this)}v(Mv,rt);Mv.prototype.ua=function(){return["blobMetadata"]};Mv.prototype.Va=function(a){return Mv.J.Va.call(this,a,Kv)};Mv.prototype.ya=function(a){return[a.V(),a.g.p]};function Nv(a,b,c){J.call(this);this.g=a;this.A=c}v(Nv,Mv);Nv.prototype.o=function(a){a=new Jv(a.d,a.p,a.u||null,a.ou||null,a.f,a.c||null,a.s,a.oc||null,!1);a.j=!1;return a};Nv.prototype.za=function(){return["BlobMetadata"]};Nv.prototype.va=function(a,b){b=W(b,"BlobMetadata");switch(a.L()){case "update-record":a.j?Ns(b,a.g):wt(this.A,ot(a),a.g,b);break;case "delete-record":Vm(b,ot(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Ov(a,b,c,d){Lt.call(this,a,0,c,d)}v(Ov,Lt);Ov.prototype.za=function(a){var b=Ov.J.za.call(this,a);"delete-record"==a.L()&&b.push("BlobMetadata");return b};Ov.prototype.ne=function(){var a=Ov.J.ne.call(this);a.push("BlobMetadata");return a};Ov.prototype.Bc=function(a,b){Ov.J.Bc.call(this,a,b);a=ot(a);Vm(W(b,"BlobMetadata"),[a],[a,[]])};function Pv(a,b,c,d,e){Iv.call(this,a,b,c,d,e);this.$=new Nv(this.j,0,this.o);su(this,this.$)}v(Pv,Iv);k=Pv.prototype;k.Hc=ca(7);k.ce=h("$");k.Ud=function(a){return new Ov(this.j,0,this.o,a)};k.Qd=ca(!0);k.Dc=function(a){Pv.J.Dc.call(this,a);Qv(a)};k.uf=function(a){Qv(a)};function Qv(a){a.db.createObjectStore("BlobMetadata",{keyPath:["d","p"]})};function Rv(a,b,c,d,e,f,g,l,p,u,w,z,da,Z,na,ra,X){iq.call(this,"templateMetadata",X);Y(this,"id",a);Y(this,"title",b);Y(this,"style",c);Y(this,"category",d);Y(this,"locale",e);Y(this,"creator",f);Y(this,"thumbnailUrl",g);Y(this,"documentType",l);Y(this,"lastModifiedTimestamp",p);Y(this,"fontFamilies",u);Y(this,"brandedAuthor",w);Y(this,"brandedUrl",z);Y(this,"masterTemplate",da);qq(this,"isThumbnailReady",Z);qq(this,"isReady",na);qq(this,"isDirty",ra)}v(Rv,iq);k=Rv.prototype;k.getId=function(){return this.g.id};
k.Xa=function(){return this.g.title};k.getStyle=function(){return this.g.style};k.Qa=function(){return this.g.documentType};k.cb=function(){return""!=this.g.isDirty};function Sv(a,b,c,d){this.o="append-template-commands";this.g=a;this.Pa=b;this.v=c;this.A=d}v(Sv,Vr);Sv.prototype.Qa=h("Pa");function Tv(a,b){F.call(this);this.Pa=a;this.$a=b}v(Tv,F);Tv.prototype.Vd=function(a){var b=Br(a.o());return a.qb||0==b.length?[]:[new Sv(a.getId(),a.Qa(),b,!0)]};Tv.prototype.Qa=h("Pa");function Uv(a,b){Tv.call(this,a,b);new ms(0,new gs(b))}v(Uv,Tv);Uv.prototype.va=function(a,b){switch(a.L()){case "append-template-commands":b=W(b,"TemplateCommands");a.A&&Vm(b,[a.g],ls(a.g));for(var c=a.v,d=0;d<c.length;++d){for(var e=b,f=a.g,g=c[d],l=g.xa(),p=[],u=0;u<l.length;++u)p.push(this.$a.ia(l[u]));f=ks(f,g.o,g.g,g.j,g.v,p);os(e,f.g)}break;default:throw Error("Unsupported operation type "+a.L());}};function Vv(a){J.call(this);this.jl=a}v(Vv,rt);k=Vv.prototype;k.ua=function(){return["templateCreationMetadata","templateMetadata"]};k.ya=function(a){return"templateCreationMetadata"==a.C?[a.getId()]:[a.getId()]};k.Va=function(a){var b=Vv.J.Va.call(this,a);"templateCreationMetadata"==a.C&&(a=this.Ab(a.Qa()).Vd(a),b=b.concat(a));return b};k.Ab=function(a){var b=this.jl[a];if(!b)throw Error("No adapter found for this type: "+a);return b};
k.sa=function(a){return"append-template-commands"==a.L()?!0:Vv.J.sa.call(this,a)};function Wv(a,b,c){Vv.call(this,c);this.o=a;this.A=new kv}v(Wv,Vv);function Xv(a,b,c){c=$s(a.o,["TemplateMetadata"],"Reading all template metadata",c);Ym(c,"TemplateMetadata",r(a.g,a),function(a){for(var c={},d=0;d<a.length;d++){var g=a[d];c[g.getId()]=g}b(c)},void 0,void 0,void 0,void 0,void 0,!0)}
Wv.prototype.g=function(a){return new Rv(a.id,a.title,a.style,a.category,a.locale,a.creator,a.thumbnailUrl,a.documentType,a.lastModifiedTimestamp,a.fontFamilies,a.brandedAuthor,a.brandedUrl,a.masterTemplate,!!a.isThumbnailReady,!!a.isReady,!!a.isDirty,!1)};Wv.prototype.za=function(){return["TemplateCommands","TemplateCreationMetadata","TemplateMetadata"]};
Wv.prototype.va=function(a,b){var c=a.A;switch(c){case "templateMetadata":c="TemplateMetadata";break;case "templateCreationMetadata":c="TemplateCreationMetadata";break;default:throw Error("Record type "+c+" not supported.");}c=W(b,c);switch(a.L()){case "update-record":a.j?os(c,a.g):wt(this.A,ot(a),a.g,c);break;case "delete-record":Vm(c,ot(a));break;case "append-template-commands":this.Ab(a.Qa()).va(a,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Yv(a,b,c,d,e,f){Pv.call(this,a,b,d,e,f);a=["kix","punch","ritz"];b=this.j;if(!c)for(c={},d=new Ur,e=0;e<a.length;e++)c[a[e]]=new Uv(a[e],d);this.ha=new Wv(b,0,c);su(this,this.ha)}v(Yv,Pv);k=Yv.prototype;k.Hc=ca(8);k.ee=h("ha");k.Qd=ca(!0);k.Dc=function(a){Yv.J.Dc.call(this,a);Zv(a)};k.uf=function(a){Zv(a)};
function Zv(a){a=a.db;a.createObjectStore("TemplateMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCreationMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCommands",{keyPath:"dcKey"})};function $v(a,b,c,d,e,f,g,l){F.call(this);this.v=a;this.C=b;this.B=c;this.D=d;this.I=e;this.H=f;this.M=!!g;this.j=l||null;this.g={};this.ma={};this.A=-1;this.o=new T;this.F=!1}v($v,F);function aw(a,b){var c=b.Hc();a.A=Math.max(a.A,c);a.g[c]=b}k=$v.prototype;
k.create=function(a,b){if(this.F)throw Error("The create method can be called only once.");this.F=!0;if(isNaN(this.I))throw Error("Cannot have the target schema version be NaN.");if(this.j)this.tg(this.j);else{if(!cc)throw Error("Cannot create storage adapters for unsupported browser");ct(r(this.tg,this),a,this.v,r(this.gj,this),this.M,b)}return this.o};k.gj=function(a){this.o.R(a);bw(this)};
k.tg=function(a){this.j=a;if(this.D)for(var b=this.D(a),c=0;c<b.length;c++)for(var d=b[c],e=d.kk,f=d.Fi,g=d.Qa();e<=f;++e){var l=this.ma[e];l||(l=this.ma[e]={});l[g]=d}-1==this.A&&(aw(this,new Iv(a,this.ma[6]||{},this.C,this.B,this.v)),aw(this,new Pv(a,this.ma[7]||{},this.C,this.B,this.v)),aw(this,new Yv(a,this.ma[8]||{},null,this.C,this.B,this.v)));a=Math.min(this.I,this.A);b=cw(this);if(!this.H&&0>=b)this.Tf(new Nm(4,"Schema initialization cannot be performed when schema updates are prevented."));
else if(!this.H||b>=a)this.je();else{a:{for(c=b+1;c<=a;++c)if(null==this.g[c]||!this.g[c].Qd()){c=!1;break a}c=!0}if(c)dw(this,b+1,a,r(this.je,this,null),r(this.bk,this));else{a=this.g[a];b=r(this.je,this);c=r(this.Tf,this);d=a.Hc();if(Zs(a.j)>=d)throw Error("Database already at expected version.");at(a.j,d,r(a.Yj,a,c),an("Error initializing the database.",c),b)}}};k.bk=function(a){this.o.R(a);bw(this)};k.Tf=function(a){this.o.R(a);bw(this)};
function dw(a,b,c,d,e){var f=a.g[b];a=r(a.ri,a,b,c,d,e);at(f.j,f.Hc(),r(f.Xj,f,e),an("Error upgrading the database.",e),a)}k.ri=function(a,b,c,d){a=cw(this);a==b?c():dw(this,a+1,b,c,d)};k.je=function(){var a=cw(this);if(a=this.g[a]){a=new qs(a);G(a,this.j);for(var b in this.g)G(a,this.g[b]);for(b in this.ma){var c=this.ma[b],d;for(d in c)G(a,c[d])}this.o.K(a)}else yn(this.v,Error("Local Storage: No schema adapter for current schema version "+(this.j?Zs(this.j):-1))),this.o.K(null)};
function cw(a){var b=a.j?Zs(a.j):-1;1<b&&6>b&&yn(a.v,Error("IDB version less than the minimum. version: "+b));return 6>b?-1:b}function bw(a){for(var b in a.g)a.g[b].X();for(b in a.ma){var c=a.ma[b],d;for(d in c)c[d].X()}H(a.j)};function ew(a,b,c,d){this.B=a;this.o=b;this.C=c?c:"DefaultLocalStoreSessionId";this.A=d||new Ur;this.j=null;this.v=new V(this);G(this,this.v);this.g=fw(this)}v(ew,F);function fw(a){a.g&&H(a.g);var b=vf(K(),"lssv");return new $v(a.B,a.C,0,a.ui.bind(a),b,!0)}function gw(a){a.j||(a.j=hw(a),Rg(a.j,function(a){this.Bd();throw a;}.bind(a)));return a.j}
function iw(a){return gw(a).then(function(a){return(new S(function(b,d){pv(a.fc(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==wf(K(),"docs-offline-lsuid")?new Rr(a):null}.bind(this))}.bind(a))}k=ew.prototype;k.get=function(){return iw(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.g})};function hw(a){return(new S(function(a,c){U(this.g.create(this.Bd.bind(this)),a,c)}.bind(a))).then(a.yj.bind(a))}
k.yj=function(a){if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.o){var b=new Qr(a,this.o);G(this,b)}if(a.j)throw Error("Called setWritable on an already writable localstore.");a.j=!0;this.v.listen(a,"L",this.Bd).listen(a,"K",this.Bd);return a};k.Bd=function(){H(this.g);this.g=fw(this);this.j=null};k.ui=function(){var a=this.A,b=new ns("kix",6,8,a),c=new ns("punch",6,8,a),d=new ns("ritz",6,8,a),a=new ns("drawing",6,8,a);return[d,b,c,a]};k.G=function(){H(this.g);ew.J.G.call(this)};function jw(a){this.g=a}v(jw,Ka);function kw(a){this.g=a}kw.prototype.j=function(a,b){return new S(function(c,d){var e=b?["id",b]:[];Rk(Nk(Mk(Qk(Lk(Pk(Zn(this.g,"/logImpressions"),2).o(e),{impressionBatch:vc(a)}),c),function(a){d(new jw("e"==a.type&&(!a.j||"e"==a.j)))})))},this)};function lw(a){switch(a){case "kix":return"kix";case "drawing":return"drawing";case "punch":return"punch";case "ritz":return"ritz";default:throw Error("Could not convert document type "+a);}};function mw(a,b,c,d){this.v=a;this.o=b;this.g=c;this.j=d}k=mw.prototype;k.yf=function(a,b){Cv(this.g.g.de(),r(this.li,this,a,b),b)};k.li=function(a,b,c){var d=vf(K(),"owsprv");c||(c=new vv(!0));if(d&&c.g.webfontsSyncVersion!=d)d=this.o,a=r(this.Yi,this,a,b,c),a=r(d.v,d,a,b),Fv(d.j.Jb(),a,b);else{d=[];c=new T;Qt(this.g.g.g,null,r(this.Ni,this,c),b);d.push(c);if(c=this.g.g.ee()){var e=new T;Xv(c,r(this.Oi,this,e),b);d.push(e)}(new bn(d)).T(r(this.il,this,a,b))}};
k.Yi=function(a,b,c){a=r(this.yf,this,a,b);var d=vf(K(),"owsprv")||0;Y(c,"webfontsSyncVersion",d);this.g.write([c],a,b)};k.Ni=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=nw(this,b[d]);e&&c.push(e)}a.K(c)};k.Oi=function(a,b){var c=[],d;for(d in b)c.push(Jb(b[d].g.fontFamilies));a.K(c)};function nw(a,b){b=kq(b,"startupHints");if(!b)return null;b=b.fontFamilies;if(!b)return null;try{return hc(b)}catch(c){return yn(a.j,Error("Cannot parse font families on startup hints")),null}}
k.il=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];f[0]&&d.push(f[1])}d=xb(d);ub(d);c=this.v;d=rb(d);sb(d,c.g);c.o&&(e=ow(c,pw),sb(d,e),e=ow(c,qw),sb(d,e));ub(d);a=r(c.W,c,a,b,d,!0);rw(c.A,["fonts"],"file",a)};function sw(a,b){this.g=a;this.j=!!b}sw.prototype.getId=h("g");function tw(a){this.g=a}tw.prototype.na=h("g");function uw(a){return"Font|"+a.g};function vw(a,b,c){F.call(this);this.o=a;this.j=b;this.g=c}v(vw,F);
vw.prototype.fetch=function(a,b){a=this.o.filter(a);for(var c=[],d=0;d<a.length;d++)c.push(new sw(new tw(a[d]),b));b=this.j;a=[];for(var d=[],e=0;e<c.length;e++){var f=uw(c[e].getId()),g=b.g[f];g?g=g.Tb().T(r(b.lk,b,c[e].getId())):(a.push(c[e]),b.g[f]=g=new T);d.push(g)}c=new T;U(new bn(d),r(b.Lk,b,c),r(c.R,c));ww(b);if(a.length){d=b.B.fetch(a);e=[];for(f=0;f<a.length;f++)e.push(a[f].getId());U(d,r(b.pj,b),r(b.ge,b,"Entire fetch failed",e),b)}c.T(this.g.g,this.g);return c};function xw(a,b,c){this.o=a;this.g=b||null;this.j=c||!1}xw.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=!!this.o.g[d.toLowerCase()],d=this.g?this.g.lt(d):!1,d=this.j||!d;!e&&d&&b.push(a[c])}return b};function yw(a,b,c){this.o=a;this.j=b;this.g=c}yw.prototype.getId=h("o");function zw(a,b,c,d){this.o=a;this.j=b;this.g=c;this.v=!!d}zw.prototype.getId=h("o");function Aw(a,b,c,d,e){this.v=a;this.j=b;this.o=c;this.A=d;this.g=e}Aw.prototype.na=h("v");Aw.prototype.getStyle=h("o");function Bw(a,b,c){this.o=a;this.j=b;this.g=c}Bw.prototype.getUrl=h("o");function Cw(a,b){if(!Eb(Dw,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.g=a;this.o=b}var Dw={as:"syncMap"};Cw.prototype.L=function(){return this.g[0]};function Ew(a,b,c){this.g=a;this.j=b;this.o=c};function Fw(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new Bw(b[d].url,!!b[d].isLocal,b[d].format));return new Aw(a.fontFamily,!!a.menuFont,a.style,a.weight,c)};function Gw(a,b,c){this.g=a;this.j=b;a={};for(var d in this.g){b=this.g[d];for(var e=0,f;f=b[e];e++)for(var g=0,l;l=f.g[g];g++)if(!l.j){var p=l.getUrl(),u=Hw[l.g],w;w=(new ci(p)).j.get("kit");w||(w=this.j+"\\/([^/.&]+)"+u+"$",w=(w=p.match(w))&&2==w.length?w[1]:null);w||(w="(persistent\\/docs\\/fonts\\/)([^/.]+)("+u+")?$",w=(w=p.match(w))&&4==w.length?w[2]:null);if(!w&&(-1!=p.indexOf("file:///")||-1!=p.indexOf("LOCALFILE:"))){var z=p.split("/"),z=z[z.length-1].split(".");2==z.length&&"."+z[1]==u&&
(w=z[0])}a[p]=w?w+(u||""):null;u||c.log(Error("Missing font file extension for format "+l.g))}}this.o=a}var Hw={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};Gw.prototype.yb=function(a){return this==a?!0:!!a&&a instanceof Gw&&this.j==a.j};function Iw(a,b,c){Cw.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.j=c}v(Iw,Cw);Iw.prototype.get=function(a){return this.j[a]};Iw.prototype.set=function(a,b){this.j[a]=b};var pw=["syncMap","applicationFonts"],qw=["syncMap","preferences"].concat(["docs-fonts"]);function Jw(a,b){for(var c=a.na(),d=gt(a),e=[],f=0;f<d.length;f++){for(var g=d[f],l=[],p=0;p<g.g.length;p++){var u=g.g[p];l.push(new Bw(u.getUrl(),u.g,u.j))}p=g.na();e.push(new Aw(p,g.j,g.getStyle(),g.A,l))}d={};d[c]=e;return new Gw(d,a.g.version,b)}var Kw=/\/fonts\/([^/]+)$/;function Lw(a){return(a=a.match(Kw))?a[1]:null};function Mw(){this.g={}}Mw.prototype.get=function(a){return this.g[a]||null};Mw.prototype.set=function(a,b){this.g[a]=b};function Nw(a,b,c,d,e){this.A=a;this.j=b;this.v=c;this.o=d;this.g=e||new Mw}k=Nw.prototype;k.fetch=function(a){if(a.j)return a=new T,a.R(),a;a=a.getId();var b=a.na(),c=new T,d=this.g.get(b);d?c.K(new yw(a,d,"sync-not-needed")):Hv(this.A,[b],r(this.qj,this,a,c),r(c.R,c,"Failed to read fontmetadata for "+b));return c};k.qj=function(a,b,c){c&&c[0]?(c=Jw(c[0],this.o),this.g.set(a.na(),c),b.K(new yw(a,c,"sync-not-needed"))):b.R("Failed to read fontmetadata.")};
k.Ha=function(a){if(!this.j.j)return nh(a);for(var b=a.j,c=a.getId(),c=b.g[c.na()],d={},e=b.o,f=new T,g=0;g<c.length;g++)for(var l=c[g].g,p=0;p<l.length;p++){var u=l[p];if(!u.j){var w=e[u.getUrl()];if(!w)return f.R("Bad url "+u.getUrl()),f;d[w]=new zw(w,u.getUrl(),"")}}this.v.g(d,["fonts"],!1,r(this.$j,this,a,f,b));return f};
k.$j=function(a,b,c,d){if(0<d.Xc||0<d.Cc||0<d.Xc||0<d.Cc)b.K(a);else{var e=Jb(c);a=a.getId();var f=e.g[a.na()];c=c.o;for(var g=0;g<f.length;g++)for(var l=f[g].g,p=0;p<l.length;p++){var u=l[p],w=c[u.getUrl()];if(!u.j&&w){w=d.v[w];if(!w)throw Error("Null local url for font file");l[p]=new Bw(w,!1,u.g)}}var z;a:{for(z in e.g){d=[];f=e.g[z];for(c=0;c<f.length;c++){g=f[c];l=[];for(p=0;p<g.g.length;p++)u=g.g[p],l.push(new ht(u.g,u.j,u.getUrl()));d.push(new it(g.na(),g.j,g.getStyle(),g.A,l))}z=new et(z,
e.j,d,!0);break a}throw Error("Can not create FontMetadata from invalid record");}this.j.write([z],r(this.tj,this,a,b,e),r(b.R,b,"Failed to write updated fontMetadata for "+a.na()))}};k.tj=function(a,b,c){this.g.set(a.na(),c);b.K(new yw(a,c,"sync-not-needed"))};function Ow(a,b){for(var c={},d=0;d<a.length;d++){var e=uw(a[d].getId());c[e]=!0}for(d=0;d<b.length;d++)if(c[uw(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.g=a;this.j=b};function Pw(a,b,c,d){this.v=a;this.o=b;this.j=d||null;this.g=new Qw;if(c){a=Rw(c,this.o).g;for(var e in a)Sw(this.g,a[e])}}Pw.prototype.fetch=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e].getId();b.push(f);var g=f.na(),l=this.g.get(g);l?d.push(new yw(f,l,"sync-needed")):c.push(g)}a=new T;c.length?this.v&&(b=Kk(Mk(Qk(Pk(Zn(this.v,"/font/getmetadata"),2),r(this.A,this,a,b,d)),r(this.B,this,a,c)),["families",c.join(",")]),this.j&&b.o("id",this.j),Rk(b)):a.K(new Ow(d,[]));return a};
Pw.prototype.A=function(a,b,c,d){if(d=d.Ja()){var e=Rw(d,this.o).g;d={};for(var f=0;f<b.length;f++){var g=b[f].na();d[g]=!1;if(g=e[g])Sw(this.g,g),c.push(new yw(b[f],g,"sync-needed"))}for(f=0;f<c.length;f++)g=c[f].getId().na(),d[g]=!0;e=[];for(f=0;f<b.length;f++)d[b[f].na()]||e.push(b[f]);a.K(new Ow(c,e))}else a.R("No font response object.")};Pw.prototype.B=function(a,b,c){a.R(Error("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function Tw(a){this.g=a}
function Rw(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){for(var e=a[d],f={},g=f,l=d,p=[],u=e.fontFaces,w=0;w<u.length;w++)p.push(Fw(u[w]));g[l]=p;c[d]=new Gw(f,e.version,b)}return new Tw(c)}function Qw(){this.g={}}Qw.prototype.get=function(a){return this.g[a]||null};function Sw(a,b){var c=b.g,d;for(d in c)a.g[d]=b};var Uw="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";"),Vw={ar:"Arabic Typesetting;Sakkal Majalla;Simplified Arabic;Traditional Arabic;Al Bayan;Baghdad;DecoType Naskh;KufiStandardGK;Nadeem".split(";"),hi:["Aparajita","Kokila","Mangal","Utsaah","Devanagari MT"],iw:"Aharoni;David;FrankRuehl;Gisha;Levenim MT;Miriam;Narkisim;Rod;Arial Hebrew;Corsiva Hebrew;New Peninim MT;Raanana".split(";"),ja:"Meiryo;MS Gothic;MS Mincho;MS PGothic;MS PMincho;HiraMaruPro-W4;HiraMinPro-W3;HiraKakuPro-W3;HiraMaruProN-W4;HiraMinProN-W3;HiraKakuProN-W3".split(";"),
ko:"Batang;Batangche;Dotum;Dotumche;Gulim;Gulimche;Gungsuh;Malgun Gothic;GungSeo;HeadLineA;PCMyungjo;Pilgi".split(";"),th:"Angsana New;AngsanaUPC;Browallia New;BrowalliaUPC;Cordia New;CordiaUPC;DilleniaUPC;EucrosiaUPC;FreesiaUPC;IrisUPC;JasmineUPC;KodchiangUPC;Leelawadee;LilyUPC;TH Sarabun PSK;TH SarabunPSK;Ayuthaya;Krungthep;Sathu;Silom;Thonburi;Sarabun;TH Sarabun OFL".split(";"),"zh-cn":"SimSun;SimSun-ExtB;SimHei;NSimSun;Microsoft Yahei;FangSong;KaiTi;Hei;Heiti SC;Kai;STFangsong;STHeiti;STKaiti;STsong".split(";"),
"zh-tw":"PMingLiu;PMingLiu-ExtB;MingLiu;MingLiu-ExtB;Microsoft JhengHei;DFKai-SB;BiauKai;Heiti TC;LiHei Pro;LiSong Pro".split(";")};function Ww(a){this.g={};for(var b=0;b<a.length;b++){var c=a[b];this.g[c.toLowerCase()]=c}}function Yw(){var a=Uw,b;for(b in Vw)a=a.concat(Vw[b]);return new Ww(a)};function Zw(a){this.g={};if(a)for(var b=0;b<a.length;b++)this.g[$w(a[b])]=null}var ax={};function $w(a){return a in ax||32==String(a).charCodeAt(0)?" "+a:a}function bx(a){return 32==a.charCodeAt(0)?a.substr(1):a}function cx(a,b){for(var c=0;c<b.length;c++)a.g[$w(b[c])]=null}k=Zw.prototype;k.clone=function(){var a=new Zw,b;for(b in this.g)a.g[b]=null;return a};k.contains=function(a){return $w(a)in this.g};k.yb=function(a){return dx(this,a)&&dx(a,this)};
k.forEach=function(a,b){for(var c in this.g)a.call(b,bx(c),void 0,this)};k.ba=Object.keys?function(){return Object.keys(this.g).length}:function(){var a=0,b;for(b in this.g)a++;return a};k.fa=Object.keys?function(){return Object.keys(this.g).map(bx,this)}:function(){var a=[],b;for(b in this.g)a.push(bx(b));return a};k.aa=function(){for(var a in this.g)return!1;return!0};function dx(a,b){for(var c in a.g)if(!(c in b.g))return!1;return!0}
function ex(a,b){for(var c=0;c<b.length;c++)delete a.g[$w(b[c])]}k.Rb=function(){return eg(this.fa())};function fx(a,b){this.j=a;this.o=b}fx.prototype.v=function(a,b,c){gx(this,a,b,Bb(c))};function gx(a,b,c,d){for(var e=[],f=0;f<d.length;f++){jq(d[f]);for(var g=[],l=gt(d[f]),p=0;p<l.length;p++)for(var u=l[p].g,w=0;w<u.length;w++){var z=u[w];z.g||(z=Lw(z.getUrl()))&&g.push(z)}sb(e,g)}a.j.write(d,r(a.g,a,b,c,e),c)}fx.prototype.g=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=new T,g=this.o,l=r(f.K,f),p=r(f.R,f);U(dl(g.lb,hx(["fonts"],c[e])),r(g.ug,g,l,p),r(g.we,g,l,p));d.push(f)}U(cn(d),a,b)};function ix(){F.call(this)}v(ix,F);function jx(a,b,c){var d=[],e=new T,f=new T;jh(e,f);e.T(Ga(c,d));rw(a,b,"file",function(a){if(a)for(var c=0;c<a.length;c++)d.push(new kx(a[c],b));e.K()});rw(a,b,"directory",r(function(a){if(a&&a.length)for(var c=a.length,e=0;e<a.length;e++)jx(this,b.concat(a[e]),function(a){c--;sb(d,a);0==c&&f.K()});else f.K()},a))}function kx(a,b){this.id=a;this.g=b}function lx(a,b){Ka.call(this,a);this.type=b}v(lx,Ka);function mx(a,b,c,d,e,f,g,l){this.F=a;this.j=b;this.C=c;this.B=d;this.g=e;this.A=f;this.v=g;this.o=l}function ow(a,b){a=a.o.get(b);b=[];for(var c=0;c<a.length;c++){var d;d=a[c];if("syncMap"!=d.L())d=[];else{var e=d.g;d=vb(pw,e.slice(0,pw.length))?d.get("value")||[]:vb(qw,e.slice(0,qw.length))?d.get("familyList")||[]:[]}sb(b,d)}return b}mx.prototype.W=function(a,b,c,d,e){e=e||[];Fv(this.F,r(this.D,this,a,b,c,d,e),b)};
mx.prototype.D=function(a,b,c,d,e,f){var g=new Zw(this.g);cx(g,c);if(d){c=g.ba();for(var l=Cb(f),p=l.length-1;0<=p&&!(60<=c);p--){var u=l[p];g.contains(u)||(g.g[$w(u)]=null,c++)}}else cx(g,Cb(f));g=g.fa();c=[];for(l=0;l<g.length;l++)c.push(new sw(new tw(g[l])));U(this.C.fetch(c),r(this.H,this,a,b,g,d,e,f),b)};
mx.prototype.H=function(a,b,c,d,e,f,g){var l=g.g;g={};for(var p=0;p<l.length;p++){var u=l[p].j,w=l[p].getId();g[w.na()]=u}u=new Zw(c);w=new Zw(e);p=[];l=[];c={};for(var z in f)if(d&&!u.contains(z))p.push(f[z]),delete f[z];else{var da=Jw(f[z],this.v);c[z]=da;var da=da.o,Z;for(Z in da)if(da=Lw(Z),!w.contains(da)){l.push(z);break}}d=new T;gx(this.j,r(d.K,d),r(d.R,d),p);for(z in g)da=c[z],f=g[z],da&&da.yb(f)||l.push(z);f=this.B.fetch(l,!0);d=cn([f,d]);f={};for(z in g)f[z]=g[z];for(z in c)f[z]=c[z];U(d,
r(this.S,this,a,b,f,e),b)};mx.prototype.S=function(a,b,c,d){var e=this.j;if(d){var f=[],g;for(g in c){var l=c[g].o,p;for(p in l)f.push(l[p])}c=new Zw(d);ex(c,f);e.g(a,b,c.fa())}else b(Error("No filesystem font files provided."))};Ha(aa().prototype,aa().prototype);function nx(a){this.j=!!a}nx.prototype.g=function(a,b,c,d){a=c.url;var e=qd(m.location.href);qd(a)!=e&&(a=Ad(a,"cb",e));e=c.entityType;b="drawing"==e&&this.j&&n(c.drawingRevision)?b+"_"+c.drawingRevision:b;d[b]=new zw(b,a,e,"image"==e)};function ox(a,b){var c=null,d=null;if(a.match("^data:")){c=a.split(",",2);d=c[0].split(";");if(!d||2>d.length||"base64"!=d[d.length-1])return oh(Error("data URIs must be base64-encoded: "+a));d=d[0].split(":");d=2==d.length?d[1]:null;if(!d)return oh(Error("data URIs must have mime type: "+a));c=c[1]}if(c&&d){a=m.atob(c);b=d;d=new Uint8Array(a.length);for(c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return nh(new Blob([d],{type:b}))}d=new T;b=b?b():new oj;ne(b,"complete",Ga(px,d));tj(b,2E4);b.B="blob";
b.send(a,"GET");return d}function px(a,b){b=b.target;var c=null,d=null;if(b.Cb()){if(c=Aj(b),null==c||0==c.size)d=Error("Invalid Blob response for URL "+String(b.I))}else d=Error(q(b.A)?b.A:String(b.A));d?a.R(d):a.K(c);b.X()};function qx(a,b,c,d){F.call(this);this.j=b||null;this.v=c||"docs";this.o=n(d)?d:m.PERSISTENT;this.g=a}v(qx,ix);k=qx.prototype;k.lb=null;function rx(a,b,c){var d=new Cs(r(a.Zj,a,"initialize"),3E4,document);d.start();U(gh(sx(a),function(){d.X()}),r(a.sj,a,b,c),r(a.ve,a,c,"initialize"))}function sx(a){switch(a.o){case m.PERSISTENT:return ll(1);case m.TEMPORARY:return ll(0);default:throw Error("Cannot handle Filesystem type: "+a.o);}}k.ve=function(a,b,c){b=tx(b,c);yn(this.g,b);a(b)};
k.Wa=function(a,b,c,d){a=tx(a,d);c&&nb(c,d.name)||yn(this.g,a);this.j&&this.j(a);b(a)};k.Xf=function(a,b,c,d){(b=b.getError())?this.Wa(a,c,null,b):d()};k.Zj=function(a,b){var c={requestTimeout:3E4};c.timeoutDelays=b.g.concat().toString();yn(this.g,Error("Filesystem slowness, took 30000ms during "+a),c)};function tx(a,b){return new lx("Filesystem error ("+b.name+") during "+a,"QuotaExceededError"==b.name?"QuotaExceeded":"Other")}
k.sj=function(a,b,c){U(gl(new cl(c,c.g.root),this.v,2),Ga(this.kj,a,b),Ga(this.ve,b,"handleFileSystemAvailable_"),this)};k.kj=function(a,b,c){this.lb=c;U(dl(c,"__initcheck",2),a,r(this.ve,this,b,"handleDirectoryEntryAvailable_"))};function hx(a,b){(a=a.join("/"))&&(a+="/");b&&(a+=b);return a}k.Xe=function(a,b,c,d,e,f){if(0==b.length)U(ox(c),r(this.Ei,this,a,d,e),e);else{var g=b.shift();a=r(this.Xe,this,a,b,c,d,e);U(gl(f||this.lb,g,2),a,r(this.Wa,this,"addFileToDirectory_",e,null))}};
k.Ei=function(a,b,c,d){b=r(this.pl,this,d,b,c);U(dl(this.lb,a,2),b,r(this.Wa,this,"handleBlobReady_",c,null))};k.pl=function(a,b,c,d){U(jl(d),r(this.ni,this,a,b,c,d.g.toURL(void 0)),r(this.Wa,this,"writeDataToFile_",c,null))};k.ni=function(a,b,c,d,e){a=r(this.ql,this,a,b,c,d,e);c=r(this.Xf,this,"clearAndWriteDataToWriter_",e,c,a);ge(e.v,"writeend",c,!0,void 0,void 0);try{e.o.truncate(0)}catch(f){throw new Uk(f,"truncating file");}};
k.ql=function(a,b,c,d,e){b=r(this.Xf,this,"writeDataToWriter_",e,c,Ga(b,d));ge(e.v,"writeend",b,!0,void 0,void 0);e.write(a)};k.fk=function(a,b,c){"NotFoundError"==c.name?b():this.Wa(a,b,null,c)};k.ii=function(a,b){U(al(b),r(function(c){0<c.size?a(b.g.toURL(void 0)):(yn(this.g,Error("Found a zero byte file:"+b.g.name)),a(null))},this),r(this.Wa,this,"callWithUrlFromFileEntry_",Ga(a,!1),null))};
function rw(a,b,c,d){var e="getDirectoryContents of directory ["+b+"]";U(gl(a.lb,hx(b)),r(a.Ti,a,c,d),r(a.Wa,a,e,function(){d(null)},["NotFoundError"]))}k.Ti=function(a,b,c){U(hl(c),r(this.lj,this,a,b),r(this.Wa,this,"getDirectoryContents_",function(){b(null)},null))};k.lj=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];("all"==a||"file"==a&&f.g.isFile||"directory"==a&&f.g.isDirectory)&&d.push(f.g.name)}b(d)};
k.we=function(a,b,c){"NotFoundError"==c.name?a():this.Wa("handleRemoveFileFailed_",b,null,c)};k.ug=function(a,b,c){U(bl(c),a,r(this.Wa,this,"removeFileEntry_",b,null))};k.Wk=function(a,b,c){U(il(c),a,r(this.Wa,this,"removeDirectory_",b,null))};k.G=function(){qx.J.G.call(this);delete this.lb};function ux(a,b,c,d,e){F.call(this);this.g=a;this.j=b;this.B=d;this.C=e;this.v={};this.o=c;this.A=Ab(this.j)}v(ux,F);k=ux.prototype;k.Hg=0;k.Xc=0;k.Yd=0;k.rf=0;k.Cc=0;k.start=function(){this.B?jx(this.g,this.o,r(this.Yk,this)):vx(this)};k.Yk=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.j[d.id]||b.push(d)}if(b.length)for(this.Yd+=b.length,a=0;a<b.length;a++){var c=b[a],d=this.g,e=r(this.Qi,this),f=r(this.Pi,this);U(dl(d.lb,hx(c.g,c.id)),r(d.ug,d,e,f),r(d.we,d,e,f))}}vx(this)};
function vx(a){if(0==a.A)wx(a);else{var b=uf(K(),"docs-localstore-sefr"),c;for(c in a.j){var d=a.j[c];if(d.j)if(b&&d.v){var e=a.g,f=r(a.rj,a,c,d);U(dl(e.lb,hx(a.o.concat(d.g),c)),r(e.ii,e,f),r(e.fk,e,"getFileUrl",Ga(f,null)))}else xx(a,c,d);else a.ie(c,null)}}}k.rj=function(a,b,c){c?this.ie(a,c):xx(this,a,b)};function xx(a,b,c){var d=a.o.concat(c.g),e=r(a.ie,a,b),f=r(a.Ri,a);a.g.Xe(hx(d,b),d.concat(),c.j,e,f)}k.ie=function(a,b){this.v[a]=b;this.Hg++;wx(this)};k.Ri=function(){this.Xc++;wx(this)};
k.Qi=function(){this.rf++;wx(this)};k.Pi=function(){this.Cc++;wx(this)};function wx(a){var b=a.rf+a.Cc;a.A==a.Hg+a.Xc&&a.Yd==b&&a.C(a)}k.G=function(){ux.J.G.call(this);delete this.g;delete this.j};function yx(a){this.j=a}yx.prototype.g=function(a,b,c,d){(new ux(this.j,a,b,c,d)).start()};function zx(a){this.g=a}function Ax(a,b,c,d){function e(a){d("Could not remove metadata files for "+b+": "+a)}U(a.g,function(a){U(gl(a.lb,hx(["documents",b])),r(a.Wk,a,c,e),r(a.we,a,c,e))},e)}function Bx(a,b,c,d){U(a.g,r(function(a){rw(a,["documents"],"directory",r(function(a){a&&0!=a.length?Cx(this,b,r(function(b){var e=new Zw(a);ex(e,b);b=e.fa();0==b.length?c():this.j(b,c,d)},this),d):c()},this))},a),d)}
function Cx(a,b,c,d){Dx(b,r(function(a){Qt(b.g.g,a,function(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d].getId());c(b)},function(){d("Could not read documents for user: "+a)})},a),d)}function Dx(a,b,c){pv(a.fc(),function(a){1==a.length?b(a[0].getId()):c("There should be exactly 1 user.")},function(){c("Could not read users from storage.")})}zx.prototype.j=function(a,b,c){if(0==a.length)b();else{var d=a.pop(),e=r(this.j,this,a,b,c);Ax(this,d,e,function(){e()})}};function Ex(a){this.g=a};function Fx(){this.o=[];this.j=null}ua(Fx);Fx.prototype.g=function(a,b,c,d){this.j?this.j.g(a,b,c,d):this.o.push(r(this.g,this,a,b,c,d))};function Gx(a){this.g=a}Gx.prototype.j=function(){return["fontFamilies"]};Gx.prototype.o=function(a,b){var c=new T;if((b=b.fontFamilies)&&b.length){b=jc(b);sq(a,"startupHints","fontFamilies",b);b=this.g;var d=r(c.K,c),e=r(c.R,c)||ta,f;a=(kq(a,"startupHints")||{}).fontFamilies;try{f=a?hc(a):[]}catch(g){f=[]}f.length?U(b.fetch(f),d,e):d()}else c.K();return c};function Hx(a){this.g=a}Hx.prototype.j=h("g");Hx.prototype.o=function(a,b){for(var c=0;c<this.g.length;c++){var d=this.g[c];null!=b[d]&&sq(a,"startupHints",d,b[d])}return nh()};function Ix(a){this.g={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.j(),e=0;e<d.length;e++){var f=d[e];if(this.g[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.g[f]=c}}function Jx(a,b,c){var d=[],e;for(e in c)if(a.g[e]){var f={};f[e]=c[e];f=a.g[e].o(b,f);d.push(f)}return cn(d)};function Kx(a){this.g=a.concat()}Kx.prototype.fetch=function(a){a=a.concat();var b=new T,c=[];U(this.g[0].fetch(a),r(this.o,this,a,c,b,0),r(this.j,this,a,c,b,0));return b};Kx.prototype.o=function(a,b,c,d,e){var f=e.g;e={};for(var g=0;g<f.length;g++)e[uw(f[g].getId())]=f[g];b=b.concat(f);for(f=0;f<a.length;f++)uw(a[f].getId())in e&&(Array.prototype.splice.call(a,f,1),f--);0==a.length?c.K(new Ow(b,[])):this.j(a,b,c,d)};
Kx.prototype.j=function(a,b,c,d){if(d==this.g.length-1){d=[];for(var e=0;e<a.length;e++)d.push(a[e].getId());c.K(new Ow(b,d))}else U(this.g[d+1].fetch(a),r(this.o,this,a,b,c,d+1),r(this.j,this,a,b,c,d+1))};function Lx(a){this.o=a;this.g=null;this.j=[];this.o.T(this.v,this)}Lx.prototype.v=function(a){this.g=a;for(a=0;a<this.j.length;a++){var b=this.j[a];ih(this.fetch(b.j),b.g)}};Lx.prototype.fetch=function(a){if(!this.o.g){var b=new T;this.j.push(new Mx(b,a));return b}return this.g?this.g.fetch(a):(b=new T,b.R(),b)};function Mx(a,b){this.g=a;this.j=b};function Nx(a){this.g=a}Nx.prototype.fetch=function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.g.fetch(a[c]));var d=new T;(new bn(b)).T(function(b){for(var c=[],e=[],l=0;l<b.length;l++){var p=a[l].getId();b[l][0]?c.push(b[l][1]):e.push(p)}d.K(new Ow(c,e))});return d};function Ox(a){var b=new T;a.T(function(a){null==a?b.K(null):b.K(new Nx(a))});return new Lx(b)};function Px(a){J.call(this);this.value=a}v(Px,J);function Qx(a){I.call(this,"Q",a)}v(Qx,I);function Rx(a){Px.call(this,a)}v(Rx,Px);function Sx(a,b,c,d){this.B=a;this.o=null;this.A=b;this.g={};this.j=[];this.C=new Rx(!0);this.v=!!d;this.A.T(this.Gj,this)}k=Sx.prototype;k.Gj=function(a){this.o=a;a=this.j;this.j=[];Tx(this,a)};k.lk=function(a,b){return new yw(a,b.j,b.g)};k.pj=function(a){var b=a.g;a=a.j;a.length&&this.ge(0,a);a=[];for(var c=0;c<b.length;c++){var d=b[c];switch(d.g){case "sync-needed":a.push(d);break;case "sync-needed-non-blocking":a.push(d);this.wd(d);break;case "sync-not-needed":this.wd(d)}}Tx(this,a)};
function Tx(a,b){if(a.A.g)if(a.o)for(f=0;f<b.length;f++){var c=b[f],d=a.o.Ha(c),e;"sync-needed"==c.g?(e=r(a.wd,a),c=r(a.ge,a,"Local syncing of remote resource failed",[c.getId()])):(e=ta,c=r(a.hk,a,"Local non-blocking syncing of remote resource failed",[c.getId()]));U(d,e,c)}else for(var f=0;f<b.length;f++){var c=b[f];"sync-needed"==c.g&&a.wd(b[f])}else a.j=a.j.concat(b)}k.wd=function(a){var b=uw(a.getId()),c=this.g[b];delete this.g[b];c.K(a);ww(this)};
k.Lk=function(a,b){for(var c={},d=[],e={},f=0;f<b.length;f++){var g=b[f];g[0]?(g=g[1],this.v?d.push(g):c[uw(g.getId())]=g):(g=g[1],e[uw(g)]=g)}this.v||(d=Bb(c));a.K(new Ow(d,Bb(e)))};k.hk=aa();k.ge=function(a,b){for(a=0;a<b.length;a++){var c=uw(b[a]),d=this.g[c];delete this.g[c];d.R(b[a])}ww(this)};function ww(a){var b=a.C;a=!Cb(a.g).length;b.value!=a&&(b.value=a,b.dispatchEvent(new Qx(b)))};function Ux(){}Ux.prototype.g=ta;function Vx(a){this.j=void 0;this.g={};if(a){var b=og(a);a=ng(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}k=Vx.prototype;k.set=function(a,b){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);c.g[e]||(c.g[e]=new Vx);c=c.g[e]}c.j=b};k.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.g[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.j:void 0};k.fa=function(){var a=[];Wx(this,a);return a};function Wx(a,b){void 0!==a.j&&b.push(a.j);for(var c in a.g)Wx(a.g[c],b)}
k.ta=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.g[e])return[];c=c.g[e]}Xx(c,a,b)}else Xx(this,"",b);return b};function Xx(a,b,c){void 0!==a.j&&c.push(b);for(var d in a.g)Xx(a.g[d],b+d,c)}k.xb=function(a){if(this.j===a)return!0;for(var b in this.g)if(this.g[b].xb(a))return!0;return!1};k.clone=function(){return new Vx(this)};k.ba=function(){return mg(this.fa())};k.aa=function(){return void 0===this.j&&Hb(this.g)};function Yx(a,b,c){this.g=a;this.o=b;this.j=c}Yx.prototype.write=function(a,b,c){if(this.g.j){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=new kt(!0,f.g,f.o),l=g;a:switch(f.L()){case "syncMap":f=f.j;break a;default:throw Error("Unsupported sync object type: "+f.L());}Y(l,"data",f);d.push(g)}this.g.write(d,b,c)}};
Yx.prototype.v=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Jb(e.g.keyPath)[0];switch(f){case "syncMap":c.push(new Iw(Jb(e.g.keyPath),lt(e),e.g.data));break;default:this.j.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function Zx(a,b,c){this.B=a;this.o=null;this.j=new Vx;this.g=new T;this.g.T(r(this.F,this));this.v=c||null;this.A=!b;if(b){a=[];for(c=0;c<b.length;c++){var d=b[c],e=d.keyPath,f=d.state,d=d.data;if(!e||!f||!d)throw Error("Serialized SyncUpdate missing required key.");if(!e.length)throw Error("SyncUpdate key may not be empty.");a.push($x(this,new Ew(e,f,d)))}this.g.K()}}Zx.prototype.F=function(){this.v&&this.v.j("soa")};
Zx.prototype.get=function(a){var b=[];a=this.j.ta(ay(a));for(var c=0;c<a.length;c++)b.push(this.j.get(a[c]));return b};function $x(a,b){var c=b.g[0];switch(c){case "syncMap":return c=b.g,b=new Iw(c,b.j,b.o),a.j.set(ay(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function ay(a){return 0<a.length?a.join("|")+"|":""}Zx.prototype.C=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.j.set(ay(c.g),c)}this.g.K()};function by(){}by.prototype.Ha=function(a,b,c,d,e,f){var g=new F,l={},p=new uq(b,c,a);G(g,p);l.storage=p;l.so=!0;l.kd=d;return Pg(bq(l).then(e,f),function(){p.X()})};function cy(a,b,c,d){this.v=a;this.B=b;this.A=c;this.o=d;this.j={};this.g={}}cy.prototype.C=function(a){for(var b={},c=0;c<a.length;c++)if(a[c][0]&&a[c][1]){var d=a[c][1];b[d]=this.j[d]}return b};cy.prototype.S=function(a){a=a.Ja();for(var b in a){this.j[b]=a[b];for(var c=this.g[b],d=0;d<c.length;d++)c[d].K(b);delete this.g[b]}};cy.prototype.F=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=this.g[c],e=0;e<d.length;e++)d[e].R();delete this.g[c]}};function dy(a,b,c,d,e,f){Rk(Qk(Lk(Zn(d,"/createphoto").o("id",a),b),function(a){var b=a.Ja();if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function ey(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.g=b;this.j=c}ey.prototype.ke=h("g");ey.prototype.getError=h("j");function fy(a){I.call(this,"R");this.g=a}v(fy,I);function gy(a,b,c,d,e,f){this.v=a;this.g={};this.j=new V(this);this.j.listen(a,"R",this.Ij);this.A=b;this.gd=c;this.C=d;this.B=e;this.o=f}v(gy,F);k=gy.prototype;k.G=function(){H(this.j);gy.J.G.call(this)};
k.ol=function(a){for(var b,c=[],d=0;d<a.length;d++){var e=a[d],f=e.g.p;b=this.g[f];if(b.active)throw Error("Tried to transport blob that is currently being transported: "+f);b.active=!0;if(e=oq(e,"oc"))c.push(e);else throw Error("Tried to transport via original image id on blob with no id.");}d=this.A;e=[];f=[];for(b=0;b<c.length;b++){var g=c[b];if(d.j[g])f.push(nh(g));else if(1==d.A.g.g.g)if(0==g.indexOf("PLACEHOLDER_"))f.push(oh(null));else{var l=new T;f.push(l);d.g[g]?d.g[g].push(l):(e.push(g),
d.g[g]=[l])}else f.push(oh(null))}0<e.length&&(c=d.v,b=d.B,g={},g.photo=e,g=xd(g),c=Kk(Zn(b,"/copyimages").o("id",c),g),n(d.o)&&Pk(c,d.o),Rk(Mk(Qk(c,r(d.S,d)),r(d.F,d,e))));c=(new bn(f)).T(d.C,d);c.T(r(this.dj,this,a))};
k.nl=function(a){var b=a.g.p,c=this.g[b];if(c.active)throw Error("Tried to transport blob that is currently being transported: "+b);c.active=!0;var d=oq(a,"ou");a.getUrl()||d?!d||0!=d.indexOf("http://")&&0!=d.indexOf("https://")?(c=a.getUrl()||oq(a,"ou"),d=a.g.f,c=U(ox(c,this.F).Tb(),r(this.D,this,d),r(this.I,this)),U(c,r(this.$i,this,b),r(this.Zi,this,b))):(a=r(this.Sj,this,b,c.g),b=r(this.Rj,this,b,c.g),dy(this.gd,{url:d},d||"",this.C,a,b)):(b=new ey(0,null,Error("nonexistentImageUrl")),c.g.R(b))};
k.Ki=function(a){var b=this.g[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.j.X();delete this.g[a]};k.Sj=function(a,b,c,d){a=new ey(0,d,null);b.K(a)};k.Rj=function(a,b,c,d){yn(this.B,Error("Create photo failed with error: "+d));a=new ey(0,null,Error("createPhoto"));b.R(a)};k.$i=function(a,b){a=this.g[a];b=new ey(0,b,null);a.g.K(b)};k.Zi=function(a,b){a=this.g[a];"connectionError"==b.message?(a.active=!1,lk(a.j,!1,!0)):(b=new ey(0,null,b),a.g.R(b))};
k.dj=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=this.g[d.g.p];(d=oq(d,"oc"))&&b[d]?(d=new ey(0,b[d],null),e.g.K(d)):(d=new ey(0,null,Error("unknown")),e.g.R(d))}};k.Ij=function(a){for(var b in this.g){var c=this.g[b];a.g?c.active||lk(c.j,!0,!1):c.j.stop()}};function hy(a,b){this.g=a;this.j=b;this.active=!1};function iy(a){if(m.JSON)try{return m.JSON.stringify(a)}catch(b){}return jc(a)};function jy(a,b,c){a={protocolVersion:"0.8",createSessionRequest:{fields:[{external:{name:"file",filename:a}}]}};var d=a.createSessionRequest.fields,e=d[0].external;null!=b&&(e.size=b);yb(c,function(a,b){d.push({inlined:{name:b,content:a,contentType:"text/plain"}})});return iy(a)}
function ky(a){var b=a;if("string"==typeof a)a:{if(m.JSON)try{var c=m.JSON.parse(a),b=c;break a}catch(d){}b=c=hc(a)}try{return b.sessionStatus?b=b.sessionStatus:b.errorMessage&&(b=b.errorMessage),b.additionalInfo["uploader_service.GoogleRupioAdditionalInfo"].completionInfo}catch(d){}};function ly(a,b,c){F.call(this);this.D=a;this.A=b;this.F=c;this.j={};this.g=[];this.o=null;this.v=new V(this);this.B=new dm(new em(2E3))}v(ly,F);ly.prototype.upload=function(a,b){var c=new T;a=new my(a,b,c);this.o?this.g.push(a):ny(this,a);return c};
function ny(a,b){a.o=b;var c=a.B,d=new wl(b.j,b.fileName);d.o=!0;d=Xl(c.g.g,d);d=new Yl(0,0,d);c.dispatchEvent(new cm(0,null));Vh(Vh(a.v,d,"u",a.C),d,"v",a.H);c=Yj.Fa().g.g;c=Na(cb(c))?a.A:zd(a.A,{authuser:c});d.C=c;d.B="POST";var c=b.j,e=b.fileName,f={};f.containingCosmoId=a.D;a.F&&(f.parentCosmoId=a.F);c=jy(e,c.size,f);d.A=c;d.D=!0;a.j[d.I]=b;d.start()}
ly.prototype.C=function(a,b){var c=a.item,d=c.I,e=this.j[d];if(!e)throw Error("No internal representation found for uploaded file.");var f=c.qa(),g;g=(g=ky(f))?g.status:"UNKNOWN";f=(f=ky(f))?f.customerSpecificInfo:void 0;if(a instanceof am&&a.ze)e.g.R(Error("connectionError"));else if(f)if(b||"SUCCESS"!=g){var l;switch(g){case "FAILURE":l="scottyError";break;case "REJECTED":l=f&&"anonymous_user"==f.type?"invalidAuth":"scottyReject";break;case "UNKNOWN":case "QUEUED":case "CANCELLED":case "SUCCESS":l=
"unknown"}e.g.R(Error(l))}else e.g.K(f);else e.g.R(Error("invalidResponse"));H(c);delete this.j[d];this.o=null;this.g&&0!=this.g.length&&ny(this,this.g.shift())};ly.prototype.H=function(a){this.C(a,!0)};ly.prototype.G=function(){ly.J.G.call(this);Ud(this.v,this.B)};function my(a,b,c){this.j=a;this.fileName=b;this.g=c};function oy(a,b,c,d,e,f,g){gy.call(this,b,c,d,e,f);this.M=a;this.F=g}v(oy,gy);oy.prototype.D=function(a,b){return this.M.upload(b,a).Tb().T(this.H,this)};oy.prototype.I=function(){return Error("fileNotFound")};oy.prototype.H=function(a){return a.id};function py(a){J.call(this);this.j=new V(this);this.g=a;this.j.listen(a,"H",this.o)}v(py,J);py.prototype.o=function(a){1==a.j.g!=(1==a.g.g)&&this.dispatchEvent(new fy(1==a.g.g))};py.prototype.G=function(){H(this.j);py.J.G.call(this)};function qy(a,b){this.g=n(a)?a:0;this.j=n(b)?b:""};function ry(){I.call(this,"T")}v(ry,I);function sy(){I.call(this,"W")}v(sy,I);function ty(){I.call(this,"X")}v(ty,I);function uy(){J.call(this)}v(uy,J);function vy(){I.call(this,"U")}v(vy,I);function wy(a,b){I.call(this,"$");this.g=a;this.message=b}v(wy,I);function xy(){I.call(this,"Y")}v(xy,I);function yy(a,b,c,d,e,f,g,l,p,u){J.call(this);this.C=a;this.N=b;this.g=c;this.H=d||null;this.D=e||null;this.U=f||{};this.A=0;this.B=this.o=null;this.M=!!g;this.O=!!l;this.j=p||null;this.I=u||null}v(yy,uy);
function zy(a,b){if(!a.j||!a.j.bg())if(b)if(0==a.A&&!a.o||!a.M&&a.A!=a.o.I)a.dispatchEvent(new wy(1,"Missing chunks"));else if(a.g){b=a.g;var c=a.o.F;if(b.g&&b.U){if(b.v)throw Error("Cannot process startup hints twice for the same document.");b.v=Jx(b.U,b.g,c);b.F=null}else if(b.U){if(b.F)throw Error("Startup hints were already set.");b.F=c}if((b=a.o.D)&&a.D&&a.H){var c=a.D,d=a.C,e={},f=[],g;for(g in b)c.g(d,g,b[g],e,f);a.g.Oa=f;g=Ib(e);Lb(g,a.U);b=r(a.P,a);a.H.g.g(g,["documents",a.C],!0,b)}else a.dispatchEvent("V")}else a.dispatchEvent("V");
else a.dispatchEvent(new wy(3,"Document not accessible"))}yy.prototype.P=function(a){0<a.Xc||0<a.Cc?this.dispatchEvent(new wy(2,"File sync failed")):this.dispatchEvent("V")};function Ay(a,b,c,d,e){this.A=a;this.F=b;this.j=c;this.v=d;this.B=e;this.g=0;this.o=null}
function By(a,b){for(var c=a.A();;){if(0==a.g)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.g+=5;else{a.j("Safety prefix not present.");break}else break;if(5==a.g)if(c.length>=a.g+2)if("0&"==c.substring(a.g,a.g+2))a.g+=2;else{a.j("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.g);if(0>d){b&&(a.v(),Di(a.o));break}var e=+c.substring(a.g,d);if(isNaN(e)){a.j("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.g=e;d=c.substring(d+1,e);try{var f=Dk(d)}catch(g){a.j("Error parsing chunk.");
break}if(f)a.F(f);else{a.j("Received a blank chunk.");break}if(!a.B){Di(a.o);a.o=Ci(r(a.C,a,b));break}}}Ay.prototype.C=function(a){this.o=null;By(this,a)};function Cy(a,b,c){this.g=a;this.j=b;this.o=c};function Dy(a,b,c,d,e,f,g,l,p,u,w,z,da,Z){this.C=a;this.B=b;this.A=c;this.g=d;this.j=e;this.F=f;this.D=g;this.S=l;this.o=p;this.v=u;this.H=w;this.W=z;this.I=n(Z)?Z:null;this.M=da}Dy.prototype.Xa=h("S");function Ey(a,b,c,d,e,f,g){this.D=a;this.v=b;this.S=e;this.C=f;this.j=this.A=0;this.B=new Ay(this.D,r(this.W,this),r(this.F,this),r(this.H,this),d);this.g=!1;this.o=g||null}
Ey.prototype.W=function(a){if(0==this.A){this.o&&es(this.o,"mmr",this.j);var b=a.me,c=b.rat,d=this.v,e=new Dy(a.r,c?new vr(c):null,a.mv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,a.slm||null,a.mc);d.o=e;b=e.C;d.B=b;var c=e.B,f=e.A;d.dispatchEvent(new sy);if(!d.j||!d.j.bg()){var g=e.g;a=e.j;d.dispatchEvent(new ry);d.dispatchEvent(new xy);d.dispatchEvent(new vy);if(d.I){var l=e.M;l&&fs(d.I,l)}if(d.g){var p=e.Xa(),u=e.o,w=e.v,l=e.H,e=e.W,z=d.g;z.g?(Y(z.g,"title",p),z.Y=null):z.Y=p;p=d.g;p.g?(qq(p.g,
"isFastTrack",u),p.M=null):p.M=u;u=d.g;(p=u.g)?(qq(p,"ind",!e),u.$=null):u.$=e;w&&(e=d.g,e.g?(Y(e.g,"jobset",w),e.N=null):e.N=w);l&&(w=d.g,null!=l&&(w.g?(Fr(w.g,l),w.la=0):w.la=l));l=d.g;l.g?(Hr(l.g,f),l.P=null):l.P=f;f=d.g;f.D&&Fy(f,b,c);f.O=b;f.fg=c;d.O||Gy(d.g);b=Number(g);isNaN(b)||(g=d.g,(c=g.g)?(g=g.Xb.getId(),sq(c,"acl",g,b)):g.Na=b);a&&(d=d.g,d.g?(Gr(d.g,a),d.B=null):d.B=a)}}}else if(1==this.A&&this.o&&es(this.o,"fmpdr",this.j),d=this.v,g=new Cy(a.si,a.sci,a.sc),!d.j||!d.j.bg()){if(null==
d.B)throw Error("Revision was not defined");f=d.N;c=d.B;a=d.g||void 0;l=g.g;l=(b=""==l)?f.g:f.j+l;f=g.j;t();g=Zr(g.o);t();if(a)if(c=new yr(c,0,null,g,l,f),b=b&&0==f,a.wa)!a.o||a.H.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(c.g!=a.O)throw Error("Expected batch revision of "+a.O+", but got "+c.g);a=a.o;b&&(a.g=[],a.j=!0);a.g.push(c)}d.dispatchEvent(new ty);d.A++}this.A++};Ey.prototype.F=function(){this.g=!0;this.S()};
Ey.prototype.H=function(){this.g||(zy(this.v,!0),this.C())};function Hy(a,b){I.call(this,"ca");this.g=a;switch(this.g){case 3:this.message="Request returns too much data";break;case 2:this.message="Missing chunks";break;default:this.message="Unknown Server Error"}b&&(this.message+=": "+b)}v(Hy,I);function Iy(a,b,c,d,e,f,g,l,p,u,w,z,da,Z,na){F.call(this);this.P=a;this.I=b;this.A=d;this.o=new V(this);this.v=n(w)?w:null;this.B=l;this.N=p;this.C=z||null;if(null!=this.v&&!this.C)throw Error("Must supply revision HMAC when fetching at revision.");this.F=da||null;this.M=g;this.H=um();a=ya(Z)?Z:6E4;this.g=u?u():new oj;this.j="";0<a&&tj(this.g,a);this.O=e;this.o.listen(this.g,"readystatechange",this.sl);this.o.listen(this.g,"complete",this.rl);e=r(this.Si,this);u=r(this.Ci,this);a=r(this.X,this);this.D=
new Ey(e,c,0,f,u,a,na)}v(Iy,F);k=Iy.prototype;k.fetch=function(){this.isDisposed();var a=m.location.href.match(pd),b={};b.reason=this.M;b.smv=this.N;this.F&&(b.sid=this.F);null!=this.v&&(b.osr=this.v,b.rhmac=this.C);Lb(b,this.H.g);b=xd(b);this.g.send(od(a[1],void 0,a[3],a[4],this.P+this.I,b))};
k.sl=function(){if(!this.isDisposed())if(null!==this.B&&this.g.qa().length>this.B)H(this.g),this.A(new Hy(3)),this.X();else if(this.O&&3==Ui(this.g)&&this.g.Cb()&&200==this.g.Z()){this.j=this.g.qa();var a=this.D;a.j=t();a.g||By(a.B,!1)}};k.rl=function(){if(!this.isDisposed()){this.j=this.g.qa();var a=this.D,b=this.g.Z();a.g||(404==b||403==b?(zy(a.v,!1),a.C()):200!=b?a.F():(a.j=t(),a.g||By(a.B,!0)))}};
k.Ci=function(){var a=this.g.Z(),b=new Hy(1);if(6==this.g.o&&a)switch(a){case 413:b=new Hy(3);break;default:b=new Hy(1,a.toString())}this.A(b);this.X()};k.Si=h("j");k.G=function(){delete this.j;H(this.o);H(this.g);Iy.J.G.call(this)};function Jy(a){switch(a){case 1:return 1;case 2:case 4:case 3:return 2;case 0:return 0;default:throw Error("No such access level.");}};function Ky(a,b,c,d,e,f){F.call(this);this.Kc=new T;this.I=null;this.Zk=b;this.N=wf(K(),"jobset");this.M=uf(K(),"fatra");this.ea=null;this.ka=void 0;this.Xb=this.P=this.Wb=this.jb=this.Ub=null;this.Nc=c||null;this.U=d||null;this.Y=this.pg=this.Oa=this.F=this.v=null;this.la=0;this.B=null;this.eg=!1;this.j=this.C=this.g=this.hb=this.Lc=this.ga=null;this.D=this.wa=!1;this.ha=new T;b=(e||[]).concat();b.push(this.Kc);for(c=0;c<b.length;c++)jh(this.ha,b[c]);this.ha.T(r(this.gl,this));this.H=a;this.o=new zr;
this.dg=f||null;this.A=this.ib=this.Yb=this.Mc=this.$=this.fg=this.O=this.Na=null;this.ng=!1}v(Ky,F);
function Ly(a,b){var c=new T;if(!a.g)return c.K(!0),c;if(a.wa)return a.Se(c,!!b,!0),c;a.Y&&(Y(a.g,"title",a.Y),a.Y=null);0<a.la&&(Fr(a.g,a.la),a.la=0);a.N&&(Y(a.g,"jobset",a.N),a.N=null);null!=a.M&&(qq(a.g,"isFastTrack",a.M),a.M=null);var d=a.g;if(d.eb()){var e=t();Y(d,"lastSyncedTimestamp",e)}a.B&&(Gr(a.g,a.B),a.B=null);null!=a.ga&&(qq(a.g,"inc",!a.ga),a.ga=null);null!=a.Lc&&(qq(a.g,"pendingCreation",a.Lc),a.Lc=null);null!=a.ea&&(qq(a.g,"ips",a.ea),a.ea=null);n(a.ka)&&(xq(a.g,a.ka),a.ka=void 0);
null!==a.P&&(Hr(a.g,a.P),a.P=null);(d=a.g)&&pq(d,"inc")&&a.I?(Y(d,"ic",a.I),a.I=null):d&&(a.I=null);null!==a.$&&(qq(a.g,"ind",!a.$),a.$=null);null!==a.Ub&&(Y(a.g,"lsst",a.Ub),a.Ub=null);null!==a.jb&&(a.g.rc(a.jb),a.jb=null);null!==a.Wb&&(a.g.tc(a.Wb),a.Wb=null);null!=a.hb&&(qq(a.g,"hpmdo",a.hb),a.hb=null);if(d=null!=a.A)d=a.A,d=My(a)||3==d;d&&(Lr(a.g,a.A),a.A=null);a.D&&(null!==a.Mc&&(qq(a.g,"modelNeedsResync",a.Mc),a.Mc=null),null!=a.Yb&&(Kr(a.g,a.Yb),a.Yb=null),null!=a.ib&&(Jr(a.g,a.ib),a.ib=null));
d=a.v&&a.v.g;a.Se(c,!!b);a.U&&a.F&&!a.v&&(a.v=Jx(a.U,a.g,a.F),a.F=null);a.v&&!d&&(d=new T,jh(c,d),gh(a.v,nd(r(a.Se,a,d,!!b))));a.eg&&((b=a.C.g.ed())&&lv(b.g,a.Zk),a.eg=!1);return c}k=Ky.prototype;
k.Se=function(a,b,c){var d=[];c||d.push(this.g);this.j&&My(this)&&(Mu(this.j),d.push(this.j));var e=null,f=null,g=!1;this.j&&(e=this.j.aa(),f=Eu(this.j),g=!!this.j.A.revision);if(!e){var e=null,l=!1;this.g&&(e=nq(this.g,"rev"),l=!!this.g.A.rev);var p={};p.writePendingQueueOnly=!!c;p.hasSwitchedToLocalStorage=this.D;this.j?(p.pendingQueue_isAvailable=!0,p.pendingQueue_revisionModified=g):p.pendingQueue_isAvailable=!1;this.g?(p.localDocument_isAvailable=!0,p.localDocument_revision=e,p.localDocument_revisionModified=
l,p.localDocument_commandQueueModified=!this.g.o.aa()):p.localDocument_isAvailable=!1;var u=uf(K(),"docs-offline-edrr2");uf(K(),"docs-localstore-epla")&&u&&g&&My(this)&&f!=e&&yn(this.H,Error("Pending queue revision write is out of sync with the local document revision."),p);!c&&u&&l&&e!=f&&yn(this.H,Error("Local document revision write is out of sync with the pending queue revision."),p)}b=b?r(a.R,a):this.pg||void 0;a=c?r(a.K,a):r(this.jk,this,a,b);this.C.write(d,a,b)};
k.jk=function(a,b){if(this.Oa){var c=this.Oa;this.Oa=null;this.C.write(c,r(a.K,a,!0),b)}else a.K(!0)};function Ny(a,b){a.j=b;uf(K(),"icso")||a.D||!uf(K(),"docs-localstore-epla")||(a.Nc.el(!1),Ru(a.j,!0))}
k.gl=function(){this.g?qq(this.g,"hpmdo",!1):this.hb=!1;var a=this.g;Ar(this.o,a.o);H(this.o);this.o=a.o;if(null!==this.Na){var b=this.Xb.getId();sq(a,"acl",b,this.Na);this.Na=null}null===this.O||Fy(this,this.O,this.fg);this.dg&&(b=this.dg,b.C=this.C,b.g=a,b.Xb=void 0);this.Nc&&this.Nc.el(!0);this.j&&Ru(this.j,!1);this.D=!0;return Ly(this)};function My(a){return uf(K(),"docs-localstore-epla")?a.ng?!0:a.D:!0}function Gy(a){a.g?(qq(a.g,"inc",!1),a.ga=null):a.ga=!0}
function Fy(a,b,c){a=a.g;uf(K(),"docs-offline-edrr2")?Er(a,b,c):Er(a,null,null)}function Oy(a,b){a.g?(qq(a.g,"ips",b),a.ea=null):a.ea=b}function Py(a){var b=t();a.g?Y(a.g,"lsst",b):a.Ub=b}k.tc=function(a){this.g?this.g.tc(a):this.Wb=a};k.rc=function(a){this.g?this.g.rc(a):this.jb=a};function Qy(a){a.g?(a=a.g,Kr(a,1),Jr(a,t())):(a.ib=t(),a.Yb=1)}
function Ry(a,b,c){var d;if(d=a.g)d=My(a)||3==b;d?(Lr(a.g,b),a.A=null):c?a.g?(Lr(a.g,b),a.A=null):wn(a.H,Error("Force persisting pending queue state without a document record.")):a.A=b}k.G=function(){this.g||H(this.o);Ky.J.G.call(this)};function Sy(a){this.j=a;this.g=new Tk};function Ty(a,b,c){I.call(this,a,c);this.g=b}v(Ty,I);function Uy(a,b,c){Ty.call(this,"fa",a,c)}v(Uy,Ty);function Vy(){J.call(this)}v(Vy,J);function Wy(a,b,c){I.call(this,"ga",c);this.g=a}v(Wy,I);function Xy(a,b,c,d,e,f,g,l,p){J.call(this);this.H=a;this.B=b;this.C=c;this.A=f;this.D=n(g)?g:3;this.o=p;this.N=l||Wn}v(Xy,Vy);Xy.prototype.j=!1;Xy.prototype.g=!0;Xy.prototype.I=function(a){this.g=this.j=!1;this.dispatchEvent(new Uy(a))};
Xy.prototype.M=function(a){a=a.Ja();this.j=!1;if(a&&!Hb(a)){this.g=!1;a=a.revisionRanges;if(!a||!wa(a)||0>=a.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+a);for(var b=[],c=-1,d=0;d<a.length;d++){var e=a[d];if(!e||2!=e.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+e);var f=e[0],e=e[1];if(null==f)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");
if(null==e)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(e<f)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+e+") < expected range start ("+f+")");if(f<=c||e<=c)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+a);c=e;b.push(new Bl(f,e))}this.dispatchEvent(new Wy(b))}else{if(this.g)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");
this.dispatchEvent("ga")}};function Yy(a){this.$a=a}Yy.prototype.ia=function(a){for(var b={},c=this.$a,d=a.xa(),e=[],f=0;f<d.length;f++)e.push(c.ia(d[f]));b.commands=e;b.sid=a.ca;b.reqId=a.bb();return b};Ha(aa().prototype,$d.prototype);function Zy(a,b,c,d){J.call(this);this.o=a;this.A=b;this.B=c;this.j=d||null;this.g=0}v(Zy,J);Zy.prototype.C=function(){this.g--;0==this.g&&this.dispatchEvent("writesComplete")};function $y(a){I.call(this,a)}v($y,I);Ha(aa().prototype,$d.prototype);function az(a,b){J.call(this);this.C=b;this.j={};this.o={};this.A={};this.g={};this.B={};for(b=0;b<a.length;b++){var c=a[b],d=c.g.p,e=c.ke(),f=oq(c,"oc");if(this.g[d]||e&&this.g[e]||f&&this.g[f])throw Error("Adding existing blob metadata.");this.g[d]=c;e&&(this.g[e]=c);f&&(this.g[f]=c);switch(c.Z()){case "pending":this.j[d]=c;break;case "saved":this.A[d]=c;this.B[d]=e;break;case "failed":this.A[d]=c;this.B[d]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+c.Z());}}a=new V(this);
G(this,a);a.listen(this.C,"writesComplete",this.D)}v(az,J);function bz(a){return!Hb(a.j)||!Hb(a.o)||0<a.C.g}function cz(a,b,c){var d=b.g.p;a.A[d]=b;a.B[d]=c;delete a.o[d];c=a.C;b=[b];c.g++;c.A.write(b,r(c.C,c),c.j||void 0);bz(a)||a.dispatchEvent("ha")}az.prototype.D=function(){bz(this)||this.dispatchEvent("ha")};function dz(a){if(bz(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return Ib(a.B)}
function ez(a){var b=[];sb(b,Bb(a.j));sb(b,Bb(a.o));sb(b,Bb(a.A));return b};function fz(a,b,c){a.K(new az(c,b))};function gz(a,b,c){this.g=a;this.j=b;this.o=c}gz.prototype.v=function(a,b){b?a(b):a(new xu(this.g,this.j,!0,-1,[],[]))};function hz(a,b,c){this.j=a;this.g=b;this.o=c}hz.prototype.getSelection=h("o");function iz(a,b){J.call(this);this.M=a;this.j=b;this.A=null}v(iz,J);k=iz.prototype;k.Ef=!1;k.Jd=!1;function jz(a){var b=[];a=Nu(a.g);for(var c=0;c<a.length;c++)b.push(a[c].xa().length)}function kz(a){a.A=null;Fu(a.g,null)}k.xa=function(){for(var a=Nu(this.g),b=[],c=0;c<a.length;c++)sb(b,a[c].xa());sb(b,Ou(this.g));return b};
k.replace=function(a,b,c,d){var e=Nu(this.g),f=lz(this);if(a.length!=e.length+f.length)wn(this.j,Error("ReplaceCommands(): invalid replacement count "+a.length+" (expected "+(e.length+f.length)+")"));else{for(var g=mz(this),l=[],p=0;p<e.length;p++)l.push(new wu(a[p].concat(),e[p].bb(),e[p].ca));for(var u=[],p=0;p<f.length;p++)u.push(new wu(a[p+e.length].concat(),f[p].bb(),f[p].ca));this.g.replace(l,u);Du(this.g,b,c);Fu(this.g,null);jz(this);a=[];b=lz(this);for(c=0;c<b.length;c++)a.push(b[c].xa().length);
this.A=d;g&&nz(this);this.aa()&&this.dispatchEvent("pa")}};k.aa=function(){return!oz(this)&&!(Qu(this.g)&&this.B)};function pz(a){return oz(a)&&!qz(a)}function rz(a){sz(a);return Eu(a.g)}k.pi=function(a){for(var b=a.j,c=a.g,d=[],e=0;e<c.length;e++){var f=c[e],g=this.M.ct(f.xa());d[e]=g?new wu(g,f.bb(),f.ca):f}return new hz(b,d,a.getSelection())};function tz(a){a.Jd||(a.Jd=!0,a.dispatchEvent("va"))}k.Dg=function(){this.dispatchEvent("na")};function nz(a){mz(a)||a.dispatchEvent("la")}
function sz(a){if(!a.Ef)throw Error("Attempting to use an uninitialized queue.");}k.Pd=h("Jd");function uz(a){var b=new T;qz(a)?b.K(void 0):(Au(a.g,!0),Ry(a.o,0,!0),ih(vz(a),b));a.dispatchEvent("oa");return b}k.mk=function(){this.dispatchEvent("ua")};function wz(a,b,c,d,e,f,g,l,p,u,w,z){iz.call(this,g,e);this.o=a;this.O=c;this.N=f;this.H=-1;this.D=new T;this.g=b;this.C=l;this.B=!1;this.I={};this.P=z;this.g?(Ny(this.o,this.g),this.D.K(this)):(a=new gz(p,u,d),b=r(this.Y,this),c=r(this.U,this),fv(a.o.g.B,a.g,r(a.v,a,b),c));this.o.ha.T(r(this.Dg,this))}v(wz,iz);wz.prototype.Y=function(a){this.g=a;Ny(this.o,a);this.D.K(this)};wz.prototype.U=function(a){this.D.R(a);this.N(a)};function vz(a){return fh(Ly(a.o,!0),a.N)}
function xz(a,b,c){if(Pu(a.g)){if(Qu(a.g)&&a.B&&null===Cu(a.g))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=Ou(a.g);if(b==d.length)Ju(a.g);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.B=!0;b=Nu(a.g).concat();Pu(a.g)&&(jz(a),b[b.length-1].xa());tz(a);d=null;Pu(a.g)||(d=a.A,kz(a));var e=new hz(rz(a),b,d);U(vz(a),function(){c.K(e)},r(c.R,
c))}wz.prototype.Pd=function(){return wz.J.Pd.call(this)||!this.g.aa()};function oz(a){return Pu(a.g)||!a.B&&Qu(a.g)}function mz(a){var b=a.C,c;!(c=a.H>Eu(a.g))&&(c=null!==b)&&(a=nq(a.g,"accessLevel"),a=null===a?3:a,b=Jy(b),a=Jy(a),c=b!=a);return c}function qz(a){var b=a.o.g,b=b?Mr(b):null;return null!==b&&uf(K(),"docs-localstore-epqs")?0==b:zu(a.g)}wz.prototype.G=function(){H(this.g);wz.J.G.call(this)};function lz(a){a=a.g;return a.v?[]:a.o}
function yz(a){var b=a.j;vn(b,"pendingQueue_startedEmpty",a.g.aa().toString());vn(b,"pendingQueue_startedAnachronistic",mz(a).toString());b.j.pendingQueue_initialRevision=Eu(a.g).toString();b.j.pendingQueue_initialModelRevision=a.H.toString();vn(b,"pendingQueue_initialBundleInfo",zz(a));var c=a.o.g,c=c?Mr(c):null,d=Cu(a.g);b.j.pendingQueue_initialState=null===c?"null":c.toString();vn(b,"docs-localstore-epqs",uf(K(),"docs-localstore-epqs").toString());b.j.pendingQueue_initialSavedRevision=null===d?
"null":d.toString();un(b,"pendingQueue_isEmpty",function(){return this.g.aa().toString()}.bind(a));un(b,"pendingQueue_revision",function(){return Eu(this.g).toString()}.bind(a));un(b,"pendingQueue_hasDequeued",function(){return this.B.toString()}.bind(a));un(b,"pendingQueue_hasEnqueued",function(){return(!1).toString()}.bind(a));un(b,"pendingQueue_bundleInfo",function(){return zz(this)}.bind(a));un(b,"pendingQueue_isPersistent",function(){return My(this.o).toString()}.bind(a));un(b,"pendingQueue_isAnachronistic",
function(){return mz(this).toString()}.bind(a))}function zz(a){var b="",c=Nu(a.g);a=c.concat(lz(a));for(var d=0;d<a.length;d++)var e=d<c.length?"sent":"unsent",e={sid:a[d].ca,rid:a[d].bb(),type:e},b=b+(JSON.stringify(e)+"\n");return b};function Az(a,b,c,d,e,f,g){return c.g.B?(new wz(a,null,b,c,d,e,null,null,f,g,0,null)).D:null};function Bz(a,b,c){I.call(this,"ca");this.nf=a;this.g=b;this.message=c}v(Bz,I);function Cz(a){I.call(this,"aa");this.nf=a}v(Cz,I);function Dz(a){J.call(this);this.B=a;this.ha=!1}v(Dz,J);Dz.prototype.Ha=function(){if(this.ha)throw Error("The sync() method can be called only once");pv(this.o.fc(),r(this.hl,this));this.ha=!0};Dz.prototype.la=function(){this.dispatchEvent(new Cz(this.B))};function Ez(a,b,c){F.call(this);this.g=a;this.o=b;this.v=c;this.j=new V(this);G(this,this.j)}v(Ez,F);
Ez.prototype.send=function(){var a;if(bz(this.g)){a=this.g;var b=Bb(a.j);Lb(a.o,a.j);a.j={};a=this.o;for(var c=[],d=0;d<b.length;d++){var e=b[d];oq(e,"oc")&&c.push(e)}for(var f=new kk(r(a.ol,a,c),1E3,9E5,a.o),d=[],g=0;g<b.length;g++){var e=b[g],l=e.g.p;if(a.g[l])throw Error("Attempted to re-transport blob");var p=new T;if(oq(e,"oc"))e=new hy(p,f);else{var u=new kk(r(a.nl,a,e),1E3,9E5,a.o),e=new hy(p,u);1==a.v.g.g.g&&u.start()}a.g[l]=e;gh(p,nd(r(a.Ki,a,l)));d.push(p)}0<c.length&&1==a.v.g.g.g&&f.start();
a=new T;(new bn(d)).T(r(this.A,this,b,a))}else a=nh();return a};
Ez.prototype.A=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].g.p,f=c[d][1];if(c[d][0]){var g=this.g,f=f.ke(),e=g.o[e];if(!e)throw Error("markAsSaved for blob that was not sending.");Y(e,"c",f);Lv(e,"saved");g.g[f]=e;cz(g,e,f);g.dispatchEvent(new $y("ka"))}else{g=this.g;e=g.o[e];if(!e)throw Error("markAsFailed for blob that was not sending.");Lv(e,"failed");cz(g,e,"FAILED_IMAGE_UPLOAD");g.dispatchEvent(new $y("ja"));e=f.getError().message;f={};a:switch(e){case "createPhoto":g="image_upload_other_error";
break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosClipboardOtherSession":g="image_upload_pre_upload_error";break a;default:g="image_upload_scotty_error"}f[g]=e;this.v.log(Error("Failed to sync blob with error"),f)}}bz(this.g)?Vh(this.j,this.g,"ha",r(b.K,b)):b.K()};function Fz(a,b,c,d){F.call(this);this.j=a;this.A=b;this.o=c;this.B=d;this.g=new T;this.v=new V(this)}v(Fz,F);k=Fz.prototype;k.Oc=-1;k.send=function(){this.Oc=-1;if(pz(this.j)){var a=this.j;sz(a);var b=Ou(a.g).length,c=n(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=new T;oz(a)?(a.M&&b.T(r(a.pi,a)),xz(a,c,b)):(b.K(new hz(rz(a),[],a.A)),a.A=null);U(b,this.jj,this.ij,this)}else this.g.K(this);return this.g};
function Gz(a){if(!qz(a.j)&&0<=a.Oc){var b=a.j,c=a.Oc;sz(b);if(!b.Pd())throw Error("removeSent called when not waiting for ack");a=mz(b);var d=b.g;if(null!=nq(d,"snapshotBundleIndex")){var e=nq(d,"snapshotBundleIndex")-d.B.length;Iu(d,0>e?null:e)}d.B=[];Lu(d,3);Du(b.g,c,null);b.g.aa()&&(Gu(b.g,!1),c=b.o,c.g?(xq(c.g,null),c.ka=void 0):c.ka=null,null!==b.C&&Y(b.g,"accessLevel",b.C),Ry(b.o,1));b.Dg();Qu(b.g)&&b.B||(b.Jd=!1,b.dispatchEvent("ta"));a&&nz(b);b.aa()&&b.dispatchEvent("pa")}}
k.jj=function(a){var b=a.j,c;c=this.o;a=a.g;var d=this.A?dz(this.A):{},e=this.B;if(c.j)c=!1;else{c.j=!0;c.g=0<a.length;var f=c.A;if(0==a.length)throw Error("Cannot send an empty message to the server.");if(!ya(b)||0>b)throw Error("Cannot send an invalid revision number to the server: "+b);b=["rev",b];if(0<a.length){for(var g=[],l=0;l<a.length;l++)g.push(f.j.ia(a[l]));b.push("bundles");b.push(f.g.stringify(g))}Hb(d)||(b.push("blobIdMap"),b.push(f.g.stringify(d)));e&&(b.push("syncReason"),b.push(e));
a=c.g?ld(c.N):md;d=Mk(Qk(Kk(Zn(c.C,"/save").o("id",c.B),b),c.M,c),c.I,c);d.B=r(a,void 0);d.$=!0;a=Pk(d,c.D);a.v=!0;c.H&&Jk(a);n(c.o)&&a.setTimeout(c.o);Rk(a);c=!0}c?this.v.listen(this.o,"ga",this.Vj).listen(this.o,"fa",this.Uj):this.g.R(new Hz(!1,void 0))};k.ij=function(a){this.g.R(new Hz(!1,a))};k.Vj=function(a){a=a.g;this.Oc=a[a.length-1].g;a=this.j;var b;b=this.Oc;Qu(a.g)?(Bu(a.g,b),Pu(a.g)||Ry(a.o,3),b=vz(a)):b=nh();b.Tb().T(r(a.mk,a));this.g.K(this)};
k.Uj=function(a){a=a.g;"e"!=a.type||a.j&&"e"!=a.j?this.g.R(new Hz(!1,void 0)):gh(uz(this.j),function(){this.g.R(new Hz(!0,void 0))}.bind(this))};k.G=function(){H(this.v);Fz.J.G.call(this)};function Hz(a,b){this.j=a;this.g=b};function Iz(a){this.g=new T;this.j=Ci(this.A,a,this);this.o=!1}Iz.prototype.T=function(a,b){this.g.T(a,b)};Iz.prototype.K=function(a){this.o||(Di(this.j),this.j=null,this.g.K(a))};Iz.prototype.v=function(a){this.o||(Di(this.j),this.j=null,this.g.R(a))};Iz.prototype.A=function(){this.o=!0;this.g.R("Deferred timed out.")};function Jz(a,b,c,d,e,f,g,l,p,u,w,z,da,Z,na,ra,X,Ua,rC,sC,tC,Xw,uC,vC){Dz.call(this,l.getId());this.Lc=a;this.Yb=b;if(c&&null==d)throw Error("Must specify a session ID in order to save changes.");if(!c&&w)throw Error("Must supply net service when delivering local changes.");this.Y=c;this.ca=d;this.hb=new Ur;this.Oa=new Sy(new Yy(this.hb));this.D=e;this.Xb=f;this.o=g;this.j=l;this.ea=new T;this.g=new Ky(e,l.getId(),void 0,vC,[this.ea]);this.g.ng=!0;a=r(this.Ob,this);this.g.pg=a;this.Mc=ra;this.jb=
X||null;this.O=Ua||null;this.wa=uf(K(),"docos-eos");this.ib=rC||null;this.P=!!sC;this.U=new V(this);this.H=this.C=null;if(w&&!Xw)throw Error("We can't deliver local changes without a blob transporter");this.Na=Xw||null;this.A=null;this.M=p;this.ga=u;if(null!=this.M&&!this.ga)throw Error("Must supply revision HMAC when syncing at revision.");this.I=w;this.ka=z;this.$=da;this.Nc=tC;this.Wb=uC||null;this.N=!1;this.Kc=na}v(Jz,Dz);k=Jz.prototype;
k.hl=function(a){if(0>=a.length)this.Ca(8,"Could not read local store: No opted in user.");else{var b=this.g,c=this.j;a=a[0];b.C=this.o;b.g=c;b.Xb=a;b=this.g;b.wa||b.ha.K(!0);b=this.g;if(!b.Kc.g){if(c=b.j)a=b.H,c.v&&(c.v=!1,yn(a,Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:Cu(c),queueRevision:Eu(c)}),Au(c,!1),Gu(c,!1),Bu(c,null),Fu(c,null),Iu(c,null),c.B=[],c.o=[],Lu(c,2)),c.aa()&&Ry(b,1);b.Kc.K(!0)}Ly(this.g);b=this.B;null!=this.M?this.Pc():this.o.g.A.Od(b,r(this.zj,this),
r(this.Ob,this))}};
k.zj=function(a){if(1!=a)this.Ca(3,"Unable to acquire the storage lock");else if(this.I){var b=this.j,c=this.Y,d=this.D;a=new T;if(pq(b,"inc"))if(null===b.Xa())b.getId(),c={},c.docId=b.getId(),yn(d,Error("Not creating document without title"),c),a.R(void 0);else{b.getId();var d={newDocId:b.getId(),title:b.Xa()},e=rq(b,"ic");e&&(d.initialCommands=jc(e));(e=oq(b,"fact"))&&(d.folder=e);(b=oq(b,"odocid"))&&(d.sourceDocId=b);b=Zn(c,"/create");b.U=!0;b=Mk(Qk(Lk(b,d),a.K,a),a.R,a);n(2)&&Pk(b,2);Rk(b)}else b.getId(),
a.K(void 0);U(a,r(this.ej,this),r(this.mj,this))}else pq(this.j,"inc")?this.Ca(11,"Skipping document because it is not known to exist on the server"):this.Pc()};k.mj=function(){this.Ca(7,"Could not create document.")};k.ej=function(){var a=r(this.Tk,this);pq(this.j,"inc")?(Gy(this.g),Ly(this.g).T(a)):a()};
k.Tk=function(){var a=this.B,b=this.o,c=r(this.Ob,this),d=new T,e;(e=(e=b.g.ce())?new Zy(a,b,e,c):null)?(b=b.g.ce(),e=Ga(fz,d,e),c=$s(b.g,["BlobMetadata"],"Reading all blob metadata",c),Ym(c,"BlobMetadata",r(b.o,b),e,[a],[a,[]],void 0,void 0,void 0,!0)):d.K(null);d.T(this.Kj,this)};k.Kj=function(a){var b=r(this.qg,this,r(this.vi,this),r(this.Pc,this));a?(this.A=a,(new Ez(this.A,this.Na,this.D)).send().T(b)):b()};
k.qg=function(a,b){var c=Az(this.g,this.ca,this.o,this.D,r(this.Lj,this),this.j.getId(),this.j.L());c?U(c,function(b){this.C=b;a()},this.Mj,this):b&&b()};k.Lj=aa();k.Pc=function(){var a=this.B,b=new yy(a,this.Xb,this.g,this.jb||void 0,this.ib||void 0,Kz(this));this.U.listen(b,"V",this.Fj).listen(b,"$",this.Wj);var c=new Iy(this.Lc+"/d/"+a,this.Yb,b,r(this.Wf,this),!1,!0,this.$,this.Wb,this.Kc,this.Mc,null==this.M?void 0:this.M,this.ga||void 0,void 0,this.Nc);this.N=!0;Py(this.g);Ly(this.g).T(function(){c.fetch()})};
function Kz(a){if(!a.A)return{};var b=dz(a.A),c={},d;for(d in b)b=a.A,(b.j[d]||b.o[d]||b.A[d]||null).getUrl()&&(c[d]=new zw(d,null,"image"));return c}
k.vi=function(){var a=this.C;if(qz(a))this.Ca(5,"pending command queue is undeliverable.");else if(pz(a)){a.g||wn(a.j,Error("Cannot initialize queue without a record"));var b=Eu(a.g);0>b&&wn(a.j,Error("Cannot initialize queue without a real pending queue revison."));var c=kq(a.g,"revisionAccessInfo"),d=xr(c);a.Ef=!0;a.g||wn(a.j,Error("Cannot initialize queue without a record"));a.H=b;c=Eu(a.g);yz(a);var e=a.o.g,e=e?Mr(e):null;if(null!==e){var f=Cu(a.g);a.g.aa()&&1!=e?yn(a.j,Error("pendingQueueState "+
e+" does not match the pending queue record state: empty")):null===f||!Qu(a.g)||Pu(a.g)||3==e?zu(a.g)&&0!=e&&yn(a.j,Error("pendingQueueState "+e+" does not match the pending queue record state: undeliverable")):yn(a.j,Error("pendingQueueState "+e+" does not match the pending queue record state: saved to server"))}if(c==b){if((e=kq(a.g,"selection"))&&a.P){e=a.P.g(new Tr(e));if(a.A)throw Error("Selection is already set in #initializeSelection");a.A=e}}else Fu(a.g,null);b<c&&!a.g.aa()&&wn(a.j,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));
e=!1;var g=Cu(a.g),f=uf(K(),"icso");uf(K(),"docs-localstore-epqs")?(g=Mr(a.o.g),g=null!==g&&3==g,f=!f&&!a.g.aa()&&g):null!==g&&Qu(a.g)&&!Pu(a.g)&&b>=g?(f&&yn(a.j,Error("Model revision ahead of sentBundlesSavedRevision while cold starting",{pendingQueue_sentBundlesSavedRevision:g})),f=!0):f=!1;f&&(b>c?e=a.g.v=!0:b==c&&yn(a.j,Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.j.j.pendingQueue_forcedEmptyInMemory=e.toString();a.g.aa()&&(Du(a.g,b,d),
null!==a.C&&Y(a.g,"accessLevel",a.C));d=uf(K(),"icso");b>c&&d&&!a.g.aa()&&wn(a.j,Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"));c=!1;e=Cu(a.g);d=uf(K(),"icso");uf(K(),"docs-localstore-epqs")?(b=Mr(a.o.g),b=null!==b&&3==b,b=d&&!a.g.aa()&&b):null!==e&&Qu(a.g)&&!Pu(a.g)&&b<e?(d||yn(a.j,Error("Model revision less than sentBundlesSavedRevision while warm starting",{pendingQueue_sentBundlesSavedRevision:e})),b=!0):b=!1;b&&(c=!0,tz(a));a.j.j.pendingQueue_setWaitingForAck=
c.toString();a.I[a.O]=!0;b=Nu(a.g).concat(lz(a));for(c=0;c<b.length;c++)a.I[b[c].ca]=!0;a.dispatchEvent("qa");nz(a);a=new Xy(!1,this.j.getId(),this.Y,0,0,this.Oa,2,Xn);this.H=new Fz(this.C,this.A,a,this.$);U(this.H.send(),r(this.Pc,this),r(this.Nj,this))}else this.Pc()};k.Mj=function(a){a?this.Ob(a):this.Ca(9,"Could not retrieve pending command queue.")};k.Nj=function(a){this.P&&!qz(this.C)?gh(uz(this.C),function(){Lz(this,a)}.bind(this)):Lz(this,a)};
function Lz(a,b){b.j?a.Ca(5,"Permanent failure while delivering the pending command queue"):b.g?a.Ob(b.g):a.Ca(6,"Temporary failure while delivering the pending command queue")}k.Fj=function(){var a=[];this.H&&Gz(this.H);Oy(this.g,!0);Qy(this.g);this.ea.K();a.push(this.g.ha);a.push(Mz(this));(new bn(a)).T(r(this.xj,this));(a=this.o.g.Af())&&Jt(a,[this.B],r(aa(),this),r(function(a){this.D.log(a)},this))};
function Mz(a){if(!a.I||!a.A||!ez(a.A).length)return nh();var b=new T,c=ez(a.A),d=a.A;a=r(a.Xk,a,b,c);d.j={};d.o={};d.A={};d.B={};d.g={};c=d.C;d=c.o;c=$s(c.B.g,["BlobMetadata"],"Clearing all blob metadata",c.j||void 0,!0);Ts(c,a);Vm(W(c,"BlobMetadata"),[d],[d,[]]);return b}k.Xk=function(a,b){for(var c=[],d=0;d<b.length;d++)oq(b[d],"ou")&&c.push(nh());ih(new bn(c),a)};
k.Wj=function(a){switch(a.g){case 1:this.Wf(new Hy(2));break;case 2:this.Ca(2,"Entity sync failed");break;case 3:this.ka?Nz(this,!1):this.Ca(7,"Server model fetch failed");break;default:this.Ca(7,"Unknown server document loader error")}};k.Wf=function(a){if(this.P)Nz(this,!0);else switch(a.g){case 3:this.Ca(12,a.message);break;default:this.Ca(7,a.message)}};function Nz(a,b){var c=a.g;c.wa=!0;c.B=null;c.g||H(c.o);c.I=null;c.o=null;a.I?Oz(a,b):a.qg(r(a.ik,a,b))}
k.ik=function(a){if(pz(this.C)){var b=uz(this.C);b.T(Pz(this,a));fh(b,r(this.Ob,this))}else qz(this.C)||Oz(this,a)};function Oz(a,b){b=Pz(a,b);a.j.D?b():(jq(a.j),a.o.write([a.j],b,r(a.Ob,a)))}function Pz(a,b){return b?r(a.Ca,a,7,"Server model fetch failed"):r(a.Yc,a)}
k.xj=function(){var a=this.o.g.ed();if(a)if(Qz(this)){var b;b=this.wa&&this.O&&this.I?(b=rq(this.j,"docosKeyData"))&&0!=b.length&&Qz(this)?!!this.ca:!1:!1;if(b){b=new Iz(35E3);b.T(r(this.yi,this));var c=r(this.xi,this);fh(b.g,c,void 0);this.O.Ha(this.B,a,this.o,rq(this.j,"docosKeyData"),r(b.K,b),r(b.v,b));Rz(this)}else this.Yc()}else Rz(this),this.Yc();else this.Yc()};function Rz(a){ut(a.o.g.ed(),[a.B],r(aa(),a),r(function(a){this.D.log(a)},a))}
function Qz(a){var b;a=lq(a.j,"acl");var c=0,d=0;if(a)for(b in a)c=a[b],d++;b=1==d?c:0;return Dr.indexOf(b)>=Dr.indexOf(2)||Dr.indexOf(b)>=Dr.indexOf(4)}k.yi=function(){this.Yc()};k.xi=function(){this.Ca(1,"Docos sync failed")};
k.Ob=function(a){Pg(Sz(this),function(){if(2==a.type)this.dispatchEvent(new Bz(this.B,3,"Write failed due to lock steal: "+a.message));else{var b=Pm(a);(b=!!b&&"QuotaExceededError"==b.name)||(b=Pm(a),b=1==a.type&&!!b&&"UnknownError"==b.name);this.dispatchEvent(new Bz(this.B,b?8:9,"Could not write document to local store: "+a.message))}}.bind(this))};k.Ca=function(a,b){Pg(Sz(this),function(){this.dispatchEvent(new Bz(this.B,a,b))}.bind(this))};
function Sz(a){return a.N?new S(r(function(a,c){St(this.o.g.g,this.j.getId(),r(function(b){b?(b.tc(!1),b.rc(t()),this.o.write([b],a,c)):a()},this),c)},a)):Gg()}k.Yc=function(){Oy(this.g,!1);this.N&&(this.g.tc(!0),this.g.rc(t()));Ly(this.g).T(r(this.la,this))};k.G=function(){H(this.U);H(this.H);Jz.J.G.call(this)};function Tz(a,b,c,d){this.j=a;this.o=b;this.v=c;this.g=d};function Uz(a){this.g=a};function Vz(a){A(this,a,0,-1,null)}v(Vz,y);function Wz(a){A(this,a,0,25,Xz)}v(Wz,y);var Xz=[3,20];function Yz(a,b){C(a,8,b)}function Zz(a){A(this,a,0,-1,null)}v(Zz,y);function $z(a){A(this,a,0,-1,null)}v($z,y);function aA(a){A(this,a,0,-1,null)}v(aA,y);function bA(a){A(this,a,0,14,cA)}v(bA,y);var cA=[3,5];function dA(a){var b=t().toString();C(a,4,b)};function eA(a){this.g=a}eA.prototype.j=function(a){var b=new Wz;Yz(b,a.ia());this.g.log(b);return new S(function(a,b){this.g.C(a,b)}.bind(this))};function fA(a){A(this,a,0,-1,null)}v(fA,y);function gA(a){A(this,a,0,-1,null)}v(gA,y);gA.prototype.mb=function(){return B(this,1)};function hA(a){A(this,a,0,-1,iA)}v(hA,y);var iA=[1];function jA(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a)throw Error("Invalid URI scheme in origin");var c="",d=b.indexOf(":");if(-1!=d){var e=b.substring(d+1),b=b.substring(0,d);
if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};function kA(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;w=u=0}function b(a){for(var b=g,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];for(var d=e[1],f=e[2],l=e[3],p=e[4],u,w,c=0;80>c;c++)40>c?20>c?(u=l^d&(f^l),w=1518500249):(u=d^f^l,w=1859775393):60>c?(u=d&f|l&(d|f),w=2400959708):(u=d^f^l,w=3395469782),u=((a<<5|a>>>27)&4294967295)+u+p+w+b[c]&4294967295,
p=l,l=f,f=(d<<30|d>>>2)&4294967295,d=a,a=u;e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;e[3]=e[3]+l&4294967295;e[4]=e[4]+p&4294967295}function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,g=a.length;e<g;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==u)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,w+=64;for(;d<c;)if(f[u++]=a[d++],w++,64==u)for(u=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,w+=64}function d(){var a=[],d=8*w;56>u?c(l,56-u):c(l,
64-(u-56));for(var g=63;56<=g;g--)f[g]=d&255,d>>>=8;b(f);for(g=d=0;5>g;g++)for(var p=24;0<=p;p-=8)a[d++]=e[g]>>p&255;return a}for(var e=[],f=[],g=[],l=[128],p=1;64>p;++p)l[p]=0;var u,w;a();return{reset:a,update:c,digest:d,digestString:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};function lA(a,b,c){var d=[],e=[];if(1==(wa(c)?2:1))return e=[b,a],ib(d,function(a){e.push(a)}),mA(e.join(" "));var f=[],g=[];ib(c,function(a){g.push(a.key);f.push(a.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];ib(d,function(a){e.push(a)});a=mA(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")}function mA(a){var b=kA();b.update(a);return b.digestString().toLowerCase()};function nA(a){var b=jA(String(m.location.href)),c=m.__OVERRIDE_SID;null==c&&(c=(new $r(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?m.__SAPISID:m.__APISID,null==b&&(b=(new $r(document)).get(c?"SAPISID":"APISID")),b)){var c=c?"SAPISIDHASH":"APISIDHASH",d=String(m.location.href);return d&&b&&c?[c,lA(jA(d),b,a||null)].join(" "):null}return null};function oA(){return!pA()&&(x("iPod")||x("iPhone")||x("Android")||x("IEMobile"))}function pA(){return x("iPad")||x("Android")&&!x("Mobile")||x("Silk")};var qA=!1,rA="";function sA(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")}
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(qA=!0,a.description)){rA=sA(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){qA=!0;rA="2.0.0.11";return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],qA=!(!a||!a.enabledPlugin))){rA=sA(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");qA=!0;rA=sA(b.GetVariable("$version"));
return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");qA=!0;rA="6.0.21";return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),qA=!0,rA=sA(b.GetVariable("$version"))}catch(c){}})();var tA=qA,uA=rA;function vA(a){return(a=a.exec(Nb))?a[1]:""}var wA=function(){if(Zb)return vA(/Firefox\/([0-9.]+)/);if(cc)return vA(/Chrome\/([0-9.]+)/);if(dc&&!Sb())return vA(/Version\/([0-9.]+)/);if($b||ac){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Nb);if(a)return a[1]+"."+a[2]}else if(bc)return(a=vA(/Android\s+([0-9.]+)/))?a:vA(/Version\/([0-9.]+)/);return""}();var xA="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;/*


 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var yA;for(yA=0;256>yA;++yA)for(var zA=yA,AA=7,zA=zA>>>1;zA;zA>>>=1)--AA;var BA=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,
2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,
2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,
2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,
3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,
936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];xA&&new Uint32Array(BA);/*


 zlib.heap.js

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
/*


 JavaScript Inflate Library

 The MIT License

 Copyright (c) 2012 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
function CA(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,f,g,l,p,u,w,z;for(w=0;w<b;++w)a[w]>c&&(c=a[w]),a[w]<d&&(d=a[w]);d=1<<c;e=new (xA?Uint32Array:Array)(d);f=1;g=0;for(l=2;f<=c;){for(w=0;w<b;++w)if(a[w]===f){p=0;u=g;for(z=0;z<f;++z)p=p<<1|u&1,u>>=1;for(z=p;z<d;z+=l)e[z]=f<<16|w;++g}++f;g<<=1;l<<=1}};var DA=[],EA;for(EA=0;288>EA;EA++)switch(!0){case 143>=EA:DA.push([EA+48,8]);break;case 255>=EA:DA.push([EA-144+400,9]);break;case 279>=EA:DA.push([EA-256+0,7]);break;case 287>=EA:DA.push([EA-280+192,8]);break;default:throw Error("invalid literal: "+EA);}
var FA=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw Error("invalid length: "+a);}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<
24|d[1]<<16|d[0];return b}();xA&&new Uint32Array(FA);var GA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];xA&&new Uint16Array(GA);var HA=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];xA&&new Uint16Array(HA);var IA=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];xA&&new Uint8Array(IA);var JA=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];xA&&new Uint16Array(JA);
var KA=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];xA&&new Uint8Array(KA);var LA=new (xA?Uint8Array:Array)(288),MA,NA;MA=0;for(NA=LA.length;MA<NA;++MA)LA[MA]=143>=MA?8:255>=MA?9:279>=MA?7:8;CA(LA);var OA=new (xA?Uint8Array:Array)(30),PA,QA;PA=0;for(QA=OA.length;PA<QA;++PA)OA[PA]=5;CA(OA);var RA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];xA&&new Uint16Array(RA);var SA=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];xA&&new Uint16Array(SA);var TA=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];xA&&new Uint8Array(TA);var UA=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];xA&&new Uint16Array(UA);
var VA=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];xA&&new Uint8Array(VA);var WA=new (xA?Uint8Array:Array)(288),XA,YA;XA=0;for(YA=WA.length;XA<YA;++XA)WA[XA]=143>=XA?8:255>=XA?9:279>=XA?7:8;CA(WA);var ZA=new (xA?Uint8Array:Array)(30),$A,aB;$A=0;for(aB=ZA.length;$A<aB;++$A)ZA[$A]=5;CA(ZA);/*


 zlib.js
 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var bB=Zb?"firefox":$b?"iphone":ac?"ipad":bc?"android":cc?"chrome":dc?"safari":"unknown";function cB(a,b,c){sj(a.url,function(a){a=a.target;a.Cb()?b():c(a.Z())},a.o,a.body,a.j,0,a.g)};function dB(a,b,c,d,e,f,g,l,p){J.call(this);this.N=a;this.M=b||ta;this.o=new bA;this.P=l||cB;this.g=[];this.H="";this.I=c||"https://play.google.com/log?format=json";this.D=d||null;this.A=p||null;this.O=!g;a=new aA;C(a,1,1);b=new $z;c=new Zz;C(b,6,x("Android")?3:x("CrOS")?5:x("Windows")?2:x("iPad")?6:Rb()?7:x("iPod")?8:x("Linux")?4:x("Macintosh")?1:0);d=Nb;g="";x("Windows")?(g=/Windows (?:NT|Phone) ([0-9.]+)/,g=(d=g.exec(d))?d[1]:"0.0"):Sb()?(g=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,g=(d=g.exec(d))&&
d[1].replace(/_/g,".")):x("Macintosh")?(g=/Mac OS X ([0-9_.]+)/,g=(d=g.exec(d))?d[1].replace(/_/g,"."):"10"):x("Android")?(g=/Android\s+([^\);]+)(\)|;)/,g=(d=g.exec(d))&&d[1]):x("CrOS")&&(g=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,g=(d=g.exec(d))&&d[1]);C(b,2,g||"");C(b,3,oA()||pA()?pA()?2:oA()?1:0:3);e||(d=window,g=document.documentElement.getAttribute("lang"),C(b,5,g),d=Dd(d.location.href,"hl")||d.navigator.language||d.navigator.browserLanguage,C(c,1,d));C(c,2,bB);C(c,3,wA);tA&&C(c,4,uA);E(a,11,
b);E(a,9,c);E(this.o,1,a);C(this.o,2,this.N);this.B=new Bi(6E4);G(this,this.B);ne(this.B,"tick",nd(this.C),!1,this);f||this.B.start();e||(ne(window,"beforeunload",this.j,!1,this),ne(window,"unload",this.j,!1,this),ne(document,"pagehide",this.j,!1,this))}v(dB,J);dB.prototype.G=function(){this.j();dB.J.G.call(this)};dB.prototype.log=function(a){a=Fc(a);if(!B(a,1)){var b=a,c=t().toString();C(b,1,c)}for(;1E3<=this.g.length;)this.g.shift();this.g.push(a);this.dispatchEvent(new eB)};
dB.prototype.C=function(a,b){if(0==this.g.length)a&&a();else{var c=Fc(this.o);dA(c);wc(c,3,this.g);var d={},e=this.M();e&&(d.Authorization=e);var f=this.I;this.D&&(d["X-Goog-AuthUser"]=this.D,f=Ad(f,"authuser",this.D));this.A&&(d["X-Goog-PageId"]=this.A,f=Ad(f,"pageId",this.A));if(e&&this.H==e)b&&b();else{this.g=[];var g=c.ia(),d={url:f,body:g,v:1,j:d,o:"POST",g:this.O},f=r(function(a){var d=uc(c,Wz,3);401==a&&e&&(this.H=e);if(401==a||500<=a&&600>a)this.g=d.concat(this.g);b&&b()},this);this.P(d,function(){a&&
a()},f)}}};dB.prototype.j=function(){this.C()};function eB(){this.type="event-logged"}v(eB,I);function fB(a,b,c,d,e,f){dB.call(this,a,nA,b,c,d,e,void 0,void 0,f)}v(fB,dB);function gB(a){if(1>=a.length)return a;for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d],f=d<a.length-1?a[d+1]:null,g;if(g=null!=f){g=e;var l=f;g=Cc(D(g,gA,2),D(l,gA,2))&&B(D(g,Vz,3),6)==B(D(l,Vz,3),6)}g&&5E3>=c.length+uc(e,fA,1).length+uc(f,fA,1).length?sb(c,uc(e,fA,1)):0==c.length?b.push(e):(sb(c,uc(e,fA,1)),e=new hA(vc(e).slice()),wc(e,1,c),b.push(e),c=[])}return b};function hB(a,b,c){this.j=a;this.v=b;this.o=c;this.g=!1}function iB(a,b,c){a.g?c("Impression delivery already in progress."):(a.g=!0,nu(a.j,r(a.A,a,b),r(function(a){this.g=!1;c(Om(a))},a)))}hB.prototype.A=function(a,b){var c=[];b=jB(b);for(var d in b){var e=b[d],f;for(f in e){for(var g=e[f],l=g[g.length-1].g.ibt,p=[],u=0;u<g.length;u++)p.push(new hA(Jb(g[u].g.iba)));g=gB(p);c.push(kB(this,f,d||null,g,l))}}Lg(c).then(function(){this.g=!1;a()},void 0,this)};
function jB(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=oq(d,"di")||"",f=d.g.dt,g=b[e];g||(g={},b[e]=g);e=g[f];e||(e=[],g[f]=e);e.push(d)}return b}
function kB(a,b,c,d,e){var f=[],g=a.v[b];if(!g)return d="Could not find an impression sender for target "+b,jn(a.o,Error(d)),Hg(d);for(b=0;b<d.length;b++)f.push(g.j(d[b],c));return Lg(f).then(function(a){if(!a.every(function(a){return a.ld})&&!a.some(function(a){return!a.ld&&a.reason instanceof jw&&a.reason.g}))throw Error("Impression batch sending failed from non-permanent errors.");}).then(function(){return new S(function(a,b){b=W($s(this.j.g,["Impressions"],"Error deleting impressions.",b,!0),
"Impressions");Vm(b,[c||"",0],[c||"",e],a)},this)},void 0,a)};function lB(){this.j=!1}v(lB,nx);lB.prototype.g=function(a,b,c,d,e){"labelpath"==c.entityType?(c=ic(c.path),a=new hu(b,a,"labelPath",c,!0),e.push(a)):lB.J.g.call(this,a,b,c,d,e)};function mB(a,b,c,d,e){this.o=a;this.v=b;this.g=c;this.j=d;this.A=e}function nB(a,b,c,d){return new mB(a,b,c,!1,d)}mB.prototype.getId=h("o");function oB(){this.Df=[];this.Le={}};function pB(a){this.g=a}function qB(a){var b=[a.g.Pk,a.g.Qk,a.g.Sk,a.g.Rk],c=[5,6,7,8];return(new S(function(a,e){this.j(a,new oB,0,b,c,e)}.bind(a))).then(function(a){for(var b=[],c=a.Df,d=0;d<c.length;d++){var l=c[d],p;p=l.getId();p=a.Le[p];b.push(nB(l.getId(),l.L(),p,null))}return b})}pB.prototype.j=function(a,b,c,d,e,f,g){if(g)for(var l=e[c-1],p=0;p<g.length;p++){var u=b,w=g[p],z=l,da=w.getId();u.Le[da]||(u.Df.push(w),u.Le[da]=z)}c<d.length?d[c].call(this.g,this.j.bind(this,a,b,c+1,d,e,f),f):a(b)};function rB(a,b,c,d,e,f,g,l,p){this.o=a;this.A=b;this.g=c;this.B=f;this.j=g;this.v=l;this.C=p}rB.prototype.Qa=h("o");function sB(a,b,c,d,e){F.call(this);this.Pa=a;this.o=b;this.g=c;this.v=e;this.j=new V(this);G(this,this.j)}v(sB,F);sB.prototype.A=function(a,b){yn(this.g,Error(Om(b)));a()};
sB.prototype.B=function(a,b,c,d){var e;try{e=d.Ja()}catch(p){yn(this.g,Error("Could not interpret result of /getappmetadata "+(d.g||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Zr(f.newModelCommands);e=f.jobset;var g=f.docosKeyData,f=f.version,l=new dt(this.Pa,!0);Y(l,"jobset",e);l.v=d.concat();l.o=!0;g&&Y(l,"docosKeyData",g);n(f)&&Y(l,"version",f);d=l}else d=null;d?a.write([d],b,r(this.A,this,c)):b()};sB.prototype.G=function(){sB.J.G.call(this);delete this.j;delete this.g};function tB(a,b,c){F.call(this);this.Pa=a;this.o=b;this.g=c}v(tB,F);tB.prototype.j=function(a,b){yn(this.g,Error(Om(b)));a()};tB.prototype.v=function(a,b,c,d){var e=vf(K(),"docs-offline-nnodi");d<.9*e?(d=e-d,a=Rk(Pk(Mk(Qk(Zn(this.o,"/getids").o("num",d),r(this.A,this,a,b,c)),c),2)),G(this,a)):b(0)};
tB.prototype.A=function(a,b,c,d){var e;try{e=d.Ja()}catch(f){yn(this.g,Error("Could not interpret result of /getids: "+(d.g||"")));c();return}e&&0!=e.length?(a=a.g.Vb())?fu(a,this.Pa,e,Ga(b,e.length),r(this.j,this,c)):b(e.length):b(0)};function uB(a,b,c,d,e){F.call(this);this.Pa=a;this.he=new tB(a,b,c);this.g=new sB(a,b,c,0,e)}v(uB,F);uB.prototype.Ff=function(a,b,c,d){var e=Ga(b,d);b=this.g;d=Ga(e,!0);e=Ga(e,!1);a=Pk(Mk(Qk(Zn(b.o,"/getappmetadata").o("smv",b.v),r(b.B,b,a,d,e)),e),2);c&&a.o("forcehl","1","hl",c);c=Rk(a);G(b,c)};uB.prototype.toString=function(){return"EditorMetadataFetcher for "+this.Pa};uB.prototype.G=function(){H(this.he);delete this.he;H(this.g);delete this.g;uB.J.G.call(this)};function vB(a,b,c,d,e,f){this.g=a;this.B=b;this.v=c;this.A=d;this.o=e;this.j=f?f:null}function wB(a,b,c,d,e,f,g,l){var p=a.g.A?xB(a):null,u=a.B,w=a.v,z=a.A,da=a.o;f=f&&!!p;var Z=a.g.j,na=a.g.C;a=u.g?u.g():new by;var ra=new py(new In),X=c.getId(),na=new oy(new ly(X,na),ra,new cy(X,p,ra),X,p,da);return new Jz(Z,"/model",p,Th(),da,new qy(u.o,u.v),b,c,d,e,f,g,l,0,-1,void 0,w,a,z,!1,void 0,na,vf(K(),"docs-offline-desktop-mms")||void 0,u.j)}
function yB(a){return a.g.g?new uB(a.g.Qa(),xB(a),a.o,0,-1):null}function xB(a){a.j||(a.j=zB(a.g));return a.j}function zB(a){var b=new Yn(new sm(a.v));b.j.o=a.j;b.B=Vn;return b};function AB(a,b,c){this.g=a;this.o=null;this.M=b;this.D=new ew(this.g,this.M);G(this,this.D);this.A=this.H=this.F=this.B=this.v=this.C=null;BB(this,c)}v(AB,F);
function BB(a,b){var c=tf.Fa(),d=new rB("drawing",!0,!0,0,0,!0,wf(c,"ddsup"),wf(c,"ddscu"),wf(c,"ddsci")),e=new rB("kix",!0,!0,0,0,!0,wf(c,"dksup"),wf(c,"dkscu"),wf(c,"dksci")),f=new rB("punch",!0,!0,0,0,!0,wf(c,"dpsup"),wf(c,"dpscu"),wf(c,"dpsci")),c=new rB("ritz",!0,!0,0,0,!0,wf(c,"drsup"),wf(c,"drscu"),wf(c,"drsci")),g=zB(e),l=[];l.push(CB(a,g));var p=new Tz(new Ix(l)),l=new Tz(new Ix(l),void 0,void 0,function(){return b(g)}),u=new Tz(new Ix([new Hx(["docLocale","ritzChunkSize"])]),"top","chunk"),
w=DB(a);EB(a);var z=new lB;a.j={drawing:new vB(d,p,w,z,a.g),kix:new vB(e,l,w,new nx,a.g,g),punch:new vB(f,p,w,z,a.g,void 0),ritz:new vB(c,u,w,new nx(!0),a.g,void 0)}}function CB(a,b){b=new Pw(b,a.g,{});var c=new T;b=new Sx(new Kx([Ox(c),b]),c,0,!0);b=new vw(new xw(Yw()),b,new Ux);FB(a,r(function(a){var b=a.Jb();a=b?new Nw(b,a,EB(this),this.g):null;c.K(a)},a),r(c.R,c,null));return new Gx(b)}
function GB(a,b,c,d,e,f,g,l,p,u){var w=c.L();a=a.j[w];if(!a)return null;var z=wB(a,b,c,f,g,l,p,u);if(!z)return null;b=new V;b.listen(z,"aa",function(a){z.X();d(a.nf)}).listen(z,"ca",function(a){z.X();e(a)});G(z,b);return z}function HB(a){if(!a.v){var b=new T;a.v=b;var c=new qx(a.g);rx(c,r(b.K,b,c),r(b.R,b))}return a.v.Tb()}function EB(a){if(!a.C){var b=new Fx;a.C=b;U(HB(a),function(a){for(b.j=new yx(a);0<b.o.length;)b.o.shift()()},function(a){throw a;})}return a.C}
function IB(a){if(!a.A){var b=HB(a);a.A=new zx(b)}return a.A}function DB(a){a.B||(a.B=new Ex(EB(a)));return a.B}function FB(a,b,c){JB(a).then(b,c)}function JB(a){return a.D.get().then(function(a){return this.o=a}.bind(a))}function KB(a){var b=[];yb(a.j,function(a){a.g.g&&b.push(yB(a))});return new Uz(b)}
AB.prototype.I=function(a,b,c){var d=this.F,e=this.H,f=new fx(a,c),g;g=tf.Fa();g=Bb(xf(g,"dffd"));m.console.log("Default font families: "+g);var l=new Zx(this.g),p=a?a.g.Bf():null;if(a&&p)if(l.o=new Yx(a,p,l.B),l.A){var u=l.o,w=r(l.C,l),z=r(l.g.R,l.g),p=u.o,u=Ga(u.v,w),z=$s(p.o,["SyncObjects"],"Error reading SyncObjects.",z);Ym(z,"SyncObjects",r(p.g,p),u,void 0,void 0,void 0,void 0,void 0,!0)}else(p=l.j.fa())&&l.o&&l.o.write(p,Ga(ta,p));else l.A&&l.g.K();return new mw(new mx(b,f,e,d,g,c,this.g,l),
f,a,this.g)};AB.prototype.G=function(){Ud(Bb(this.j));AB.J.G.call(this)};function LB(a){this.g={};for(var b=0;b<a.length;b++)this.g[a[b]]=b}function MB(a,b){a=a.g[b];return n(a)?a:null};function NB(a,b,c,d){this.g=a;this.j=b;this.v=c;this.F=d;this.o={};for(a=0;a<c.length;a++)b=c[a],this.o[b.getId()]=b;this.D=Mb(B(this.j,4));this.A=OB(uc(this.j,Cq,3));this.S=[];this.C={};this.B=!1}
NB.prototype.Ge=function(){if(this.B)throw Error("Trying to run AutoSyncDocSelector twice is not supported.");for(var a=0;a<this.F.length;a++)PB(this,this.F[a]);for(a=0;a<this.v.length;a++){var b=this.v[a];if(pq(b,"inc")&&!pq(b,"pendingCreation")&&null!==b.Xa()){var c=b.getId(),b=b.L();PB(this,nB(c,b,5,null))}}a=QB(this.g);c=RB(this);for(b=0;b<a.length;b++){var d=a[b],e=this.o[d],f=5<=SB(this.g,d),g=c[d];!f||g||e&&pq(e,"ip")||PB(this,new mB(d,null,null,!0,null))}a=B(this.j,5)?OB(uc(this.j,Cq,2)):
null;c=QB(this.g);for(b=0;b<c.length;b++)d=c[b],e=this.o[d],f=SB(this.g,d),g=d,g=zv(this.g.g)[g],g=null!=g?g.modelSyncFailCount:0,g=0<g&&f>g?11:0<g&&f<=g?9:10,5<=f||!e||(e=e.L(),f=(f=this.A[d]||a&&a[d])?B(f,4):TB(this.g,d),PB(this,nB(d,e,g,f||null)));UB(this);a=uc(this.j,Cq,2);for(c=0;c<a.length;c++)e=a[c],b=e.getId(),f=this.o[b],g=!f,d=B(e,4),!g&&!VB(f,e)||WB(this,b,d)||(e=f?f.L():XB(B(e,2)),PB(this,nB(b,e,12,d)));YB(this,this.v);this.B=!0;return this.S};
function PB(a,b){var c=b.getId();a.C[c]||(a.S.push(b),a.C[c]=!0)}function OB(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.getId()]=d}return b}function UB(a){YB(a,a.v.filter(function(a){return!!pq(a,"ip")}))}function YB(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.getId(),f=a.A[e]||null,g=!!f,l=a.D[e],p=g?B(f,4):null;if(l||g&&VB(d,f)&&!WB(a,e,p))d=d.L(),PB(a,nB(e,d,12,p))}}function VB(a,b){b=B(b,4);var c=mq(a,"lastModifiedServerTimestamp");return!!pq(a,"ips")||null===c||b>c}
function WB(a,b,c){return 5<=SB(a.g,b)&&TB(a.g,b)==c}function XB(a){switch(a){case 1:return"kix";case 3:return"punch";case 2:return"ritz";case 4:return"drawing";default:throw Error("Unexpected document type in autosync proto: "+a);}}function RB(a){return Mb(B(a.j,5)?uc(a.j,Cq,2).map(function(a){return a.getId()}):xv(a.g.g))};function ZB(){this.j=!1}v(ZB,F);ZB.prototype.Ge=function(){if(this.j)throw Error("Tasks can only be executed once.");this.j=!0;return this.g()};function $B(a,b,c,d,e,f){this.j=!1;this.C=a;this.v=b;this.B=c;this.o=d;this.F=e;this.A=f}v($B,ZB);
$B.prototype.g=function(){var a=new zq;C(a,1,this.o.g.g.lastSyncedChangestamp);var b=this.v.g.g;return aC(this,a).then(function(a){var c=B(a,5)?new LB(uc(a,Cq,2).map(function(a){return a.getId()})):new LB(xv(this.o.g).reverse());return Kg([bC(this),qB(new pB(b))]).then(function(b){b=new NB(this.o,a,b[0],b[1]);return this.B.start(b.Ge(),c).then(function(){return cC(this,a)}.bind(this)).then(function(){return dC(this,c)}.bind(this))}.bind(this))}.bind(this))};
function bC(a){var b=a.v.g.g;return new S(function(a,d){Rt(b,a,d)})}function cC(a,b){eC(a.o,B(b,1));fC(a.o);B(b,5)&&(b=uc(b,Cq,2).map(function(a){return a.getId()}),wv(a.o.g,b.reverse()));return gC(a.o)}function dC(a,b){return bC(a).then(function(a){for(var c=0;c<a.length;c++){var e=a[c],f=MB(b,e.getId());Ir(e,f)}return new S(function(b,c){this.v.write(a,b,c)}.bind(this))}.bind(a))}function aC(a,b){return uf(K(),"docs-offline-ecasq")?hC(a):iC(a,b)}
function iC(a,b){wf(K(),"docs-offline-ospp");return(new S(function(a,d){var c=b.ia();try{Rk(Mk(Qk(Pk(Ok($n(this.F,"/offline/autosync")).o(["autosyncRequest",c]),2),a),function(a){d(Error("Failed to fetch autosync request, net event type: "+a.type+", error code: "+a.errorCode+", http status: "+a.g));return!1}))}catch(f){throw f instanceof Error&&"URI malformed"==f.message&&jn(this.C,Error("Detected URI malformed in auto sync request"),{serializedRequest:c}),f;}}.bind(a))).then(function(a){return new Aq(a.Ja())})}
function hC(a){return Rq(a.A).then(r(function(a){var b=new Aq;C(b,1,1);a=uc(a,Cq,1);wc(b,2,a);C(b,5,!0);return b},a))};function jC(a,b){this.o=a;this.v=b}v(jC,ZB);jC.prototype.g=function(){var a=this.o.g.g;return(new S(function(b,c){$t(a,b,c)})).then(function(){return new S(function(a,c){Bx(this.v,this.o,a,c)}.bind(this))}.bind(this)).then(function(){return this.o.g.A.Sd()}.bind(this))};function kC(a,b,c,d,e,f){this.A=a;this.g=b;this.o=c;this.C=d;this.j=e;this.v=f}function lC(a){var b=xv(a.v.g),c=[];return mC(a,b).then(function(a){c=c.concat(a);return nC(this,[],b)}.bind(a)).then(function(a){c=c.concat(a);return oC(this,a.length,b.length)}.bind(a)).then(function(){return new S(function(a,b){Bx(this.o,this.g,a,b)}.bind(this))}.bind(a)).then(function(){return c})}function pC(a){return qC(a).then(function(a){return wC(this,a)}.bind(a))}
function oC(a,b,c){return 0==b?Gg():Kg([qC(a),Tq(a.j)]).then(function(a){var d=a[0];a=a[1];var f={};f.numDeletedRelevantDocs=b;f.numRelevantDocs=c;f.numLocalDocs=d.length;f.diskQuotaUsed=B(a,1);f.diskQuotaAvailable=B(a,2);jn(this.A,Error("Deleted docs that were relevant during cleanup."),f)}.bind(a))}
function wC(a,b){var c=vf(K(),"docs-offline-mnd"),c=isNaN(c)?Number.MAX_VALUE:c;return c<b.length?Gg(!0):Tq(a.j).then(function(a){var b=K(),c=vf(b,"docs-offline-msq"),c=isNaN(c)?Number.MAX_VALUE:c,b=vf(b,"docs-offline-msur"),b=isNaN(b)?1:b,d=B(a,1);a=B(a,2);return Math.min(c,b*(a+d))<d})}
function mC(a,b){return qC(a).then(function(a){return Kg([Gg(a),wC(this,a)])}.bind(a)).then(function(a){var c=a[0];if(!a[1])return[];var e=Mb(b);a=c.filter(function(a){return!e[a.getId()]});return xC(this,a)}.bind(a))}
function nC(a,b,c){return qC(a).then(function(a){return wC(this,a)}.bind(a)).then(function(a){if(!a||!c.length)return b;var d=c.slice(0,10);c=c.slice(10);return(new S(function(a,b){var c=this.g.g.g;b=$s(c.g,["Documents"],"Error reading documents.",b);c.ud(b,a,d)}.bind(this))).then(function(a){return xC(this,a)}.bind(this)).then(function(a){return nC(this,b.concat(a),c)}.bind(this))}.bind(a))}
function xC(a,b){var c=Gg(),d=b.filter(function(a){return!pq(a,"ip")});b=d.length;for(var e=0;e<b;e++)var f=d[e],c=c.then(function(){return yC(this.C)}.bind(a)).then(a.B.bind(a,f,e+1,b));return c.then(function(){return d.map(function(a){return a.getId()})})}function qC(a){return new S(function(a,c){Qt(this.g.g.g,null,a,c)}.bind(a))}kC.prototype.B=function(a){jq(a);return(new S(function(b,c){this.g.write([a],b,c)}.bind(this))).then(function(){a.getId()}.bind(this),function(){a.getId()}.bind(this))};function zC(a,b){F.call(this);this.v=a;this.o=new V(this);G(this,this.o);this.g=b;this.j=Mg()}v(zC,F);zC.prototype.A=function(a){B(a.data,1)==this.v&&this.j.resolve(!0)};zC.prototype.start=function(){this.g.connect();var a="J_"+$q.g;this.o.listen(this.g,a,r(this.A,this));var b=Ci(r(this.j.resolve,this.j,!1),15E3),c=new Vq,d=new Xq;C(d,1,this.v);c.Ed(Yq,d);rr(this.g,c);return Pg(this.j.g,r(function(){this.o.Zc(this.g,a);Di(b)},this))};function AC(a,b){F.call(this);this.j=a;this.g=b}v(AC,F);function BC(a,b){return(new S(function(a,d){var c=this.j.g.A.Db,f=W(Dt(c,void 0,d),"DocumentLocks").get([b]);Xm(f,r(c.Oj,c,a));d&&Ds(f,nd(d))}.bind(a))).then(function(a){switch(a){case "available":return!0;case "unavailable":return!1;case "expiredOtherSid":return a=new zC(b,this.g),G(this,a),a.start().then(function(a){return!a});default:throw Error("Unexpected lock state result: "+a);}}.bind(a))};function CC(a,b,c,d){this.B=a;this.o=b;this.A=c;this.C=d;this.v=new AC(this.o,this.C);G(this,this.v)}v(CC,ZB);CC.prototype.g=function(){return DC(this).then(function(a){return Lg(a.filter(this.F.bind(this)).map(this.D.bind(this)))}.bind(this)).then(function(){return new S(function(a,b){Bx(this.A,this.o,a,b)}.bind(this))}.bind(this))};CC.prototype.F=function(a){var b=!a.Xa()&&!pq(a,"ip");return!!pq(a,"pendingCreation")||b};
function DC(a){return new S(function(a,c){Qt(this.o.g.g,null,a,c)}.bind(a))}CC.prototype.D=function(a){return BC(this.v,a.getId()).then(function(b){if(b)return jq(a),(new S(function(b,d){this.o.write([a],b,d)}.bind(this))).then(function(){a.getId()}.bind(this),function(b){jn(this.B,vg(b instanceof Error?b:Error(b),"Could not delete document"),{docId:a.getId()})}.bind(this))}.bind(this))};function EC(a,b,c,d,e,f){F.call(this);this.I=a;this.C=b;this.F=c;this.M=d;this.v=e;this.o=[];this.j=[];this.g=f;this.B=null;this.D=!1;this.A=null;this.H=new AC(this.v,this.F);G(this,this.H)}v(EC,F);
EC.prototype.start=function(a,b){this.B=b||new LB(xv(this.g.g).reverse());var c={};this.j=a.filter(function(a){a=a.getId();return c[a]?!1:c[a]=!0});if(!this.j.length)return Gg([]);this.o=[];return Pg(FC(this).then(function(){for(var a=0,b=0;b<this.o.length;b++)"failure"==this.o[b].state&&a++;return this.o}.bind(this)),function(){return gC(this.g)}.bind(this))};
function FC(a){if(!a.j.length)return GC(a);var b=Gg();0==a.o.length%10&&(b=GC(a));return b.then(function(){if(this.j.length)return HC(this,this.j.shift()).then(function(){return FC(this)}.bind(this))}.bind(a))}
function GC(a){return lC(a.C).then(function(a){return Kg([Gg(a),pC(this.C)])}.bind(a)).then(function(a){var b=a[0];this.D=a[1];b.forEach(function(a){a=MB(this.B,a);null!=a&&(null==this.A||a<this.A)&&(this.A=a)}.bind(this));var d=Mb(b);this.j=this.j.filter(function(a){return!d[a.getId()]})}.bind(a))}
function HC(a,b){var c=b.getId();return yC(a.M).then(function(){return BC(this.H,c)}.bind(a)).then(function(a){if(!a)return"lock_not_available";var c=b.getId(),d=this.v.g.g;return(new S(function(a,b){St(d,c,a,b)})).then(function(a){if(b.j)a=IC(this,c,a);else{var d=b.getId(),d=MB(this.B,d),e=12==b.g&&(!a||!pq(a,"ip"));a=(this.D||null!=this.A&&null!=d&&d>this.A)&&e?IC(this,c,a):a&&pq(a,"inc")&&null===a.Xa()?Gg():JC(this,b,a)}return a}.bind(this))}.bind(a)).then(function(a){this.o.push(new KC(a))}.bind(a),
function(a){this.o.push(new KC("failure"));throw a;}.bind(a))}function JC(a,b,c){var d=b.getId();if(!c){var e=b.v;if(!e)return Gg("failure");c=a.v.g.g.createDocument(d,e)}e=b.g;Ir(c,MB(a.B,d));return Rg(LC(a.I,a.v,c,null,null,!0,!0,e).then(function(){yv(this.g.g,d);return gC(this.g)}.bind(a)).then(function(){var a=new Vq,b=new ar;C(b,1,d);a.Ed(br,b);rr(this.F,a);return"success"}.bind(a)),function(a){return MC(this,b,c,a).then(ca("failure"))}.bind(a))}
function IC(a,b,c){return Rg((new S(function(a,b){c||a();jq(c);this.v.write([c],a,b)}.bind(a))).then(function(){yv(this.g.g,b);return gC(this.g)}.bind(a)).then(ca("success")),ca("failure").bind(a))}
function MC(a,b,c,d){if(d&&d instanceof Bz){d=7==d.g||12==d.g;b.getId();c=mq(c,"lastModifiedServerTimestamp")||b.A||-1;b=b.getId();var e=a.g.g,f=zv(e),g=f[b],l={};l.count=g?g.count+1:1;l.modelSyncFailCount=(g?g.modelSyncFailCount:0)+(d?1:0);l.serverTime=c;f[b]=l;Y(e,"failedToSyncDocs",f);return gC(a.g)}if(!(d instanceof Error))throw Error("Unknown Error: "+d);throw d;}function KC(a){this.state=a};function NC(a,b,c){this.g=a;this.j=b;this.o=n(c)?c:!1}function OC(a,b){var c=a.g.de();return(new S(function(a,b){Cv(c,a,b)})).then(function(c){return new NC(c||new vv(!0),a,b)})}function gC(a){return a.o?Gg():PC(a)}function eC(a,b){Y(a.g,"lastSyncedChangestamp",b)}function SB(a,b){a=zv(a.g)[b];return null!=a?a.count:0}function TB(a,b){a=zv(a.g)[b];return null!=a?a.serverTime:0}function fC(a){var b=t();Y(a.g,"lastSyncTimestamp",b)}function QB(a){a=zv(a.g);return Cb(a)}
function PC(a){return new S(function(a,c){this.j.write([this.g],a,c)}.bind(a))};function QC(a){F.call(this);this.g=[];this.j=new Fi(this.o,a||500,this);G(this,this.j)}v(QC,F);function yC(a){var b=Mg();a.g.push(b);a.j.oe();return b.g}QC.prototype.o=function(){var a=this.g.shift();this.g.length&&this.j.oe();a.resolve()};function RC(a){this.g=a}function LC(a,b,c,d,e,f,g,l){return new S(function(a,u){GB(this.g,b,c,a,u,d,e,f,g,l).Ha()},a)};function SC(a){this.j=!1;this.o=a}v(SC,ZB);SC.prototype.g=function(){return new S(r(function(a,b){iB(this.o,a,b)},this))};function TC(a,b){this.v=a;this.o=b}v(TC,ZB);TC.prototype.g=function(){return qB(new pB(this.v.g.g)).then(this.o.start.bind(this.o))};function UC(a,b){this.j=!1;this.o=a;this.v=b}v(UC,ZB);UC.prototype.g=function(){var a=this.v.g.map(r(function(a){var b=Mg(),d=this.o,e=Ga(this.A,b,a);if(d.g.Vb()){var f=a.he,g=r(a.Ff,a,d,e,null);a=r(a.Ff,a,d,e,null,null);(e=d.g.Vb())?gu(e,f.Pa,r(f.v,f,d,g,a),r(f.j,f,a)):g(0)}else e(0,!0);return b.g},this));return Lg(a).then(function(a){for(var b=!0,d=0;d<a.length;d++)a[d].ld||(b=!1);if(!b)throw Error("Metadata task failed.");}.bind(this))};
UC.prototype.A=function(a,b,c,d){d&&null!==c||a.reject(Error("Fetcher "+b+" failed to sync metadata.metadataWriteSuccess: "+d+", docIdsSyncedFailure: "+(null===c)));a.resolve()};function VC(a,b){this.v=a;this.o=b}v(VC,ZB);VC.prototype.g=function(){var a=this.o.map(function(a){return new mB(a,null,1,!1,null)});return this.v.start(a)};function WC(a,b,c){this.o=a||De();a=K();this.v=b||wf(a,"olbu");this.A=n(c)?c:wf(a,"docs-offline-lsuid");this.j=this.g=null;this.B=new V(this);G(this,this.B);this.B.listen(m,"message",this.C)}v(WC,F);
WC.prototype.update=function(a){return this.v?this.g&&!a?Gg():Gg().then(function(){if(uf(K(),"docs-offline-icoambu"))return XC(this)}.bind(this)).then(function(){if(this.g)if(a)YC(this);else return Gg();this.g=this.o.createElement("iframe");var b=Mg();this.g.style.display="none";this.g.src=ZC(this);this.o.appendChild(this.o.g.body,this.g);Ei().then(function(){b.reject("App cache updater timed out")});this.j=b;return this.j.g}.bind(this)):Hg(Error("No base url provided."))};
function ZC(a){var b=Fd(a.v,"cacheupdate"),c={al:"1"};a.A&&(c.ouid=a.A);return zd(b,c)}function XC(a){var b=Mg(),c=new oj;ne(c,"complete",function(a){a=a.target.Z();200==a?b.resolve():b.reject(Error("Failed to invalidate appcache manifest, received "+a+" from POST request."));H(c)});tj(c,1E4);c.send($C(a),"POST");return b.g}function $C(a){var b=Fd(a.v,"common/manifest"),c={};c.ouid=a.A;return zd(b,c)}
WC.prototype.C=function(a){a=a.g;new ci(this.v);var b=m.location.protocol+"//"+m.location.hostname;if(a&&a.origin==b&&this.g&&a.source==this.g.contentWindow&&(a=a.data,this.j))switch(a){case "appcache-update-succeeded":this.j.resolve();break;case "appcache-update-failed":this.j.reject("At least one app cache failed.");break;default:throw Error("Received unexpected data: "+a);}};function YC(a){a.g&&(a.o.j(a.g),a.g=null,a.j.reject("Removing updater frame"),a.j=null)}
WC.prototype.G=function(){YC(this);WC.J.G.call(this)};function aD(a){this.g=a}aD.prototype.L=h("g");function bD(){this.g="unknown"}v(bD,aD);function cD(){this.g=[];this.j=[];this.o=[]}function dD(a){sb(a.o,["","/"])}function eD(){};function fD(a,b,c,d,e,f,g,l){this.g=a;this.j=l?Fd("//"+l,b):b}v(fD,aD);function gD(a,b){return Fd(a.j,b)};function hD(a,b,c,d){fD.call(this,"trix",a,0,0,0,0,0,d)}v(hD,fD);var iD=["/create"];function jD(a){var b=new cD;b.g.push(new eD);b.g.push(new eD);b.g.push(new eD);a=a||K();dD(b);sb(b.j,iD);return new fD("kix",wf(a,"kixOfflineUrl"),0,uf(a,"udurls"),0,0,0,void 0)}function kD(a){var b=new cD;b.g.push(new eD);b.g.push(new eD);b.g.push(new eD);sb(b.j,iD);a=a||K();return new fD("drawing",wf(a,"drawingsOfflineUrl"),0,uf(a,"udurls"),0,0,0,void 0)}
function lD(a){var b=new cD;b.g.push(new eD);b.g.push(new eD);b.g.push(new eD);sb(b.j,iD);b=new cD;b.g.push(new eD);a=a||K();dD(b);return new fD("punch",wf(a,"punchOfflineUrl"),0,uf(a,"udurls"),0,0,0,void 0)}function mD(a){var b=new cD;a=a||K();wf(a,"trixOfflineUrlSuffix");b.g.push(new eD);return new hD(wf(a,"trixOfflineUrl"),0,wf(a,"trixOnlineUrlSuffix"),void 0)}
function nD(a){var b=new cD;b.g.push(new eD);b.g.push(new eD);b.g.push(new eD);a=a||K();sb(b.j,iD);dD(b);return new fD("ritz",wf(a,"ritzOfflineUrl"),0,uf(a,"udurls"),0,0,0,void 0)};function oD(){this.g={}}function pD(a,b){a=a.g[b];if(!a)throw Error("No offline URL adapter for documents of type "+b);return a};function qD(){this.g={}};function rD(a){this.g=a};function sD(a,b){this.message=a;this.ports=b}sD.prototype.toString=function(){return"{message: "+this.message+", ports: "+this.ports+"}"};function tD(a,b){this.g=a;this.j=b}tD.prototype.send=function(a,b){return this.g.send(vc(a),b).then(function(a){return new sD(new this.j(a.message),a.ports)}.bind(this))};function uD(a){F.call(this);this.o=a||12E4;this.g=new rg}v(uD,F);uD.prototype.send=function(a,b){var c=Mg();sg(this.g,c);var d=Ci(function(){c.reject(Error("Request to transport timed out."))},this.o);vD(this,c,a,b||[]);return Pg(c.g,function(){Di(d);lg(this.g.g,tg(c))}.bind(this))};uD.prototype.G=function(){for(var a=this.g.fa(),b=0;b<a.length;b++)a[b].reject("Sender was disposed");uD.J.G.call(this)};function wD(a){uD.call(this,a);this.j=new V(this);G(this,this.j)}v(wD,uD);function vD(a,b,c,d){var e=new MessageChannel;Vh(a.j,e.port1,"message",function(a){a=a.g;b.resolve(new sD(a.data,a.ports))}.bind(a));e.port1.start();a.postMessage(c,[e.port2].concat(d));Pg(b.g,function(){e.port1.close()})};function xD(a,b){wD.call(this,b);this.v=a}v(xD,wD);xD.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function yD(a){A(this,a,0,-1,null)}v(yD,y);function zD(a){A(this,a,0,-1,null)}v(zD,y);function AD(a){A(this,a,0,-1,null)}v(AD,y);AD.prototype.L=function(){return B(this,1)};function BD(a){A(this,a,0,-1,null)}v(BD,y);function CD(a,b,c){this.v=a;this.j=b;this.g=c||m.navigator.serviceWorker;this.A=new V(this);G(this,this.A)}v(CD,F);function DD(a){return a.g.getRegistration(a.j).then(function(a){if(!a)throw Error("Got null registration.");return a})}CD.prototype.B=function(){return this.g?this.g.getRegistration(this.j).then(function(a){return!!a}):Gg(!1)};CD.prototype.unregister=function(){return DD(this).then(function(a){return a.unregister()})};
CD.prototype.register=function(a){return this.g.register(a,{scope:this.j}).then(void 0,r(function(a){this.v.log(a);throw a;},this))};function ED(a){var b=new AD;C(b,1,1);return FD(a,b).then(a.o.bind(a))}CD.prototype.o=function(a){var b=D(a,BD,2);(a=D(a,zD,3))&&B(a,1);return b?B(b,1):!a};
function FD(a,b){return DD(a).then(function(a){jc(b);a=a.active||a.waiting||a.installing;if(!a)throw Error("No active, waiting or installing service worker, cannot send message of type "+b.L());return(new tD(new xD(a,3E5),yD)).send(b).then(function(a){return a.message})}.bind(a))};function GD(a,b,c){this.g=a;this.j=b;this.o=c||null}GD.prototype.update=function(){return Rg(HD(this).then(function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.enabled?b.push(ID(this,d)):b.push(JD(this,d))}return Kg(b)}.bind(this)),function(a){this.g.log(a);throw a;}.bind(this))};
function HD(a){var b=ov(a.j.fc());return Kg([KD(a),b]).then(function(a){var b=a[0];a=a[1];if(b&&a){var c=[],f;if(!(f=this.o)){var g=K();f=g||K();f=new oD(wf(f,"ondlburl"),wf(f,"drdn"),wf(f,"drcuap"));var l=new qD,p=[];p.push(jD(g));p.push(kD(g));p.push(lD(g));p.push(mD(g));p.push(nD(g));p.push(new bD);for(g=0;g<p.length;g++){var u=l,w=p[g],z=w.L();if(u.g[z])throw Error("Already have an adapter installed for type "+z);u.g[z]=w;u=f;w=p[g];z=w.L();if(u.g[z])throw Error("Already have an adapter installed for type "+
z);u.g[z]=w}f=new rD(f)}for(l=0;l<b.length;l++)g=b[l].Qa(),p=LD(g),w=a.getId(),u=pD(f.g,g),u=new ci(gD(u,"/serviceworker.js")),qi(u,"ouid",encodeURIComponent(String(w))),u=u.toString(),g=(new ci(gD(pD(f.g,g),"/"))).toString(),c.push(new MD(this.g,u,g,p,!0));return c=c.concat(ND(this,a))}}.bind(a))}
function KD(a){return new S(function(a,c){var b=this.j.g.Vb();c=$s(b.g,["ApplicationMetadata"],"Error reading application metadata.",c);Ym(c,"ApplicationMetadata",r(b.o,b),a,void 0,void 0,void 0,void 0,void 0,!0)}.bind(a))}function LD(a){var b=K();switch(a){case "kix":return uf(b,"docs-sw-eksw");case "ritz":return uf(b,"docs-sw-ersw");case "punch":case "drawing":return uf(b,"docs-sw-epsw");default:return!1}}
function ND(a,b){var c=K(),d=[];d.push(OD(a,b,uf(c,"docs-sw-eposw")));d.push(OD(a,b,uf(c,"docs-sw-ecosw"),"/corp"));d.push(OD(a,b,uf(c,"docs-sw-esosw"),"/scary"));return d}function OD(a,b,c,d){var e=(d||"")+"/_/offline/";b=qi(new ci((d||"")+"/_/offline/serviceworker.js"),"ouid",b.getId()).toString();return new MD(a.g,b,e,c,!1)}
function ID(a,b){var c=new CD(b.j,b.o);return Gg().then(function(){return c.register(b.g)}).then(function(){var a;b.v?(a=new AD,C(a,1,0),a=FD(c,a).then(c.o.bind(c))):a=Gg(!0);return a}).then(function(a){if(!a)throw Error("Error while updating worker: "+b.g);}.bind(a))}
function JD(a,b){var c=new CD(b.j,b.o);return Gg().then(r(c.B,c,b.g)).then(function(a){return a?ED(c).then(function(a){a||this.g.log(Error("Error while removing caches before deleting: "+b.g))}.bind(this)).then(function(){return c.unregister()}.bind(this)):Promise.resolve(void 0)}.bind(a))}function MD(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.enabled=d;this.v=e};function PD(a,b){this.j=!1;this.o=new WC;G(this,this.o);this.v=new GD(a,b)}v(PD,ZB);PD.prototype.g=function(){var a=[this.o.update(!0),this.v.update(!0)];return Lg(a).then(function(){return Kg(a)})};function QD(a,b,c,d,e){this.v=a;this.A=b;this.o=c;this.C=d;this.B=e}v(QD,ZB);QD.prototype.g=function(){return(new S(function(a,b){St(this.v.g.g,this.o,a,b)}.bind(this))).then(function(a){return a?LC(this.A,this.v,a,this.C,this.B,!1,!1,1):Hg("Document "+this.o+" not found.")}.bind(this))};function RD(a,b){this.v=a;this.o=b}v(RD,ZB);RD.prototype.g=function(){return new S(function(a,b){bu(this.v.g.g,this.o,a,b)}.bind(this))};function SD(a){this.j=!1;this.o=a}v(SD,ZB);SD.prototype.g=function(){return new S(r(function(a,b){U(this.o,function(c){c.yf(a,b)},b)},this))};function TD(a,b,c,d,e,f){this.j=a;this.g=new AB(a,b,c);G(this,this.g);this.o=this.g.D;this.C=new RC(this.g);this.v=b;this.B=new QC;G(this,this.B);this.I=d;this.H=e;this.D=f;this.A=new Yn(new sm);this.A.B=Vn;a=wf(K(),"docs-offline-lsuid");Dn(this.A.j,"ouid",a);this.F=new V(this);G(this,this.F);this.F.listen(this.A.Z(),"H",this.M.bind(this))}v(TD,F);function UD(a,b){return Gg().then(function(){return VD(this,b)}.bind(a)).then(function(a){G(this,a);return a.Ge()}.bind(a))}
function VD(a,b){var c=B(b,1);switch(c){case "metadata":return a.o.get().then(function(a){return new UC(a,KB(this.g))}.bind(a));case "sync_doc":b=D(b,Gq,2);var c=b.mb(),d=b.V(),e=B(b,2),f=B(b,3);b=new ew(a.j,a.v,c);return b.get().then(function(a){return new QD(a,this.C,d,e,f)}.bind(a));case "local_changes_sync":return a.o.get().then(function(a){return OC(a).then(function(b){b=WD(this,a,b);return new TC(a,b)}.bind(this))}.bind(a));case "multi_doc_sync":b=D(b,Hq,3);var g=B(b,1),c=b.mb();b=new ew(a.j,
a.v,c);return b.get().then(function(a){return OC(a,!0).then(function(b){b=WD(this,a,b);return new VC(b,g)}.bind(this))}.bind(a));case "impressionSync":return JB(a.g).then(function(){var a=this.g,b={},c;for(c in a.j){var d=a.j[c];if(d.g.B){var d=new kw(xB(d)),e=lw(c);b[e]=d}}d=K();c=uf(d,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0;d=wf(d,"gaia_session_id");c=new fB(306,c,d||void 0,!(Aa(m)&&m.window==m)||!m.document||!m.document.documentElement,!0);b.offline=new eA(c);c=a.o.g.zf();if(!c)throw Error("impressionCapability should exist");
return new SC(new hB(c,b,a.g))}.bind(a));case "webfonts_sync":return JB(a.g).then(function(){var a=this.g,b=a.o,c=b.Jb(),d=Yw();if(null==a.F){var e=a.o,f=new Pw(xB(a.j.kix),a.g,{}),g=e.Jb(),e=g?new Nw(g,e,EB(a),a.g):null,e=nh(e),e=new Sx(new Kx([Ox(e),f]),e,0,!0);a.F=new vw(new xw(d),e,new Ux);a.H=f}d=HB(a);f=new T;f.T(r(a.I,a,b,c));ih(d,f);return new SD(f)}.bind(a));case "auto_sync":return a.o.get().then(function(a){return OC(a).then(function(b){var c=WD(this,a,b);return new $B(this.j,a,c,b,this.A,
this.D)}.bind(this))}.bind(a));case "offline_binary_sync":return a.o.get().then(function(a){return new PD(this.j,a)}.bind(a));case "doc_deletion":return a.o.get().then(function(a){return new CC(this.j,a,IB(this.g),this.v)}.bind(a));case "update_unsaved_changes":return a.o.get().then(function(a){return new RD(a,this.j)}.bind(a));case "cleanup":return a.o.get().then(function(a){return new jC(a,IB(this.g))}.bind(a));default:throw Error("Cannot handle task type "+c);}}
function WD(a,b,c){var d=new kC(a.j,b,IB(a.g),a.B,a.H,c);return new EC(a.C,d,a.v,a.B,b,c)}TD.prototype.M=function(a){a.g==Rn&&(a=new Kq,C(a,1,4),this.I.send(a))};function XD(a,b){wD.call(this,b);this.v=a}v(XD,wD);XD.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function YD(a){this.g=new tD(a,Mq)}YD.prototype.send=function(a,b){return this.g.send(a,b).then(function(a){return B(a.message,1)?Hg(B(a.message,1)):a})};function ZD(a,b){this.g=a;this.v=null;this.o=new V(this);G(this,this.o);this.j=new YD(b);this.o.listen(this.g,"B",this.B)}v(ZD,F);ZD.prototype.start=function(a){this.v=a;m._docs_worker_handler_resolve(zn(this.g,this.A,this))};ZD.prototype.A=function(a){if(a&&a.data&&a.ports&&a.ports.length){var b=a.ports[0];a=new Dq(a.data);$D(this,a).then(function(a){return Pg(Lg(ng(this.g.o.C)).then(),function(){b.postMessage(vc(a))}.bind(this))}.bind(this))}};
function $D(a,b){var c=b.L(),d=new Eq;C(d,1,c);switch(c){case 0:return b=D(b,Fq,2),aE(a,b).then(function(a){E(d,2,a);return d});default:throw Error("Could not handle task request of type "+b.L());}}
function aE(a,b){var c=new Jq,d=B(b,1);a.g.j.executingTaskType=d||"";return UD(a.v,b).then(function(){C(c,1,0);return c}.bind(a),function(a){var b=this.g,d;a instanceof Error?d=a:(d=Error,a=q(a)?a:"with reason of type "+(a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a),d=d("Task execution failure "+a));jn(b,d);C(c,1,1);return c}.bind(a))}
ZD.prototype.B=function(a){var b=new Kq;C(b,1,6);var c=new Lq;C(c,1,a.error?a.error.message:"Unknown uncaught error in task.");E(b,3,c);Pg(Lg(ng(this.g.o.C)).then(),function(){return this.j.send(b)}.bind(this))};function bE(a,b,c){ZD.call(this,a,new XD(b,c))}v(bE,ZD);function cE(){var a=new sn(0,"offlineCommon",void 0,0,!0,0,!0),b=K(),c=wf(b,"buildLabel");Na(c)||(a.j["build-label"]=c);(c=m.applicationCache)&&(a.j.appCacheStatusOnLoad=c.status);"docs-dbsw"in b.g&&(b=uf(b,"docs-dbsw"),a.j.disabledSyncSharedWorker=b.toString());sa("navigator.serviceWorker.controller")?a.j.serviceWorkerControlled="true":a.j.serviceWorkerControlled="false";return a};(function(){var a=self,b=cE();zn(b,function(){function c(a){return new yq(a)}var d=new bE(b,a,3E4),e=d.j,f=new Sq(e),g=new Qq(e);ur(new tr(e)).then(function(a){a=new TD(b,a,c,e,f,g);d.start(a)})},{},!0)()})(); })()
